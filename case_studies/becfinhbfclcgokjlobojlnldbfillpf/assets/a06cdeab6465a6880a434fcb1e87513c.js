import{d as v,O as c,g as o,j as r,q as d,v as t,s as A,W as h,G as y,F as C,B as D,K as s,n as M,bM as P,ak as B}from"./71531b053591a96d81db2519a82aa248.js";import{H as x}from"./0f34bc84b746331fb6e6d1a17e2be5f1.js";import{c as N,d as H,A as W,P as j,b as z,_ as I,C as u}from"./f1cb0a108b35713614332c7c219352b8.js";import{P as S}from"./9b0452d10203824e603f78cd1241f42c.js";import"./17e6f969c69a33c57a5b808c30e97817.js";import{A as m}from"./f2694457f4424ded7029976ed34eac38.js";import"./d541e75e0d3013fe2efd3bb1a31c4a6b.js";import"./3f2064fa9a9acc842de50ad820610f4b.js";import"./7e56edcc34c4dfd4bce3410bed0529e6.js";import"./aca89d4ca34e8fbbc6f322cb34935489.js";import"./c12fd3596e1e986fac56d091ec67c779.js";import"./0db5daaf91bdd56249e9ae30e1c0fad3.js";import"./4bf0dc39263bec45ac08f22b6445195f.js";import"./bd5159ed1face2f59751ceb1d07e31f3.js";import"./9f935c62533cde17533373075512c98b.js";import"./22aa1f89111f8237764a195a86dc6791.js";import"./1c66977a9e497032052fc88de8dc0025.js";import"./2eb62d616ebc70b625c1907fb9b56bcb.js";import"./167eb5fb14130edc55e0208b299eb738.js";import"./e43206e4b2ef10bccecb7d9deb74b927.js";import"./39c3d8a964c661ab72f6d2e5dcdb0e9a.js";import"./0a9beade9558a5b904150914951edb50.js";import"./7694ab0a99e001fc6c4a0dff919c3a14.js";import"./c2c13b7def76f5768e17bc73b900b28e.js";import"./9cb1ced478fdea687c5b1bf07fa2b7a3.js";import"./83c6672847a35da18c7c6cd5f39ddc2c.js";import"./8f849a317394192d6541e23f7f7dff92.js";import"./8fd9dd871ac56148ba64599be5846cf8.js";import"./d90a1dadfd9d56c6157b026a43a3acf9.js";import"./be62c323ef7199eed02717bc155004ba.js";import"./dcbabf58cd14346bf8b00e4313a9ce1e.js";const V=v({name:"AgentPublish",extends:W,components:{AgentMarketplaceHeader:H,AgentMarketplaceFooter:N,PageHeaderWithBack:S},data:()=>({agents:[],activeDropdownAgentId:null,categoryCache:{}}),async mounted(){this.agents=await this.getAgents()},methods:{async getAgents(){let{data:t}=await j.search();if(console.log(t,"agentsResponse from Publisher.search"),t&&Array.isArray(t)){const a=await z.get(""),e=await Promise.all(t.map((async t=>{let e="N/A";return t.category_id&&(console.log(a,"categoryData from Categories.get"),a&&(e=a[t.category_id].title)),{...t,categoryName:e}})));return console.log(e,"agentsWithCategoryNames"),e}return[]},togglePublishDropdown(t){this.activeDropdownAgentId===t?this.activeDropdownAgentId=null:this.activeDropdownAgentId=t},publishAgent(t){this.navigateTo("agent_publish_details",{agentId:t._listkey}),this.activeDropdownAgentId=null}}}),$={class:"ait-flex ait-flex-col ait-min-h-screen"},F={class:"ait-flex-1 ait-overflow-y-auto ait-bg-gray-50 dark:ait-bg-[var(--ait-option-card-bg-color)] ait-text-gray-800 dark:ait-text-gray-200 ait-px-4 sm:ait-px-6 md:ait-px-8 lg:ait-px-12"},L={class:"ait-container ait-mx-auto ait-px-0 sm:ait-px-4 md:ait-px-6 lg:ait-px-8 xl:ait-px-48 ait-py-4 sm:ait-py-6 ait-mt-4 sm:ait-mt-6"},O={class:"ait-flex ait-space-x-2"},q={class:"ait-overflow-x-auto ait-bg-white dark:ait-bg-[var(--ait-switchbar-bg-color)] ait-shadow-md ait-rounded-lg"},E={class:"ait-min-w-full ait-divide-y ait-divide-gray-200 dark:ait-divide-gray-700"},T={class:"ait-bg-white dark:ait-bg-[var(--ait-switchbar-bg-color)] ait-divide-y ait-divide-gray-200 dark:ait-divide-gray-700"},R={class:"ait-px-6 ait-py-4 ait-whitespace-nowrap"},G={class:"ait-flex ait-items-center"},K={class:"ait-flex-shrink-0 ait-h-10 ait-w-10"},U={key:0,class:"ait-h-10 ait-w-10 ait-rounded-md ait-bg-green-500 ait-flex ait-items-center ait-justify-center ait-text-white ait-font-bold"},J=["src"],Q={key:2,class:"ait-h-10 ait-w-10 ait-rounded-md ait-bg-green-500 ait-flex ait-items-center ait-justify-center ait-text-white"},X={key:3,class:"ait-h-10 ait-w-10 ait-rounded-md ait-bg-green-500 ait-flex ait-items-center ait-justify-center ait-text-white"},Y={class:"ait-ml-4"},Z={class:"ait-text-sm ait-font-medium ait-text-gray-900 dark:ait-text-white"},tt={class:"ait-text-sm ait-text-gray-500 dark:ait-text-gray-400"},at={class:"ait-px-6 ait-py-4 ait-whitespace-nowrap ait-text-sm ait-text-gray-500 dark:ait-text-gray-400"},it={class:"ait-px-6 ait-py-4 ait-whitespace-nowrap"},et={class:"ait-inline-flex ait-items-center ait-px-2.5 ait-py-0.5 ait-rounded-full ait-text-xs ait-font-medium ait-bg-green-100 ait-text-green-800 dark:ait-bg-green-900 dark:ait-text-green-300"},st={class:"ait-px-6 ait-py-4 ait-whitespace-nowrap ait-text-sm ait-text-gray-500 dark:ait-text-gray-400"},ot={class:"ait-px-6 ait-py-4 ait-whitespace-nowrap ait-text-sm ait-text-gray-500 dark:ait-text-gray-400"},rt={class:"ait-px-6 ait-py-4 ait-whitespace-nowrap ait-text-sm ait-text-gray-500 dark:ait-text-gray-400"},nt={class:"ait-px-6 ait-py-4 ait-whitespace-nowrap ait-relative group"},ct={class:"ait-px-6 ait-py-4 ait-whitespace-nowrap ait-relative group"},dt=["onClick"],lt={key:0,class:"ait-absolute ait-right-0 ait-mt-2 ait-w-48 ait-bg-white dark:ait-bg-gray-800 ait-rounded-md ait-shadow-lg ait-z-10 ait-border ait-border-gray-200 dark:ait-border-gray-700"},pt={class:"ait-py-1"},gt=["onClick"],mt={key:0};function xt(a,e,i,n,l,g){const p=c("AgentMarketplaceHeader"),x=c("PageHeaderWithBack"),m=c("font-awesome-icon"),b=c("AgentMarketplaceFooter");return r(),o("div",$,[d(p),t("div",F,[t("main",L,[d(x,{title:"Items"},{actions:A((()=>[t("div",O,[t("button",{onClick:e[0]||(e[0]=t=>a.navigateTo("agent_create_marketplace")),class:"ait-px-4 ait-py-2 ait-bg-[--ait-tab-menu-active-bg-color] ait-text-white ait-rounded-md ait-flex ait-items-center hover:ait-bg-[--ait-tab-menu-active-bg-color] ait-text-sm"},e[1]||(e[1]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"ait-h-5 ait-w-5 ait-mr-1",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule":"evenodd"})],-1),h(" Create new agent ")]))])])),_:1}),t("div",q,[t("table",E,[e[5]||(e[5]=t("thead",{class:"ait-bg-gray-50 dark:ait-bg-neutral-700"},[t("tr",null,[t("th",{scope:"col",class:"ait-px-6 ait-py-3 ait-text-left ait-text-xs ait-font-medium ait-text-gray-500 dark:ait-text-gray-300 ait-uppercase ait-tracking-wider"}," Item "),t("th",{scope:"col",class:"ait-px-6 ait-py-3 ait-text-left ait-text-xs ait-font-medium ait-text-gray-500 dark:ait-text-gray-300 ait-uppercase ait-tracking-wider"}," Category "),t("th",{scope:"col",class:"ait-px-6 ait-py-3 ait-text-left ait-text-xs ait-font-medium ait-text-gray-500 dark:ait-text-gray-300 ait-uppercase ait-tracking-wider"}," Rating "),t("th",{scope:"col",class:"ait-px-6 ait-py-3 ait-text-left ait-text-xs ait-font-medium ait-text-gray-500 dark:ait-text-gray-300 ait-uppercase ait-tracking-wider"}," Users "),t("th",{scope:"col",class:"ait-px-6 ait-py-3 ait-text-left ait-text-xs ait-font-medium ait-text-gray-500 dark:ait-text-gray-300 ait-uppercase ait-tracking-wider"}," Created "),t("th",{scope:"col",class:"ait-px-6 ait-py-3 ait-text-left ait-text-xs ait-font-medium ait-text-gray-500 dark:ait-text-gray-300 ait-uppercase ait-tracking-wider"}," Last updated "),t("th",{scope:"col",class:"ait-px-6 ait-py-3 ait-text-left ait-text-xs ait-font-medium ait-text-gray-500 dark:ait-text-gray-300 ait-uppercase ait-tracking-wider"}," Status "),t("th",{scope:"col",class:"ait-px-6 ait-py-3 ait-text-left ait-text-xs ait-font-medium ait-text-gray-500 dark:ait-text-gray-300 ait-uppercase ait-tracking-wider"}," Actions ")])],-1)),t("tbody",T,[(r(!0),o(C,null,D(a.agents,(i=>(r(),o("tr",{key:i._listkey},[t("td",R,[t("div",G,[t("div",K,[i.icon?i.icon&&(i.icon.startsWith("http")||i.icon.startsWith("/"))?(r(),o("img",{key:1,src:i.icon,class:"ait-h-10 ait-w-10 ait-rounded-md",alt:"Agent icon"},null,8,J)):i.icon&&i.icon.startsWith("fa-")?(r(),o("div",Q,[d(m,{icon:i.icon,class:"ait-w-3 ait-h-3"},null,8,["icon"])])):(r(),o("div",X,s(i.icon),1)):(r(),o("div",U,s(i.title?i.title.charAt(0):"?"),1))]),t("div",Y,[t("div",Z,s(i.title),1),t("div",tt," Version "+s(i.version||"1.0.0"),1)])])]),t("td",at,s(i.categoryName||"Agent"),1),t("td",it,[t("span",et,[e[2]||(e[2]=t("svg",{class:"ait-mr-1 ait-h-3 ait-w-3 ait-text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),h(" "+s(i.rating||"0.0"),1)])]),t("td",st,s(i.users||"0"),1),t("td",ot,s(new Date(i.created_date).toLocaleDateString()),1),t("td",rt,s(new Date(i.updated_date).toLocaleDateString()),1),t("td",nt,[t("span",{class:M(["ait-px-2 ait-inline-flex ait-text-xs ait-leading-5 ait-font-semibold ait-rounded-full",{"ait-bg-green-100 ait-text-green-800 dark:ait-bg-green-900 dark:ait-text-green-300":"1"===i.is_confirmation,"ait-bg-yellow-100 ait-text-yellow-800 dark:ait-bg-yellow-900 dark:ait-text-yellow-300":"1"!==i.is_confirmation}])},s("1"===i.is_confirmation?"Published":"Draft"),3)]),t("td",ct,[t("button",{onClick:P((t=>a.togglePublishDropdown(i._listkey)),["stop"]),class:"ait-absolute ait-top-1/2 ait--translate-y-1/2 group-hover:ait-inline-flex ait-items-center ait-justify-center ait-p-1 ait-rounded hover:ait-bg-gray-200 dark:hover:ait-bg-gray-700",title:"Options"},e[3]||(e[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"ait-h-4 ait-w-4 ait-text-gray-500 dark:ait-text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})],-1)]),8,dt),a.activeDropdownAgentId===i._listkey?(r(),o("div",lt,[t("div",pt,[t("button",{onClick:t=>a.publishAgent(i),class:"ait-block ait-w-full ait-text-left ait-px-4 ait-py-2 ait-text-sm ait-text-gray-700 dark:ait-text-gray-200 hover:ait-bg-gray-100 dark:hover:ait-bg-gray-700"}," Publish request ",8,gt)])])):y("",!0)])])))),128)),0===a.agents.length?(r(),o("tr",mt,e[4]||(e[4]=[t("td",{colspan:"7",class:"ait-px-6 ait-py-4 ait-text-center ait-text-gray-500 dark:ait-text-gray-400"}," No agents found. Create a new agent to get started. ",-1)]))):y("",!0)])])])])]),d(b)])}const ht=I(V,[["render",xt]]);x.setSidebar(),x.addLoading();const l=B(ht,{type:"FullScreen"});if(Object.keys(u).forEach((t=>{l.component(t,u[t])})),window.aiVueApp=l,l.mount("#aitopia-full"),m){let t=Object.keys(m);t&&t.forEach((t=>{l.component(t,m[t])}))}let yt=null==document?void 0:document.querySelector("#aitopia-sidebar");x.resizeBorder(yt,440);