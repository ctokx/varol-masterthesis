import{d as _,O as g,g as r,j as n,q as c,v as i,K as e,bM as v,bJ as o,bB as d,bA as w,G as A,F as u,B as C,ak as D}from"./71531b053591a96d81db2519a82aa248.js";import{H as m}from"./0f34bc84b746331fb6e6d1a17e2be5f1.js";import{c as O,d as U,A as L,a as f,b as I,_ as P,C as y}from"./f1cb0a108b35713614332c7c219352b8.js";import{P as S}from"./9b0452d10203824e603f78cd1241f42c.js";import"./17e6f969c69a33c57a5b808c30e97817.js";import{A as p}from"./f2694457f4424ded7029976ed34eac38.js";import"./d541e75e0d3013fe2efd3bb1a31c4a6b.js";import"./3f2064fa9a9acc842de50ad820610f4b.js";import"./7e56edcc34c4dfd4bce3410bed0529e6.js";import"./aca89d4ca34e8fbbc6f322cb34935489.js";import"./c12fd3596e1e986fac56d091ec67c779.js";import"./0db5daaf91bdd56249e9ae30e1c0fad3.js";import"./4bf0dc39263bec45ac08f22b6445195f.js";import"./bd5159ed1face2f59751ceb1d07e31f3.js";import"./9f935c62533cde17533373075512c98b.js";import"./22aa1f89111f8237764a195a86dc6791.js";import"./1c66977a9e497032052fc88de8dc0025.js";import"./2eb62d616ebc70b625c1907fb9b56bcb.js";import"./167eb5fb14130edc55e0208b299eb738.js";import"./e43206e4b2ef10bccecb7d9deb74b927.js";import"./39c3d8a964c661ab72f6d2e5dcdb0e9a.js";import"./0a9beade9558a5b904150914951edb50.js";import"./7694ab0a99e001fc6c4a0dff919c3a14.js";import"./c2c13b7def76f5768e17bc73b900b28e.js";import"./9cb1ced478fdea687c5b1bf07fa2b7a3.js";import"./83c6672847a35da18c7c6cd5f39ddc2c.js";import"./8f849a317394192d6541e23f7f7dff92.js";import"./8fd9dd871ac56148ba64599be5846cf8.js";import"./d90a1dadfd9d56c6157b026a43a3acf9.js";import"./be62c323ef7199eed02717bc155004ba.js";import"./dcbabf58cd14346bf8b00e4313a9ce1e.js";const M=_({name:"AgentPublishDetails",extends:L,components:{AgentMarketplaceHeader:U,AgentMarketplaceFooter:O,PageHeaderWithBack:S},data:()=>({isLoading:!0,agentId:null,agentTitle:"",agentDescription:"",agentOverview:"",agentCategory:"Tools",briefDescription:"",agentCreditUsage:0,promoVideoUrl:"",uploadedIcon:null,uploadedScreenshots:[],uploadedAdditionalFiles:[],categoryOptions:[]}),async mounted(){await this.fetchCategories();const t=new URLSearchParams(window.location.search).get("id");t?(this.agentId=t,await this.fetchAgentDetails()):(console.error("Agent ID not found in URL query parameters (e.g., ?id=YOUR_AGENT_ID)."),this.isLoading=!1)},methods:{async fetchAgentDetails(){if(this.agentId){this.isLoading=!0;try{const t=await f.get(this.agentId);t?(console.log(t,"agentData"),this.agentTitle=t.title||"",this.agentDescription=t.detail||"",this.briefDescription=t.short_description||"",this.agentOverview=t.overview||"",this.agentCategory=t.category_id||"Tools",this.agentCreditUsage=t.credit_usage||0,this.agentShareType=t.share_type||"Private"):console.error("Agent data not found for ID:",this.agentId)}catch(t){console.error("Error fetching agent details:",t)}finally{this.isLoading=!1}}},async fetchCategories(){var t;this.isLoading=!0;try{let{data:a}=await I.search();this.categoryOptions=a||[],console.log(this.categoryOptions,"categoryOptions"),this.categoryOptions.length>0&&!this.categoryOptions.find((t=>t.title===this.agentCategory))||this.categoryOptions.length>0&&!this.agentCategory&&(this.agentCategory=null==(t=this.categoryOptions[0])?void 0:t.title)}catch(a){console.error("Error fetching categories:",a),this.categoryOptions=[]}finally{this.isLoading=!1}},async handleSubmit(){if(this.agentId)try{this.isLoading=!0;const t=await f.update(this.agentId,this.agentTitle,this.agentDescription,null,null,null,this.agentShareType,null,null,null,this.agentOverview,this.agentCategory,this.briefDescription)}catch(t){console.error("Error updating agent:",t)}finally{this.isLoading=!1}else console.error("Agent ID is missing, cannot update.")},handleIconChange(t){const a=t.target;a.files&&a.files[0]&&(this.uploadedIcon=a.files[0],console.log("Icon selected:",this.uploadedIcon))},handleScreenshotsChange(t){const a=t.target;a.files&&(this.uploadedScreenshots=Array.from(a.files),console.log("Screenshots selected:",this.uploadedScreenshots))},handleAdditionalFilesChange(t){const a=t.target;a.files&&(this.uploadedAdditionalFiles=Array.from(a.files),console.log("Additional files selected:",this.uploadedAdditionalFiles))},createObjectURL:t=>t instanceof File?URL.createObjectURL(t):""}}),V={class:"ait-block ait-overflow-y-auto ait-bg-gray-50 dark:ait-bg-[var(--ait-option-card-bg-color)] ait-text-gray-800 dark:ait-text-gray-200 ait-px-4 sm:ait-px-6 md:ait-px-8 lg:ait-px-12"},T={key:0,class:"ait-flex ait-justify-center ait-items-center ait-h-screen"},B={class:"ait-ml-4 ait-text-gray-600 dark:ait-text-gray-400"},F={key:1,class:"ait-container ait-mx-auto ait-px-0 sm:ait-px-4 md:ait-px-6 lg:ait-px-8 xl:ait-px-48 ait-py-4 sm:ait-py-6 ait-mt-4 sm:ait-mt-6"},j={class:"ait-border-b ait-border-gray-900/10 dark:ait-border-white/10 ait-pb-12"},q={class:"ait-text-base ait-font-semibold ait-leading-7 ait-text-gray-900 dark:ait-text-white"},H={class:"ait-mt-1 ait-text-sm ait-leading-6 ait-text-gray-600 dark:ait-text-gray-400"},z={class:"ait-mt-10 ait-grid ait-grid-cols-1 ait-gap-y-8 ait-gap-x-6 sm:ait-grid-cols-6"},E={class:"sm:ait-col-span-4"},R={for:"agent-title",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},N={class:"ait-mt-2"},G={class:"sm:ait-col-span-2"},W={class:"ait-mt-2"},$={key:0,disabled:"",value:""},J=["value"],Y={class:"sm:ait-col-span-full"},Z={for:"agent-description",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},K={class:"ait-mt-2"},X={class:"ait-mt-2 ait-text-sm ait-text-gray-600 dark:ait-text-gray-400"},Q={class:"sm:ait-col-span-full"},tt={for:"agent-overview",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},it={class:"ait-mt-2"},at={class:"sm:ait-col-span-full"},et={for:"agent-overview",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},st={class:"ait-mt-2"},ot={class:"ait-mt-2 ait-text-sm ait-text-gray-600 dark:ait-text-gray-400"},rt={class:"sm:ait-col-span-2"},nt={for:"agent-credit-usage",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},dt={class:"ait-mt-2"},lt={class:"ait-border-b ait-border-gray-900/10 dark:ait-border-white/10 ait-pb-12"},gt={class:"ait-text-base ait-font-semibold ait-leading-7 ait-text-gray-900 dark:ait-text-white"},ct={class:"ait-mt-1 ait-text-sm ait-leading-6 ait-text-gray-600 dark:ait-text-gray-400"},pt={class:"ait-mt-10 ait-grid ait-grid-cols-1 ait-gap-y-8 ait-gap-x-6 sm:ait-grid-cols-6"},mt={class:"sm:ait-col-span-4"},ht={for:"promo-video",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},ut={class:"ait-mt-2"},ft={class:"ait-mt-2 ait-text-sm ait-leading-6 ait-text-gray-600 dark:ait-text-gray-400"},yt={class:"sm:ait-col-span-full"},bt={for:"screenshots-cover-photo",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},kt={class:"ait-mt-2 ait-flex ait-justify-center ait-rounded-lg ait-border ait-border-dashed ait-border-gray-900/25 dark:ait-border-white/25 ait-px-6 ait-py-10"},xt={class:"ait-text-center"},_t={class:"ait-mt-4 ait-flex ait-text-sm ait-leading-6 ait-text-gray-600 dark:ait-text-gray-400"},vt={for:"screenshots-upload",class:"ait-relative ait-cursor-pointer ait-rounded-md ait-bg-white dark:ait-bg-transparent ait-font-semibold ait-text-indigo-600 dark:ait-text-indigo-400 focus-within:ait-outline-none focus-within:ait-ring-2 focus-within:ait-ring-indigo-600 focus-within:ait-ring-offset-2 dark:focus-within:ait-ring-offset-gray-900 hover:ait-text-indigo-500"},wt={class:"ait-pl-1"},At={class:"ait-text-xs ait-leading-5 ait-text-gray-600 dark:ait-text-gray-400"},Ct={class:"ait-text-xs ait-leading-5 ait-text-gray-600 dark:ait-text-gray-400"},Dt={class:"sm:ait-col-span-full"},Ot={for:"additional-files-upload",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},Ut={class:"ait-mt-2 ait-flex ait-justify-center ait-rounded-lg ait-border ait-border-dashed ait-border-gray-900/25 dark:ait-border-white/25 ait-px-6 ait-py-10"},Lt={class:"ait-text-center"},It={class:"ait-mt-4 ait-flex ait-text-sm ait-leading-6 ait-text-gray-600 dark:ait-text-gray-400"},Pt={for:"additional-files-upload",class:"ait-relative ait-cursor-pointer ait-rounded-md ait-bg-white dark:ait-bg-transparent ait-font-semibold ait-text-indigo-600 dark:ait-text-indigo-400 focus-within:ait-outline-none focus-within:ait-ring-2 focus-within:ait-ring-indigo-600 focus-within:ait-ring-offset-2 dark:focus-within:ait-ring-offset-gray-900 hover:ait-text-indigo-500"},St={class:"ait-pl-1"},Mt={class:"ait-text-xs ait-leading-5 ait-text-gray-600 dark:ait-text-gray-400"},Vt={class:"ait-mt-6 ait-flex ait-items-center ait-justify-end ait-gap-x-6 ait-pb-12"},Tt={type:"submit",class:"ait-rounded-md ait-bg-[--ait-tab-menu-active-bg-color] ait-px-3 ait-py-2 ait-text-sm ait-font-semibold ait-text-white ait-shadow-sm hover:ait-opacity-90 focus-visible:ait-outline focus-visible:ait-outline-2 focus-visible:ait-outline-offset-2 focus-visible:ait-outline-indigo-600"};function Bt(t,a,s,l,m,p){const f=g("AgentMarketplaceHeader"),h=g("PageHeaderWithBack"),b=g("AgentMarketplaceFooter");return n(),r(u,null,[c(f),i("div",V,[t.isLoading?(n(),r("div",T,[a[11]||(a[11]=i("div",{class:"ait-inline-block ait-animate-spin ait-rounded-full ait-border-4 ait-border-solid ait-border-gray-300 ait-border-t-blue-600 ait-h-12 ait-w-12"},null,-1)),i("p",B,e(t.__("Loading agent details...")),1)])):(n(),r("main",F,[c(h,{title:"Publish Agent Details"}),i("form",{onSubmit:a[10]||(a[10]=v(((...a)=>t.handleSubmit&&t.handleSubmit(...a)),["prevent"])),class:"ait-space-y-12"},[i("div",j,[i("h2",q,e(t.__("Basic Information")),1),i("p",H,e(t.__("Provide the core details for your agent listing.")),1),i("div",z,[i("div",E,[i("label",R,e(t.__("Agent Title *")),1),i("div",N,[o(i("input",{type:"text",name:"agent-title",id:"agent-title","onUpdate:modelValue":a[0]||(a[0]=a=>t.agentTitle=a),required:"",class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 placeholder:ait-text-gray-400 dark:placeholder:ait-text-gray-500 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},null,512),[[d,t.agentTitle]])])]),i("div",G,[a[12]||(a[12]=i("label",{for:"agent-category",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},"Category *",-1)),i("div",W,[o(i("select",{id:"agent-category",name:"agent-category",required:"","onUpdate:modelValue":a[1]||(a[1]=a=>t.agentCategory=a),class:"ait-block ait-w-full ait-rounded-md ait-border ait-border-transparent ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},[0===t.categoryOptions.length?(n(),r("option",$,e(t.__("Loading categories...")),1)):A("",!0),(n(!0),r(u,null,C(t.categoryOptions,(t=>(n(),r("option",{key:t._listkey||t.title,value:t._listkey},e(t.title),9,J)))),128))],512),[[w,t.agentCategory]])])]),i("div",Y,[i("label",Z,e(t.__("Agent Description *")),1),i("div",K,[o(i("textarea",{id:"agent-description",name:"agent-description",rows:"3","onUpdate:modelValue":a[2]||(a[2]=a=>t.agentDescription=a),required:"",class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 placeholder:ait-text-gray-400 dark:placeholder:ait-text-gray-500 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},null,512),[[d,t.agentDescription]])]),i("p",X,e(t.__("Write a short description for your agent.")),1)]),i("div",Q,[i("label",tt,e(t.__("Brief Description")),1),i("div",it,[o(i("textarea",{id:"agent-overview",name:"agent-overview",rows:"5","onUpdate:modelValue":a[3]||(a[3]=a=>t.briefDescription=a),class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 placeholder:ait-text-gray-400 dark:placeholder:ait-text-gray-500 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},null,512),[[d,t.briefDescription]])])]),i("div",at,[i("label",et,e(t.__("Agent Overview")),1),i("div",st,[o(i("textarea",{id:"agent-overview",name:"agent-overview",rows:"5","onUpdate:modelValue":a[4]||(a[4]=a=>t.agentOverview=a),class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 placeholder:ait-text-gray-400 dark:placeholder:ait-text-gray-500 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},null,512),[[d,t.agentOverview]])]),i("p",ot,e(t.__("Provide a more detailed overview of your agent's capabilities and features.")),1)]),i("div",rt,[i("label",nt,e(t.__("Credit Usage per chat message")),1),i("div",dt,[o(i("input",{type:"number",name:"agent-credit-usage",id:"agent-credit-usage","onUpdate:modelValue":a[5]||(a[5]=a=>t.agentCreditUsage=a),readonly:"",class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-gray-100 dark:ait-bg-white/5 dark:ait-text-gray-400"},null,512),[[d,t.agentCreditUsage]])])])])]),i("div",lt,[i("h2",gt,e(t.__("Localized Assets (Optional)")),1),i("p",ct,e(t.__("Provide assets specific to different languages or regions if needed.")),1),i("div",pt,[i("div",mt,[i("label",ht,e(t.__("Localized promo video")),1),i("div",ut,[o(i("input",{type:"url",name:"promo-video",id:"promo-video","onUpdate:modelValue":a[6]||(a[6]=a=>t.promoVideoUrl=a),placeholder:"https://www.youtube.com/watch?v=...",class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 placeholder:ait-text-gray-400 dark:placeholder:ait-text-gray-500 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},null,512),[[d,t.promoVideoUrl]])]),i("p",ft,e(t.__("Enter a YouTube video URL.")),1)]),i("div",yt,[i("label",bt,e(t.__("Localized screenshots")),1),i("div",kt,[i("div",xt,[a[13]||(a[13]=i("svg",{class:"ait-mx-auto ait-h-12 ait-w-12 ait-text-gray-300 dark:ait-text-gray-500",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[i("path",{"fill-rule":"evenodd",d:"M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z","clip-rule":"evenodd"})],-1)),i("div",_t,[i("label",vt,[i("span",null,e(t.__("Upload files")),1),i("input",{id:"screenshots-upload",name:"screenshots-upload",type:"file",multiple:"",accept:"image/png, image/jpeg",onChange:a[7]||(a[7]=(...a)=>t.handleScreenshotsChange&&t.handleScreenshotsChange(...a)),class:"ait-sr-only"},null,32)]),i("p",wt,e(t.__("or drag and drop")),1)]),i("p",At,e(t.__("PNG, JPG up to 5MB each. Max 5 images.")),1),i("p",Ct,e(t.__("1280x800 or 640x400. At least one required.")),1)])])]),i("div",Dt,[i("label",Ot,e(t.__("Agent Files")),1),i("div",Ut,[i("div",Lt,[a[14]||(a[14]=i("svg",{class:"ait-mx-auto ait-h-12 ait-w-12 ait-text-gray-300 dark:ait-text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})],-1)),i("div",It,[i("label",Pt,[i("span",null,e(t.__("Upload files")),1),i("input",{id:"additional-files-upload",name:"additional-files-upload",type:"file",multiple:"",onChange:a[8]||(a[8]=(...a)=>t.handleAdditionalFilesChange&&t.handleAdditionalFilesChange(...a)),class:"ait-sr-only",accept:".zip,.pdf,.txt,.md"},null,32)]),i("p",St,e(t.__("or drag and drop")),1)]),i("p",Mt,e(t.__("e.g., ZIP, PDF, TXT, MD up to 10MB each.")),1)])])])])]),i("div",Vt,[i("button",{type:"button",onClick:a[9]||(a[9]=()=>t.navigateTo("agents")),class:"ait-text-sm ait-font-semibold ait-leading-6 ait-text-gray-900 dark:ait-text-white"},e(t.__("Cancel")),1),i("button",Tt,e(t.__("Request Publish")),1)])],32)])),c(b)])],64)}const Ft=P(M,[["render",Bt]]);m.setSidebar(),m.addLoading();const l=D(Ft,{type:"FullScreen"});if(Object.keys(y).forEach((t=>{l.component(t,y[t])})),window.aiVueApp=l,l.mount("#aitopia-full"),p){let t=Object.keys(p);t&&t.forEach((t=>{l.component(t,p[t])}))}let jt=null==document?void 0:document.querySelector("#aitopia-sidebar");m.resizeBorder(jt,440);