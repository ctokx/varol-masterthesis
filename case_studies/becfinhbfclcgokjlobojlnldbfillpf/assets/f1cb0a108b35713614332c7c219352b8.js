import{c as V,H as f,A as pt,B as se,S as W,a as pa,R as ga,E as Rt}from"./0f34bc84b746331fb6e6d1a17e2be5f1.js";import{d as fa}from"./17e6f969c69a33c57a5b808c30e97817.js";import{M as ma,m as ui}from"./c12fd3596e1e986fac56d091ec67c779.js";import{m as _a}from"./0db5daaf91bdd56249e9ae30e1c0fad3.js";import{H as Je}from"./4bf0dc39263bec45ac08f22b6445195f.js";import{u as va,r as ba}from"./7694ab0a99e001fc6c4a0dff919c3a14.js";import{c as wa}from"./c2c13b7def76f5768e17bc73b900b28e.js";import{d as rt,O as y,g as r,j as o,q as b,G as _,v as i,I as E,n as $,C as Q,s as D,F as L,c as lt,K as d,B,ap as Vt,W as U,bM as J,T as Ct,l as ft,bJ as F,bC as Gt,k as Kt,by as Me,bB as tt,bz as le,bA as oe,bx as hi,V as pi,a3 as gi,aa as _t,bK as ti,a7 as re,Q as ya,r as G,o as de,w as It,z as ei,e as fi,D as xa,X as ka}from"./71531b053591a96d81db2519a82aa248.js";import{p as mi}from"./9cb1ced478fdea687c5b1bf07fa2b7a3.js";import{F as Te,l as _i,f as Ca,a as $a,b as La,c as Sa,d as Ma,e as Ta,g as Ha,h as Aa,i as Pa,j as Ia,k as Ua,m as Ea,n as ja,o as Ra,p as Ba,q as Da,r as Oa,s as za,t as Va,u as Fa,v as qa,w as Na,x as Za,y as Wa,z as Ga,A as Ka,B as Ya,C as Qa,D as Xa,E as Ja,G as ts,H as es,I as is,J as as,K as ss,L as os,M as ns,N as ls,O as rs,P as ds,Q as cs,R as us,S as hs,T as ps,U as gs,V as fs,W as ms,X as _s,Y as vs,Z as bs,_ as ws,$ as ys,a0 as xs,a1 as ks,a2 as Cs,a3 as $s,a4 as Ls,a5 as Ss,a6 as Ms,a7 as Ts,a8 as Hs,a9 as As,aa as Ps,ab as Is,ac as Us,ad as Es,ae as js,af as Rs,ag as Bs,ah as Ds,ai as Os,aj as zs,ak as Vs,al as Fs,am as qs,an as Ns,ao as Zs,ap as Ws,aq as Gs,ar as Ks,as as Ys,at as Qs,au as Xs,av as Js}from"./9f935c62533cde17533373075512c98b.js";import{P as ii,_ as ai,a as to}from"./83c6672847a35da18c7c6cd5f39ddc2c.js";import{y as eo,G as io,j as ao,x as so,m as oo,p as no,a as lo,I as ro}from"./8f849a317394192d6541e23f7f7dff92.js";const He={ai_extra_key:null,last_value:null,listener_set:!1,this_url:null,debounceTimeout:null,pendingUpdates:new Map,debounce(t,e){let a;return(...l)=>{clearTimeout(a),a=setTimeout(()=>t.apply(this,l),e)}},async processPendingUpdates(t,e){if(!this.pendingUpdates.has(e))return;const a=this.pendingUpdates.get(e);this.pendingUpdates.delete(e),!(!a||!a.length)&&(t["ai_single_"+e]=a[a.length-1],t.$forceUpdate&&t.$forceUpdate())},queueUpdate(t,e,a){this.pendingUpdates.has(e)||this.pendingUpdates.set(e,[]);const l=this.pendingUpdates.get(e);l&&(l.push(a),this.debounce(()=>this.processPendingUpdates(t,e),150)())},build(t,e,a,l=V.ai_default_model,n=null,s=null,u={},c=!1,p=null){let m=f.SHA1(e);if(c==!0&&(m=e),typeof e=="string"&&e.indexOf('"')===-1&&e.indexOf("'")===-1&&document.querySelector(`[data-key="${e}"]`)!=null&&(m=e),typeof a>"u")return f.emptyResolve();if(a==null&&n!=null&&n!=!0&&(a=""),a==null)return f.emptyResolve();u==null&&(u={}),Object.keys(u).length>0&&(t.prompt_settings=Object.assign(t.prompt_settings,u)),n!=null&&n!=!0&&(t.prompt_settings&&Object.keys(t.prompt_settings).length>0&&(n.indexOf("${selection}")==-1?n+=" ${selection}":n=n.replace(/\${selection}/g,a),Object.keys(t.prompt_settings).forEach(v=>{let g=t.prompt_settings[v];if(v.indexOf("-_-")!==-1){let C=v.split("-_-"),S=C[1].toString().split("_")[0];(e==S||p==S&&p!==null)&&(v=C[0])}g=g.replace(/_/g," ").toCapitalizeCase();let w=new RegExp("\\${"+v+"}","g");if(g===null||g==""||g=="--"){let C=new RegExp("\\${\\$if "+v+"}(.*)\\${\\$end "+v+"}","g");n=n.replace(C,"")}else{let C=new RegExp("\\${\\$(if|end) "+v+"}","g");n=n.replace(C,"")}n=n.replace(w,g)})),a=n.replace(/\${selection}/g,a).replace(/\${input}/g,a).replace(/\${value}/g,a).replace(/\${lang}/g,f.notUndefined(t.settings,"language_name")??""));var h=new Date;return h.setMinutes(h.getMinutes()+1440),f.Browser().storage.local.get("expires").then(v=>{v=v.expires??{},v["ai_single_"+m]=h.getTime().toString().slice(0,10),f.Browser().storage.local.set({expires:v}).then()}),this.queueUpdate(t,m,{}),t.changeStorage("settings.web_access",!1,!1),pt.instance==null&&(pt.instance=t),this.ai_extra_key=m,V.debugMode&&console.log(a),t.aiChat(a,l,"ai_single",m,!0,!0,s,!1,u)}},Yt={ai_extra_key:null,last_value:null,listener_set:!1,this_url:null,build(t,e,a,l=null,n=null,s=null,u={}){let c=f.SHA1(e),p=n!=null;document.querySelector(`[data-key="${e}"]`)!=null&&(c=e),(a==null||typeof a>"u")&&(a=""),n!=null&&n!=!0&&(Object.keys(t.prompt_settings).length>0?(Object.keys(t.prompt_settings).forEach(h=>{let v=t.prompt_settings[h];if(h.indexOf("-_-")!==-1){let w=h.split("-_-"),C=w[1].toString().split("_")[0];e==C&&(h=w[0])}v=v.replace(/_/g," ").toCapitalizeCase();let g=new RegExp("\\${"+h+"}","g");n=n.replace(g,v)}),a=n):a=n.replace(/\${selection}/g,a).replace(/\${input}/g,a).replace(/\${value}/g,a)),this.ai_extra_key=c;let m={};return Object.keys(t.image_settings).forEach(h=>{t.image_settings[h]!=null&&(m[h]=t.image_settings[h])}),Object.keys(u).length>0&&Object.keys(u).forEach(h=>{u[h]!=null&&(m[h]=u[h]),h=="prompt_mode"&&(p=u[h])}),t.changeStorage("settings.web_access",!1,!1),f.notUndefined(t.image_settings,"action")&&(s=f.notUndefined(t.image_editing,`${t.image_settings.action}.name`),m.action=f.notUndefined(t.image_settings,"action"),t.changeStorage("image_settings.action",null),t.changeStorage("image_settings.image",null)),V.debugMode&&console.log(a,m),t.aiChat(a,l,"ai_single",c,!1,p,s,!1,m)}},co={filter_val:"",group_models:[],build_models:[],is_show:!1,fake_text:"",key_start:null,key_end:null,check:!1,default_input:'.aitopia [name="ask"]',manuel_run:!1,event_set:!1,build(t){document.querySelector('.aitopia [name="ask"]')&&document.querySelector('.aitopia [name="ask"]').addEventListener("input",e=>{this.manuel_run=!1,this.change(e,t)})},change(t=null,e=null){let a=document.querySelector(this.default_input),l=document.querySelector(".ait-group-model-dropdown"),n=f.notUndefined(a,"value")??"";if((n.indexOf("@")==-1||this.group_models.length==n.split("@").length-1)&&(this.is_show=!1,this.key_start=null),t&&((this.group_models.length==0&&n.indexOf("@")!==-1||this.build_models.length==0)&&typeof e.ai_type_models<"u"&&Object.keys(e.ai_type_models).forEach(s=>{let u=f.sortValueLength(Object.values(e.ai_type_models[s])),c=this.setAiModelsAndTextClear(Object.values(e.ai_type_models[s]),n);c.models,this.build_models=[...this.build_models,...u],c.text.trim()}),this.key_end=t.target.selectionEnd,this.actionPosition(n,this.key_start),t.data&&t.data.toString().trim()=="@")){this.filter_val="",this.key_start=t.target.selectionStart,this.key_end=t.target.selectionEnd;let s=n.substring(this.key_start-2,this.key_start-1);(s==" "||s=="")&&(this.actionPosition(n,this.key_start),this.is_show=!0)}if(this.is_show){l.classList.remove("ait-hide"),l.classList.add("ait-show"),this.listenerKeyPress();const{lineHeight:s,paddingRight:u}=getComputedStyle(a),{offsetLeft:c,offsetTop:p,offsetHeight:m,offsetWidth:h,scrollLeft:v,scrollTop:g,selectionEnd:w}=a,{x:C,y:S}=this.getCursorXY(a,w),A=Math.min(C-v,c+h-parseInt(u,10))+10,x=Math.min(S-g,p+m-parseInt(s,10))+-5-l.clientHeight;l.style.top=x+"px",l.style.left=A+"px"}else l.classList.remove("ait-show"),l.classList.add("ait-hide"),this.listenerKeyPress(!0);if(t){let s=a.value;(s==""||s==null)&&(this.group_models=[]),this.build_models.forEach(c=>{typeof c.model_id<"u"&&(c=c.model_id),s=s.replace(new RegExp("@"+c,"g"),"@"+c.replace(/ /g,"__"))});let u=s.split("@");u.forEach((c,p)=>{let m=c.split(" ")[0];m&&(m=m.replace(/__/g," "),this.build_models.indexOf(m)!==-1&&(u.push(m),this.group_models.indexOf(m)===-1&&this.build_models&&this.group_models.push(m)))}),this.group_models.forEach((c,p)=>{u.indexOf(c)===-1&&(this.group_models.splice(p,1),this.group_models=Object.values(this.group_models))})}this.check=!1,this.group_models.length>0&&(this.check=!0)},addModel(t,e){if(this.group_models.indexOf(e)===-1){const{start:a,end:l,text:n}=this.actionPosition(t.ai_ask,this.key_start,this.key_end,e);t.ai_ask=n,this.filter_val="",this.key_start=null,this.key_end=null,this.is_show=!1,this.group_models.push(e),this.change(null,t)}},listenerKeyPress(t=!1){document.querySelector('.aitopia [name="ask"]')!==null&&(!t&&this.event_set!==!0?(this.event_set=!0,document.addEventListener("keydown",this.keyPressAction)):this.event_set!=!1&&t&&(this.event_set=!1,document.removeEventListener("keydown",this.keyPressAction)))},keyPressAction(t){let e=document.querySelector(".ait-group-model-dropdown");if(e!==null){let a=()=>{e.querySelectorAll(".ait-group-model.active").forEach(s=>{s.classList.remove("active")})},l=(s="down")=>{e.querySelectorAll(".ait-group-model").length;let u=1,c=0;if(e.querySelectorAll(".ait-group-model").forEach((p,m)=>{c++,p.classList.contains("active")&&(s=="down"?u=c+1:u=c-1)}),s=="down"){u>e.querySelectorAll(".ait-group-model").length&&(u=1),a(),e.querySelector(".ait-group-model:nth-child("+u+")").classList.add("active");return}else{u<1&&(u=e.querySelectorAll(".ait-group-model").length),a(),e.querySelector(".ait-group-model:nth-child("+u+")").classList.add("active");return}},n=!1;if(t.keyCode==40)l("down"),e.querySelector(".active")==null&&a(),n=!0;else if(t.keyCode==38)n=!0,l("up");else if(t.keyCode==13){n=!0;let s=e.querySelector(".ait-group-model.active");s!==null&&s.dispatchEvent(new Event("click"))}n&&(t.preventDefault(),t.stopPropagation())}},getCursorXY(t,e){const{offsetLeft:a,offsetTop:l}=t,n=document.createElement("div"),s=getComputedStyle(t);for(const g of s)n.style[g]=s[g];const c=t.tagName==="INPUT"?t.value.replace(/ /g,"."):t.value,p=c.substr(0,e);n.textContent=p,t.tagName==="TEXTAREA"&&(n.style.height="auto"),t.tagName==="INPUT"&&(n.style.width="auto");const m=document.createElement("span");m.textContent=c.substr(e)||".",n.appendChild(m),document.body.appendChild(n);const{offsetLeft:h,offsetTop:v}=m;return document.body.removeChild(n),{x:a+h,y:l+v}},actionPosition(t,e=null,a=null,l=""){return a==null&&(a=this.key_end??t.toString().length),a==null&&(a=t.toString().length),e==null&&(e=this.key_start??0),e==null&&(e=0),this.fake_text=t,this.group_models.forEach(n=>{this.fake_text=this.fake_text.replace(new RegExp("@"+n,"g"),"@"+n.replace(/ /g,"-"))}),t.substring(e,a),this.filter_val=t.substring(e,a),t=t.substring(0,e)+l+" "+t.substring(a+1,t.length).replace("@"+this.filter_val,""),{start:e,end:a,text:t}},setAiModelsAndTextClear(t=[],e=""){if(t==null||e==null)return{models:t,text:e};t=f.sortValueLength(Object.values(t));let a=e,l=e.replace(/ /g,"").split("@"),n={};return Object.values(t).forEach(s=>{if(s){typeof s.model_id<"u"&&(s=s.model_id),typeof s.model_id<"u"&&console.log("as");let u="@"+s.replace(/ /g,"__")+"#";if(a=a.replace(new RegExp("@"+s,"g"),u),a.indexOf(u)!==-1){let c=l.indexOf(s.replace(/ /g,""));n[c]=s,a=a.replace(new RegExp(u,"g"),"")}}}),this.group_models=Object.values(f.sortObjectKeys(n)),t=this.group_models,this.group_models.length>0&&(this.check=!0),e=a??"",{models:t,text:e.trim()}},chatBuilder(t,e){let a=[];if(this.build_models.length>0){let l=this.setAiModelsAndTextClear(this.build_models,e);a=l.models,e=l.text.trim()}else{let l=this.setAiModelsAndTextClear(this.group_models,e);a=l.models,e=l.text.trim()}return{models:a,text:e}},addGroupChat(t=null){if(t==null&&(t=this.default_input),typeof t=="string"&&(t=document.querySelector(t)),t){t.focus();let e="@";t.value.length>0&&(e=" "+e),document&&document.execCommand("insertText",!1,e)}}};class uo{marked;count;yt_element;yt_data;try_inject;yt_is_show;App;yt_extra_key;yt_extra_keys;prompt_content;yt_is_empty;yt_empty_message;constructor(){this.yt_element="ytd-app #columns #secondary",this.try_inject=0,this.yt_is_empty=this.yt_is_show=!1,this.yt_data={}}prompt(e){if(typeof this.prompt_content<"u"&&this.prompt_content!==null&&this.prompt_content.length>0)return this.prompt_content+e;let a=`Please review the video script below and provide a summary. Summary as the title. Also, combine the relevant paragraphs, taking into account the timestamps, and give only the list in the table, with the seconds first. Write Highlights as the title for this list. Give the summary first, then the table as the order

`,l={};return a="Respond in the "+(this.App.settings.language_name??"English")+` language.You are a YouTube video analysis assistant. Your task is to summarize the content of the video and generate a summary includes highlights with key moments and topics discussed in the video. Follow these steps to execute the task:

1. Analyze the video content:
   Review the video content provided in the webpage. Identify the main themes, topics, and key moments that are discussed throughout the video.
  2. Create a summary:
   Write a concise summary of the video, capturing the essence of the content in 3-5 sentences. Focus on the main points and any significant conclusions drawn in the video.

3. Identify highlights:
   `+"List key moments in the video that are particularly noteworthy as a list in the table. For each highlight, give the timestamp second first and next to it provide a brief description of what happens in that timestamp second and why it is significant. Do not change the second format or value, Do NOT convert to seconds to hours format, just give it as second. Aim for 5-10 highlights."+`

4. Format the response:
   Organize the summary and highlights into a visually appealing sidebar format. Include headings for 'Summary' and 'Highlights', and ensure that the highlights are easy to read and navigate.

5. Output the results:
   Present the summary and highlights in a clear and structured manner, ready to be displayed next to the video.

Notes:
- Ensure that the summary is informative and engaging, encouraging viewers to watch the video.
- The highlights should be specific and provide enough context for viewers to understand the significance of each moment.
- Avoid including any personal opinions or unnecessary commentary; focus solely on the content of the video.

Video content: {{web_content}}

`,l.summary=a.replace(/\{\{web_content\}\}/g,e),l}async build(e){if(this.App=e,this.yt_empty_message=f.__("Summarization is available for the videos with subtitles."),window.location.hostname.indexOf("youtube")===-1||e.settings.youtube==!1)return;this.yt_data=await f.getYtSummarize(),setTimeout(()=>this.htmlInject(),200);let a=this;window.addEventListener("yt-page-data-updated",async function(){a.rebuild(a)});let l=new URLSearchParams(window.location.search);this.yt_extra_key=f.SHA1(l.get("v"))}async rebuild(e){let a=new URLSearchParams(window.location.search),l=f.SHA1(a.get("v"));e.yt_extra_key!=l&&(e.yt_extra_keys=[],e.yt_extra_key=l,e.yt_element="ytd-app #columns #secondary",e.try_inject=0,e.yt_is_show=!1,e.yt_data={},e.prompt_content=null,await fetch(window.location.href).then(n=>n.text()).then(async n=>{await n.match(/<script[\s\S]*?>[\s\S]*?<\/script>/gi).forEach(async u=>{if(u.indexOf("var ytInitialPlayerResponse")!==-1){let c=[...u.matchAll(/<script[\s\S]*>var ytInitialPlayerResponse = (.*?)<\/script>/g)][0]??[];if(typeof c[1]<"u"&&c[1]!=null){let p=c[1].toString();c=JSON.parse(p.match("{.*:{.*:.*}}")[0]),window.ytInitialPlayerResponse=c,e.build(e.App)}}})}))}async run(e=null){let a=!1,l=this.yt_data;if(typeof l<"u"&&l!==null&&typeof this.yt_data.content<"u"&&this.yt_data.content!==null&&(a=!0),a==!0){this.yt_is_empty=!1;let n=this.prompt(l.content);await Object.keys(n).forEach(async s=>{let u=n[s],c=this.yt_extra_key+"_"+s;typeof this.yt_extra_keys>"u"&&(this.yt_extra_keys=[]),this.yt_extra_keys.indexOf(c)===-1&&this.yt_extra_keys.push(c),e==null&&f.notUndefined(this.App,`ai_single.${c}`)||await this.App.aiChat(u,this.App.constants.ai_default_model,"ai_single",c,!0,!0,null,!1)})}else this.yt_is_empty=!0}htmlInject(e=!1){let a=document.querySelector(this.yt_element);if(a!==null){let l=document.createElement("div");l.id="aitopia-yt",document.querySelector("#aitopia-yt")!==null&&document.querySelector("#aitopia-yt").remove(),a.prepend(l);let s=Array.prototype.slice.call(document.querySelector(this.yt_element).children).indexOf(document.querySelector("#aitopia-yt"));if((s>0||s==-1)&&this.try_inject<30)setTimeout(()=>(this.try_inject++,this.htmlInject()),30);else{if(e==!0){this.App.YTResponseBuilder.yt_is_show=!0,this.App.settings.youtube_summarize_mode=="always"?this.run():this.App.settings.youtube_summarize_mode=="quote"&&typeof this.App.credit_details[this.App.constants.ai_default_model]<"u"&&(this.App.credit_details[this.App.constants.ai_default_model].balance>20||this.App.credit_details[this.App.constants.ai_default_model].credit==-999)&&this.run();return}setTimeout(()=>(this.try_inject++,this.htmlInject(!0)),100)}}else this.try_inject<30&&(this.App.YTResponseBuilder.yt_is_show=!1,setTimeout(()=>(document.querySelector("#aitopia-yt")!==null&&document.querySelector("#aitopia-yt").remove(),this.try_inject++,this.htmlInject()),30))}formateMarkedCustomize(e){if(!e)return e;let a=new ma(_a({langPrefix:"hljs language-",highlight(n,s,u){const c=Je.getLanguage(s)?s:"plaintext";return Je.highlight(n,{language:c}).value}}));return a.Renderer.prototype.paragraph=n=>typeof n=="string"?n+`
`:n.text+`
`,a.Renderer.prototype.heading=({text:n,depth:s})=>`<h${s} class="ait-sticky ait-font-bold ait-py-3 ait-px-0 ait-text-base">${n}</h${s}>`,a.Renderer.prototype.table=n=>{let s="",u="";for(let p=0;p<n.header.length;p++)u+=a.Renderer.prototype.tablecell(n.header[p]);s+=a.Renderer.prototype.tablerow({text:u});let c="";for(let p=0;p<n.rows.length;p++){const m=n.rows[p];u="";for(let h=0;h<m.length;h++)u+=a.Renderer.prototype.tablecell(m[h]);c+=a.Renderer.prototype.tablerow({text:u})}return c&&(c=`<tbody>${c}</tbody>`),`<table>
<thead>
`+s+`</thead>
`+c+`</table>
`},a.Renderer.prototype.tablerow=({text:n})=>`<tr>
${n}</tr>
`,a.Renderer.prototype.tablecell=n=>{if(n.header)return"";if(Number.isFinite(parseFloat(n.text.replace(/:/g,".")))){let h=f.fancyTimeFormat(n.text),v=n.text;n.text=`<div data-content="${v}" class="yt-time">${h}</div>`}const s=a.parseInline(n.text),u=n.header?"th":"td";let c="vertical-align: top;",p="ait-min-w-[55px] ait-p-2";return(n.align?`<${u} align="${n.align}" style="${c}" class="${p}">`:`<${u}  style="${c}" class="${p}">`)+s+`</${u}>
`},a.Renderer.prototype.link=({href:n,title:s,text:u})=>{let c="";typeof s<"u"&&(c='title="'+s+'" ');let p="";typeof n<"u"&&(p='href="'+n+'" ');let m="";return n.indexOf("://")!==-1&&(m='target="_blank" '),"<a "+m+p+" "+c+">"+u+"</a>"},a.parse(e.replace(/^[\u200B\u200C\u200D\u200E\u200F\uFEFF]/,""),void 0).toString()}pretty(e){return e===null||typeof e>"u"||typeof e=="object"||(console.log(e),typeof e.indexOf=="function"&&e.indexOf("hljs language")!==-1)?e:this.marked.parse(e.replace(/^[\u200B\u200C\u200D\u200E\u200F\uFEFF]/,""),void 0).toString()}}const ho=new uo,ce={async search(t="",e=1,a={}){const n={...{page:e,search:t,sort:"name",dir:1},...a};let s=await f.apiCall("/skills/search",n,"POST",6e4,"json",0);return{data:s.data,pages:s._pages,recordsFiltered:s.recordsFiltered,recordsTotal:s.recordsTotal}},async get(t){let e=await f.Browser().storage.local.get("skills")??{};if(f.notUndefined(e,"skills")){if(f.notUndefined(e,`skills.${t}`))return f.notUndefined(e,`skills.${t}`)}else e={skills:{}};return e.skills||(e.skills={}),e.skills[t]=await f.apiCall(`/skills/get/id/${t}`),await f.Browser().storage.local.set(e),e.skills[t]},async build(){let t=await f.Browser().storage.local.get("skills");if(f.notUndefined(t,"skills")&&Object.keys(f.notUndefined(t,"skills")).length>0)return f.notUndefined(t,"skills");let e=await this.search("",1);if(e){let a={};return(Array.isArray(e)?e:e.data||[]).forEach((n,s)=>{const u=n._listkey||n.id||`skill_${s}`;a[u]=n}),await f.Browser().storage.local.set({skills:a}),a}return{}}},Ae={async search(t=null,e=1){let a=await f.apiCall("/categories/search",{page:e,search:t,sort:"priority",dir:1},"POST",6e4,"json",0);return{data:a.data,pages:a._pages,recordsFiltered:a.recordsFiltered,recordsTotal:a.recordsTotal}},async get(t){return await f.apiCall(`/categories/get/id/${t}`)},async build(){let t=await se.storage.local.get("categories");if(f.notUndefined(t,"categories")&&Object.keys(f.notUndefined(t,"categories")).length>0)return f.notUndefined(t,"categories");let e=await f.apiCall("/ai/categories",{},"POST");if(e){let a={};return Object.keys(e).forEach(l=>{let n=e[l];f.notUndefined(n,"_listkey")&&(a[n._listkey]=n)}),await se.storage.local.set({categories:a}),a}}};class po{wave=null;record=null;blob=null;last_text=null;build=()=>{if(this.destroy(),document.querySelector("#ait-speech-wave")!==null&&this.record==null){this.wave=va.create({container:"#ait-speech-wave",waveColor:"rgba(0,211,157,0.8)",progressColor:"rgba(0,211,157,0.8)",barWidth:4,barGap:0,barRadius:4,autoScroll:!0,autoCenter:!0,interact:!1,dragToSeek:!0,hideScrollbar:!0,fillParent:!0,normalize:!1,height:90}),this.record=this.wave.registerPlugin(ba.create({renderRecordedAudio:!0,scrollingWaveform:!0,scrollingWaveformWindow:4,continuousWaveform:!1,continuousWaveformDuration:30})),this.record.on("record-progress",l=>{Math.floor(l%6e4/1e3)>=180&&this.record.pauseRecording(),a(l)});const e=document.querySelector("#ait-speech-time"),a=l=>{const n=[Math.floor(l%36e5/6e4),Math.floor(l%6e4/1e3)].map(s=>s<10?"0"+s:s).join(":");e.textContent=n};this.blob=new Blob([],{type:"audio/wav"}),this.record.once("record-data-available",l=>(this.blob=new Blob([this.blob,l],{type:"audio/wav"}),this.blob))}};destroy=async()=>{this.wave!==null&&this.wave.destroy(),this.wave=null,this.record=null};start=async()=>{this.record==null&&this.build();try{return await this.record.startRecording()}catch(e){return this.destroy(),f.notify.error(f.__(e.message)),e}};stop=async()=>{if(this.record==null)return;let e=await this.record.stopRecording();return this.destroy(),e};send=async()=>{const e=`voice_recording_${new Date().getTime()}.wav`;var a=new File([this.blob],e,{type:"audio/wav"});let l=await f.apiCall("/ai/speech",{data:a},"POST",-1,"file");return this.blob=null,this.last_text=f.notUndefined(l,"text")??null,this.last_text}}const go=new po;await f.settingsBuild();const fo=await W.build(),mo=await ce.build(),_o=await Ae.build();f.removeLoading();const X={SingleAi:He,ImageAi:Yt,GroupChat:co,YTResponseBuilder:ho,ResponseBuilder:ga,Speech:go,created:!1,finished:!1,mounted:!1,loading:!1,post:null,error:null,Helpers:f,data:{},ai_ask:null,ai_wait:!1,item:null,constants:V,domain:W.Local.domain??null,storage:fo,ip_info:W.Local.ip_info??{},credit_details:W.Local.credit_detail??{},credit_detail_visual:W.Local.credit_detail_visual??{},email:W.Local.email??null,ai_models:W.Local.ai_models??{},ai_type_models:W.Local.ai_type_models??{},ai_prompts:W.Local.ai_prompts??{},selected_ask:W.Local.selected_ask??null,selected_write:W.Local.selected_write??null,selected_reply:W.Local.selected_reply??null,prompt_settings:W.Local.prompt_settings??{},image_settings:W.Local.image_settings??{},voices:W.Local.voices??{},voice_url:null,voice_play:!1,voice_loading:!1,show_sidebar:!1,notify:fa.useToast({duration:5e3,position:"top"}),tab_menus:{},expires:{},AiApi:pt,ai_send:null,ai_chat:[],ai_workflow:W.Local.ai_workflow??[],ai_single:W.Local.ai_single,ai_agent:W.Local.ai_agent,ai_extra_key:null,context_data:W.Local.context_data??null,ai_chat_text:"",ai_chat_ids:W.Local.ai_chat_ids??{},settings:W.Local.settings??pa,image_editing:W.Local.image_editing??{},model_settings:W.Local.model_settings??{},files:W.Local.files??{},attached_files:W.Local.attached_files??[],user:W.Local.user??{},google_auth_uri:W.Local.google_auth_uri??null,ai_image_url:W.Local.ai_image_url??null,isUploadingImage:!1,ai_web_access_result:W.Local.ai_web_access_result??null,packages:W.Local.packages??null,licences:W.Local.licences??null,faq:W.Local.faq??null,contextTextAreaTarget:null,showContextWrapper:!1,showContextMenu:!1,contextWrapperPosition:{top:0,left:0},contextWrapperSize:{width:0,height:0},aiWriterSelectedTarget:null,aiWriterShowPopup:!1,aiWriterPopupPosition:{top:0,left:0},aiReaderShowPopup:!1,aiReaderPopupPosition:{top:0,left:0},aiReaderSelectedText:"",aiContextResponse:null,ai_contextPrompts:W.Local.ai_contextPrompts??{},ai_pinnedContextPrompts:W.Local.ai_pinnedContextPrompts??{},ai_reply_selected_write:W.Local.ai_reply_selected_write??null,credit_model:null,migration:W.Local.migration??null,migration_status:W.Local.migration_status??!1,histories:W.Local.histories??null,show_history_sidebar:!1,show_model_sidebar:!1,show_review:W.Local.show_review??!0,dropdown_unique:1,is_dev:!1,developer:W.Local.developer??{beta_api:!1,debug_log:!1},showAiReplyPopup:!1,draggable_modal_history:W.Local.draggable_modal_history??{},askedQuestion:{text:"",lang:W.Local.asked_lang},this_page:null,mouse_position:{x:0,y:0},context_black_lists:W.Local.context_black_lists??[],user_prompts:W.Local.user_prompts??{},skills:mo,categories:_o,ai_move_logo:!1,ai_selection:"",saving_text:"",pricing_page_title:W.Local.pricing_page_title??"",announcements:W.Local.announcements??{},is_install_main:W.Local.is_install_main??!1,app_details:W.Local.app_details??{app_name:V.app_name,app_title:V.app_title,app_description:V.app_description,app_logo:V.app_logo,app_logo_full:V.app_logo_full,app_search_title:V.app_search_title,app_main_color:V.app_main_color,app_main_color_dark:V.app_main_color_dark,app_main_link_color:V.app_main_link_color,app_main_link_color_dark:V.app_main_link_color_dark,app_store_url:V.app_store_url,app_install:V.app_install,app_uninstall:V.app_uninstall,app_context:V.app_context,app_campaign_page:V.app_campaign_page},page_context:null,selected_agent:W.Local.selected_agent??null,chat_agents:W.Local.chat_agents??{},speech_record:W.Local.speech_record??0,speech_blob:null,campaign_modal_api:W.Local.campaign_modal_api??!1,campaign_modal_show:!1,campaign_modal_mode:null,campaign_modal_later:W.Local.campaign_modal_later??!1,campaign_modal_referrer_url:W.Local.campaign_modal_referrer_url??!1,campaign_modal_limit:W.Local.campaign_modal_limit??1,campaign_modal_version:W.Local.campaign_modal_version??1,campaign_modal_limit_date:W.Local.campaign_modal_limit_date??null,campaign_modal_domains:{"chatgpt.com":"main","chatgpt.com/#pricing":"upgrade","gemini.google.com/app":"main"},is_ios:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1},$e={search_container:null,search_empty_container:null,ai_extra_key:null,last_value:null,listener_set:!1,this_url:null,build(t,e=V.ai_default_model,a=!1,l=null,n=null){let s=X.settings,u=!1;if(!s.search)return;s.search_ask_mode=="always"?a=!0:s.search_ask_mode=="quote"?typeof X.credit_details[e]<"u"&&(X.credit_details[e].balance>20||X.credit_details[e].credit==-999)&&(a=!0):s.search_ask_mode=="ask"?u=!0:s.search_ask_mode=="manuel";let c=window.location.hostname.replace("www.",""),p=window.location.pathname,m=Object.keys(t.constants.search_pages),h=Object.keys(t.constants.search_pages),v=[];if(p.substring(p.length-1,p.length)=="/"&&(p=p.substring(0,p.length-1)),h.forEach((g,w)=>{let C=g.split("/");h[w]=C[0].replace("www.",""),(c.indexOf(h[w])!==-1||h[w].indexOf(c)!==-1)&&(h[w]=c),v[w]=g.replace(C[0],""),(p.indexOf(v[w])!==-1||v[w].indexOf(p)!==-1)&&(v[w]=p)}),h.indexOf(c)!==-1){let g=v[h.indexOf(c)];if((g==p||g.length==0)&&typeof m[h.indexOf(c)]<"u"){let w=m[h.indexOf(c)];if(typeof t.constants.search_pages[w]<"u"){let C=t.constants.search_pages[w],S=document.createElement("div");if(document.querySelector(C.selector)!=null){if(l=document.querySelector(C.selector).value,document.querySelector(C.selector)&&!this.listener_set&&(this.listener_set=!0,window.navigation.addEventListener("navigate",()=>(t.ai_extra_key!=null&&typeof pt.aborting[t.ai_extra_key]<"u"&&pt.aborting[t.ai_extra_key]!=null&&pt.aborting[t.ai_extra_key].abort(),this.build(t)))),!l||l==null)return;if(l.length>0&&(C.empty_selector.length>0&&document.querySelector(C.container)==null&&document.querySelector(C.empty_selector)!=null&&(S.innerHTML=C.empty_element,document.querySelector(C.empty_selector_position).insertAdjacentHTML("afterend",C.empty_element)),document.querySelector(C.container)!=null)){this.search_container=C.container,this.search_empty_container=C.empty_selector;for(let x=0;x<5;x++)setTimeout(()=>{this.change(C.container)},x*150);u&&l.trim().substring(l.trim().length,l.trim().length-1)=="?"&&(a=!0),t.ai_extra_key!=null&&typeof pt.aborting[t.ai_extra_key]<"u"&&pt.aborting[t.ai_extra_key]!=null&&pt.aborting[t.ai_extra_key].abort(),this.this_url=window.location.href,this.ai_extra_key=f.SHA1(l),t.ai_extra_key=this.ai_extra_key;let A={};A.event=n,A.search_mode=!0,w.indexOf("google")!=-1?a==!0&&f.GoogleSearchCallback(document.querySelector("body").innerHTML,{},!1).then(x=>{A.search=x,pt.instance=t,t.aiChat(l,e,"ai_single",this.ai_extra_key,a,!1,null,!1,A)}):a==!0&&(pt.instance=t,t.aiChat(l,e,"ai_single",this.ai_extra_key,a,!1,null,!1,A)),V.debugMode&&console.log(l,this.search_container,this.custom_content_index)}}}}}},change(t=null){setTimeout(()=>{if(t!=null&&(this.search_container=t),this.search_container!=null&&document.querySelector(this.search_container)){if(Array.prototype.slice.call(document.querySelector(this.search_container).children).indexOf(document.querySelector("#aitopia-search"))>0||document.querySelector("#aitopia-search")==null){document.querySelector("#aitopia-search")!=null&&document.querySelector("#aitopia-search").remove();let l=document.createElement("div");l.id="aitopia-search",document.querySelector(this.search_container).prepend(l)}document.querySelector("#aitopia-search").setAttribute("class",document.querySelector("#aitopia").getAttribute("class")),!document.querySelector("#aitopia-search #aitopia-search-result")&&document.querySelector("#aitopia #aitopia-search-container")!=null?document.querySelector("#aitopia-search").innerHTML=document.querySelector("#aitopia #aitopia-search-container").outerHTML:document.querySelector("#aitopia #aitopia-search-container")&&document.querySelector("#aitopia #aitopia-search-container #aitopia-search-result")!=null&&(document.querySelector("#aitopia-search #aitopia-search-result").outerHTML=document.querySelector("#aitopia #aitopia-search-container #aitopia-search-result").outerHTML)}},10)}},Mt={selection_text:"",selection:{},mouse_up:!1,build(t){typeof document<"u"&&document!=null&&window!=null&&(document.addEventListener("selectstart",e=>{Mt.mouse_up=!1,document.addEventListener("mouseup",a=>{Mt.mouse_up=!0,document.dispatchEvent(new Event("selectionchange"))})}),document.addEventListener("selectionchange",e=>{if(Mt.mouse_up)return this.getSelectionText(e,t)}))},getSelectionText(t,e,a=!1){var l="",n=document.activeElement,s=n?n.tagName.toLowerCase():null;return s=="textarea"||s=="input"&&/^(?:text|search|password|image|email|tel|url)$/i.test(n.type)&&typeof n.selectionStart=="number"?l=n.value.slice(n.selectionStart,n.selectionEnd):window.getSelection&&(l=window.getSelection().toString()),[" ",`
`,"\r","	"].indexOf(l)!==-1&&(l=""),Mt.selection=window.getSelection(),Mt.selection_text=l,l==""&&document.querySelector(".paste_selection")&&document.querySelectorAll(".paste_selection").forEach(u=>{u.remove()}),document.querySelector(".ait-selection-container")&&(document.querySelector(".ait-selection-container").value.length==0&&l.length>0?(document.querySelector(".ait-selection-container").value=l,document.querySelector(".ait-selection-container").dispatchEvent(new Event("change"))):l.trim().length>0&&l!=document.querySelector(".ait-selection-container").value&&document.querySelector(".paste_selection")==null&&document.querySelector(".ait-selection-container").insertAdjacentElement("afterend",this._pasteSelector(e))),e.ai_selection!==""&&Mt.selection_text==""&&(Mt.selection_text=e.ai_selection),e.ai_selection=Mt.selection_text,Mt.selection_text},_pasteSelector(t){let e=document.createElement("button");return e.classList.add("paste_selection"),e.innerHTML='<svg title="'+t.__("Paste selection")+'" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="ltr:ait-mr-1 rtl:ait-ml-1"><g clip-path="url(#clip0_2467_160)"><path d="M3.79166 3.62556V2.27832C3.79166 1.82527 4.15892 1.45801 4.61197 1.45801H11.7213C12.1744 1.45801 12.5417 1.82527 12.5417 2.27832V9.3877C12.5417 9.84074 12.1744 10.208 11.7213 10.208H10.3589" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.38803 3.79199H2.27866C1.82561 3.79199 1.45834 4.15926 1.45834 4.6123V11.7217C1.45834 12.1747 1.82561 12.542 2.27866 12.542H9.38803C9.84108 12.542 10.2083 12.1747 10.2083 11.7217V4.6123C10.2083 4.15926 9.84108 3.79199 9.38803 3.79199Z" stroke="currentColor" stroke-linejoin="round"></path><line x1="3.5" y1="6.5" x2="8.5" y2="6.5" stroke="currentColor" stroke-linecap="round"></line><line x1="3.5" y1="9.5" x2="8.5" y2="9.5" stroke="currentColor" stroke-linecap="round"></line></g><defs><clipPath id="clip0_2467_160"><rect width="14" height="14" fill="currentColor"></rect></clipPath></defs></svg>'+t.__("Paste selection"),e.onclick=()=>{document.querySelector(".ait-selection-container")&&(document.querySelector(".ait-selection-container").value="",Mt.getSelectionText(event,t),document.querySelector(".ait-selection-container").dispatchEvent(new Event("change"))),document.querySelectorAll(".paste_selection").forEach(a=>{a.remove()})},e},_clearSelector(t){let e=document.createElement("button");return e.classList.add("clear_selection"),e.innerHTML='<svg title="'+t.__("clear")+'" fill-rule="evenodd" viewBox="64 64 896 896" focusable="false" data-icon="close-circle" width="1em" height="1em" fill="currentColor" aria-hide="true"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"></path></svg>',e.onclick=()=>{window.getSelection().removeAllRanges(),document.querySelector(".ait-selection-container")&&(document.querySelector(".ait-selection-container").value="",document.querySelector(".ait-selection-container").dispatchEvent(new Event("change"))),document.querySelectorAll(".clear_selection").forEach(a=>{a.remove()})},e}},si={last_selection:null,click:!1,run:!1,listener_run:!1,listener_add:!1,mouseenter_status:!1,build(t,e=V.ai_default_model,a=!1,l=null){this.setupEventListeners(t)},showContextMenuWithShortcuts(t){t.showAiContextPopup()},setupEventListeners(t){if(this.run)return;this.run=!0;const e=this.debounce(()=>{this.findTextAreasAndSetupOverlays(t),this.attachSelectionListeners(t)},1);new MutationObserver(e).observe(document.body,{attributes:!1,childList:!0,subtree:!1}),e()},attachSelectionListeners(t){if(X.settings.context_reading&&(this.handleReaderTextSelection(t),document.querySelectorAll("iframe").forEach(e=>{e.contentDocument!==null&&typeof e.contentDocument.body<"u"&&this.handleReaderTextSelection(t,e.contentDocument.body,e.contentWindow??null)}),document.addEventListener("click",e=>this.handleDocumentClick(e,t))),X.settings.context_writing_input&&(document.querySelector("body").querySelectorAll('input, textarea, [contenteditable="true"][role="textbox"]').forEach(e=>{const a=document.querySelector(".aitopia-context-container");if(a&&a.contains(e))return;const l=e;l.dataset.hasListeners||(l.addEventListener("input",n=>{this.listener_run!=!0&&n.target.closest(".aitopia")===null&&(this.listener_run=!0,this.updateWriterPopupPositionIfNeeded(n.target,t,n),this.listener_run=!1)}),l.addEventListener("select",n=>{this.listener_run!=!0&&n.target.closest(".aitopia")===null&&(this.listener_run=!0,this.handleWriterTextSelection(n.target,t),this.listener_run=!1)}),l.addEventListener("focus",n=>{this.listener_run!=!0&&n.target.closest(".aitopia")===null&&(this.listener_run=!0,this.updateWriterPopupPositionIfNeeded(n.target,t,n),this.listener_run=!1)}),l.addEventListener("click",n=>{this.listener_run!=!0&&n.target.closest(".aitopia")===null&&(this.listener_run=!0,window.getSelection().toString()&&this.handleWriterTextSelection(n.target,t),this.listener_run=!1)}),l.dataset.hasListeners="true")}),window.addEventListener("resize",()=>{this.updateContextWrapperPositions(t)}),document.activeElement!==null&&document.activeElement.tagName=="TEXTAREA")){let e=document.activeElement;setTimeout(()=>{this.updateWriterPopupPositionIfNeeded(e,t),this.updateContextWrapperPositions(t);const{top:a,left:l,width:n,height:s}=e.getBoundingClientRect();t.showContextWrapperAtPosition(e,a+window.scrollY,l,n,s)},1e3)}this.listener_add=!0},updateContextWrapperPositions(t){document.querySelectorAll('textarea,[contenteditable="true"][role="textbox"]').forEach(e=>{const{top:a,left:l,width:n,height:s}=e.getBoundingClientRect();t.showContextWrapperAtPosition(e,a+window.scrollY,l,n,s)})},findTextAreasAndSetupOverlays(t){X.settings.context_writing_input&&document.querySelectorAll("textarea").forEach(e=>{const a=V.contextBlacklist;if(a){for(const[l,n]of Object.entries(a))if(window.location.href.includes(l)){for(const s of n.selectors)if(e.matches(s))return}}e.addEventListener("focus",()=>{const{top:l,left:n,width:s,height:u}=e.getBoundingClientRect();t.showContextWrapperAtPosition(e,l+window.scrollY,n,s,u)})})},handleDocumentClick(t,e){const a=document.querySelector(".aitopia-context-container"),l=document.querySelector(".aitopia-context-popup-container"),n=document.querySelector(".aitopia-context-response-popup-container"),s=document.querySelector(".aitopia-context-menu"),u=t.target,c=a&&a.contains(u),p=Array.from(document.querySelectorAll("textarea")).some(g=>g.contains(u)),m=l&&l.contains(u),h=n&&n.contains(u),v=s&&s.contains(u);!c&&!p&&!m&&!h&&!v&&(e.hideContextWrapper(),e.hideAiContextPopup())},handleReaderTextSelection(t,e=document,a=null){this.listener_add||e!==null&&(typeof e.addEventListener>"u"||(e.addEventListener("mousedown",l=>{this.mouseenter_status=!0}),e.addEventListener("mouseup",l=>{this.mouseenter_status=!1,this.checkSelectionAndShowPopup(t,l,e,a)}),e.addEventListener("keyup",l=>{this.mouseenter_status||this.checkSelectionAndShowPopup(t,l,e,a)}),e.addEventListener("selectionchange",l=>{this.mouseenter_status||this.checkSelectionAndShowPopup(t,l,e,a)}),e.addEventListener("select",l=>{this.mouseenter_status||this.checkSelectionAndShowPopup(t,l,e,a)}),e.addEventListener("keyup",l=>{if(document.activeElement.tagName=="TEXTAREA"||document.activeElement.tagName=="INPUT")return l.target.closest(".aitopia")!==null?void 0:window.getSelection().toString()?this.handleWriterTextSelection(l.target,t):void 0;l.key==="a"&&(l.ctrlKey||l.metaKey)?requestAnimationFrame(()=>this.checkSelectionAndShowPopup(t,l)):this.checkSelectionAndShowPopup(t,l,e,a)})))},checkSelectionAndShowPopup(t,e=null,a=null,l=null){let n=window.getSelection();if(n.toString().length<1){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}if(l!==null&&l.frameElement!==null){t.hideAiWriterPopup(),t.hideAiReaderPopup();let v=l.getSelection();if(v.type=="Range"&&v.isCollapsed==!1)(window.getSelection?window.getSelection():document.selection).empty(),n=v,t.mouse_position={x:e.clientX+l.frameElement.offsetLeft+10,y:e.clientY+l.frameElement.offsetTop+10};else{this.last_selection=null,t.hideAiWriterPopup(),t.hideAiReaderPopup();return}}if(n.anchorNode===null){if(this.last_selection==null){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}if(n=this.last_selection,n.anchorNode===null){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}}else this.last_selection=n;if(e&&e.type&&e.type.indexOf("selectionchange")!==-1&&e.isTrusted==!0&&(t.hideAiWriterPopup(),t.hideAiReaderPopup(),n.toString().length<1))return;const s=document.querySelector(".aitopia-context-popup-container"),u=document.querySelector(".aitopia-context-response-popup-container"),c=document.querySelector(".aitopia-context-menu");if(c&&c.contains(n.anchorNode)){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}if(s&&s.contains(n.anchorNode)){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}if(u&&u.contains(n.anchorNode)){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}if(!n.rangeCount){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}const p=n.toString().trim();if(!p){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}const m=n.anchorNode,h=document.getElementById("aitopia-container");if(h&&m&&h.contains(m)){t.hideAiWriterPopup(),t.hideAiReaderPopup();return}if(m&&(m.nodeType===Node.TEXT_NODE||n.focusNode.nodeName=="BODY")){let v=m.parentNode;for(;v&&v!==document;){if(v.nodeName==="INPUT"||v.nodeName==="textarea"||v.querySelector('[role="listitem"] .editable')!==null){t.hideAiReaderPopup();return}v=v.parentNode}n.getRangeAt(0).getBoundingClientRect();const g=t.mouse_position.y,w=t.mouse_position.x;t.showAiReaderPopup(g,w,p)}else t.hideAiReaderPopup()},handleWriterTextSelection(t,e){var a,l;if(window.getSelection().toString().trim()){if(document.getElementById("aitopia-container")&&t.closest("#aitopia-container")||e.aiWriterShowPopup==!0)return;const s=e.mouse_position.y+(((a=document.scrollingElement)==null?void 0:a.scrollTop)??0),u=e.mouse_position.x+(((l=document.scrollingElement)==null?void 0:l.scrollLeft)??0);e.showAiWriterPopup(t,s,u),e.hideAiReaderPopup()}else e.hideAiWriterPopup(),e.hideAiContextPopup()},updateWriterPopupPositionIfNeeded(t,e,a=null){var l,n;if(this.aiWriterShowPopup&&this.aiWriterSelectedTarget===t){const s=e.mouse_position.y+(((l=document.scrollingElement)==null?void 0:l.scrollTop)??0),u=e.mouse_position.x+(((n=document.scrollingElement)==null?void 0:n.scrollLeft)??0);e.updateAiWriterPopupPosition(s,u)}},calculatePopupPosition(t){const e=t.getBoundingClientRect(),a=window.scrollY||document.documentElement.scrollTop,l=window.scrollX||document.documentElement.scrollLeft;return{top:e.top+a,left:e.left+l}},debounce(t,e){let a;return function(...n){const s=()=>{clearTimeout(a),t(...n)};clearTimeout(a),a=setTimeout(s,e)}}},Wt={logo:'<svg xmlns="http://www.w3.org/2000/svg" baseProfile="tiny" viewBox="0 0 125 121.7" overflow="visible"><circle fill="#01a77d" cx="63.4" cy="61.2" r="57.8"/><g fill="#fff"><path d="M46.9 60.5h-.4c-1.9-.2-3.3-1.9-3.1-3.8.6-6.3 4.5-38 17.3-41.2 8.2-2 14.4 7.5 16.5 10.6 1.1 1.6.6 3.8-1 4.9s-3.8.6-4.9-1c-3.5-5.3-6.9-8.2-9-7.7-4.2 1-10 14.8-12 35.1-.2 1.7-1.7 3.1-3.4 3.1zm51.9-4.9c-.5 0-1-.1-1.4-.3-1.8-.8-2.6-2.9-1.8-4.6 2.6-5.8 3.2-10.2 1.7-11.7-3.1-3-17.8-.6-36.1 8.6-1.7.9-3.8.2-4.7-1.6-.9-1.7-.2-3.8 1.6-4.7.3-.2 8.3-4.1 17.4-7.1 13.4-4.5 22.2-4.5 26.7-.2 6.1 5.8 1.4 16.2-.1 19.6-.7 1.3-2 2-3.3 2zM88.2 89.5c-1.8 0-3.3-1.3-3.5-3.1-.2-1.9 1.1-3.7 3.1-3.9 6.3-.7 10.4-2.5 10.9-4.6 1-4.2-8.7-15.6-25.9-26.6-1.6-1-2.1-3.2-1.1-4.8s3.2-2.1 4.8-1.1c.3.2 7.8 5 15.1 11.3 10.7 9.3 15.3 16.7 13.9 22.8-1.9 8.2-13.2 9.5-16.9 10h-.4zm-25.9 18.1c-7.2 0-12.4-8.3-14.2-11.2-1-1.6-.5-3.8 1.1-4.8s3.8-.5 4.8 1.1c3.4 5.4 6.7 8.3 8.8 7.9 4.2-.9 10.3-14.5 12.9-34.8.2-1.9 2-3.3 3.9-3 1.9.2 3.3 2 3 3.9-.8 6.3-5.4 37.9-18.4 40.7-.5.1-1.2.2-1.9.2zm-25-18.1c-5.5 0-9.4-1.3-11.8-4-5.6-6.3-.1-16.3 1.6-19.5.9-1.7 3.1-2.3 4.7-1.4 1.7.9 2.3 3.1 1.4 4.7-3.1 5.6-4 9.9-2.6 11.5 2.9 3.2 17.7 1.9 36.7-5.7a3.57 3.57 0 0 1 4.6 1.9 3.57 3.57 0 0 1-1.9 4.6c-.3.1-8.6 3.5-17.9 5.8-5.9 1.4-10.8 2.1-14.8 2.1zm16.5-12.6c-.6 0-1.2-.2-1.8-.5-.3-.2-7.9-4.8-15.4-10.8-11-8.9-15.8-16.2-14.6-22.3 1.6-8.2 12.9-9.9 16.6-10.5 1.9-.3 3.7 1 4 2.9s-1 3.7-2.9 4c-6.3.9-10.3 2.8-10.7 4.9-1 4.3 9 15.3 26.6 25.8 1.7 1 2.2 3.1 1.2 4.8-.7 1.1-1.8 1.7-3 1.7z"/><circle cx="63.8" cy="60.5" r="8.4"/></g></svg>',logo_invert:'<svg version="1.1"  baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 125 121.7" overflow="visible" xml:space="preserve"> <g> <path fill="#01A77D" d="M46.9,60.5c-0.1,0-0.2,0-0.4,0c-1.9-0.2-3.3-1.9-3.1-3.8c0.6-6.3,4.5-38,17.3-41.2 c8.2-2,14.4,7.5,16.5,10.6c1.1,1.6,0.6,3.8-1,4.9c-1.6,1.1-3.8,0.6-4.9-1c-3.5-5.3-6.9-8.2-9-7.7c-4.2,1-10,14.8-12,35.1 C50.1,59.1,48.6,60.5,46.9,60.5z"/> <path fill="#01A77D" d="M98.8,55.6c-0.5,0-1-0.1-1.4-0.3c-1.8-0.8-2.6-2.9-1.8-4.6c2.6-5.8,3.2-10.2,1.7-11.7 c-3.1-3-17.8-0.6-36.1,8.6c-1.7,0.9-3.8,0.2-4.7-1.6c-0.9-1.7-0.2-3.8,1.6-4.7c0.3-0.2,8.3-4.1,17.4-7.1 c13.4-4.5,22.2-4.5,26.7-0.2c6.1,5.8,1.4,16.2-0.1,19.6C101.4,54.9,100.1,55.6,98.8,55.6z"/> <path fill="#01A77D" d="M88.2,89.5c-1.8,0-3.3-1.3-3.5-3.1c-0.2-1.9,1.1-3.7,3.1-3.9c6.3-0.7,10.4-2.5,10.9-4.6 c1-4.2-8.7-15.6-25.9-26.6c-1.6-1-2.1-3.2-1.1-4.8c1-1.6,3.2-2.1,4.8-1.1c0.3,0.2,7.8,5,15.1,11.3c10.7,9.3,15.3,16.7,13.9,22.8 c-1.9,8.2-13.2,9.5-16.9,10C88.5,89.5,88.3,89.5,88.2,89.5z"/> <path fill="#01A77D" d="M62.3,107.6c-7.2,0-12.4-8.3-14.2-11.2c-1-1.6-0.5-3.8,1.1-4.8c1.6-1,3.8-0.5,4.8,1.1 c3.4,5.4,6.7,8.3,8.8,7.9c4.2-0.9,10.3-14.5,12.9-34.8c0.2-1.9,2-3.3,3.9-3c1.9,0.2,3.3,2,3,3.9c-0.8,6.3-5.4,37.9-18.4,40.7 C63.7,107.5,63,107.6,62.3,107.6z"/> <path fill="#01A77D" d="M37.3,89.5c-5.5,0-9.4-1.3-11.8-4c-5.6-6.3-0.1-16.3,1.6-19.5c0.9-1.7,3.1-2.3,4.7-1.4 c1.7,0.9,2.3,3.1,1.4,4.7c-3.1,5.6-4,9.9-2.6,11.5c2.9,3.2,17.7,1.9,36.7-5.7c1.8-0.7,3.8,0.1,4.6,1.9c0.7,1.8-0.1,3.8-1.9,4.6 c-0.3,0.1-8.6,3.5-17.9,5.8C46.2,88.8,41.3,89.5,37.3,89.5z"/> <path fill="#01A77D" d="M53.8,76.9c-0.6,0-1.2-0.2-1.8-0.5c-0.3-0.2-7.9-4.8-15.4-10.8c-11-8.9-15.8-16.2-14.6-22.3 c1.6-8.2,12.9-9.9,16.6-10.5c1.9-0.3,3.7,1,4,2.9c0.3,1.9-1,3.7-2.9,4c-6.3,0.9-10.3,2.8-10.7,4.9C28,48.9,38,59.9,55.6,70.4 c1.7,1,2.2,3.1,1.2,4.8C56.1,76.3,55,76.9,53.8,76.9z"/> <circle fill="#01A77D" cx="63.8" cy="60.5" r="8.4"/> </g> </svg>',logo_invert_bg:'<svg version="1.1" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 125 121.7" overflow="visible" xml:space="preserve"> <g> <circle fill="#FFFFFF" cx="63.4" cy="61.2" r="57.8"/> <path fill="#01A77D" d="M46.9,60.5c-0.1,0-0.2,0-0.4,0c-1.9-0.2-3.3-1.9-3.1-3.8c0.6-6.3,4.5-38,17.3-41.2 c8.2-2,14.4,7.5,16.5,10.6c1.1,1.6,0.6,3.8-1,4.9c-1.6,1.1-3.8,0.6-4.9-1c-3.5-5.3-6.9-8.2-9-7.7c-4.2,1-10,14.8-12,35.1 C50.1,59.1,48.6,60.5,46.9,60.5z"/> <path fill="#01A77D" d="M98.8,55.6c-0.5,0-1-0.1-1.4-0.3c-1.8-0.8-2.6-2.9-1.8-4.6c2.6-5.8,3.2-10.2,1.7-11.7 c-3.1-3-17.8-0.6-36.1,8.6c-1.7,0.9-3.8,0.2-4.7-1.6c-0.9-1.7-0.2-3.8,1.6-4.7c0.3-0.2,8.3-4.1,17.4-7.1 c13.4-4.5,22.2-4.5,26.7-0.2c6.1,5.8,1.4,16.2-0.1,19.6C101.4,54.9,100.1,55.6,98.8,55.6z"/> <path fill="#01A77D" d="M88.2,89.5c-1.8,0-3.3-1.3-3.5-3.1c-0.2-1.9,1.1-3.7,3.1-3.9c6.3-0.7,10.4-2.5,10.9-4.6 c1-4.2-8.7-15.6-25.9-26.6c-1.6-1-2.1-3.2-1.1-4.8c1-1.6,3.2-2.1,4.8-1.1c0.3,0.2,7.8,5,15.1,11.3c10.7,9.3,15.3,16.7,13.9,22.8 c-1.9,8.2-13.2,9.5-16.9,10C88.5,89.5,88.3,89.5,88.2,89.5z"/> <path fill="#01A77D" d="M62.3,107.6c-7.2,0-12.4-8.3-14.2-11.2c-1-1.6-0.5-3.8,1.1-4.8c1.6-1,3.8-0.5,4.8,1.1 c3.4,5.4,6.7,8.3,8.8,7.9c4.2-0.9,10.3-14.5,12.9-34.8c0.2-1.9,2-3.3,3.9-3c1.9,0.2,3.3,2,3,3.9c-0.8,6.3-5.4,37.9-18.4,40.7 C63.7,107.5,63,107.6,62.3,107.6z"/> <path fill="#01A77D" d="M37.3,89.5c-5.5,0-9.4-1.3-11.8-4c-5.6-6.3-0.1-16.3,1.6-19.5c0.9-1.7,3.1-2.3,4.7-1.4 c1.7,0.9,2.3,3.1,1.4,4.7c-3.1,5.6-4,9.9-2.6,11.5c2.9,3.2,17.7,1.9,36.7-5.7c1.8-0.7,3.8,0.1,4.6,1.9c0.7,1.8-0.1,3.8-1.9,4.6 c-0.3,0.1-8.6,3.5-17.9,5.8C46.2,88.8,41.3,89.5,37.3,89.5z"/> <path fill="#01A77D" d="M53.8,76.9c-0.6,0-1.2-0.2-1.8-0.5c-0.3-0.2-7.9-4.8-15.4-10.8c-11-8.9-15.8-16.2-14.6-22.3 c1.6-8.2,12.9-9.9,16.6-10.5c1.9-0.3,3.7,1,4,2.9c0.3,1.9-1,3.7-2.9,4c-6.3,0.9-10.3,2.8-10.7,4.9C28,48.9,38,59.9,55.6,70.4 c1.7,1,2.2,3.1,1.2,4.8C56.1,76.3,55,76.9,53.8,76.9z"/> <circle fill="#01A77D" cx="63.8" cy="60.5" r="8.4"/> </g> </svg>',logo_square:'<svg version="1.1" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 125 121.7" overflow="visible" xml:space="preserve" fill="#01A77D"> <g> <path fill="#01A77D" d="M46.9,60.5c-0.1,0-0.2,0-0.4,0c-1.9-0.2-3.3-1.9-3.1-3.8c0.6-6.3,4.5-38,17.3-41.2 c8.2-2,14.4,7.5,16.5,10.6c1.1,1.6,0.6,3.8-1,4.9c-1.6,1.1-3.8,0.6-4.9-1c-3.5-5.3-6.9-8.2-9-7.7c-4.2,1-10,14.8-12,35.1 C50.1,59.1,48.6,60.5,46.9,60.5z"/> <path fill="#01A77D" d="M98.8,55.6c-0.5,0-1-0.1-1.4-0.3c-1.8-0.8-2.6-2.9-1.8-4.6c2.6-5.8,3.2-10.2,1.7-11.7 c-3.1-3-17.8-0.6-36.1,8.6c-1.7,0.9-3.8,0.2-4.7-1.6c-0.9-1.7-0.2-3.8,1.6-4.7c0.3-0.2,8.3-4.1,17.4-7.1 c13.4-4.5,22.2-4.5,26.7-0.2c6.1,5.8,1.4,16.2-0.1,19.6C101.4,54.9,100.1,55.6,98.8,55.6z"/> <path fill="#01A77D" d="M88.2,89.5c-1.8,0-3.3-1.3-3.5-3.1c-0.2-1.9,1.1-3.7,3.1-3.9c6.3-0.7,10.4-2.5,10.9-4.6 c1-4.2-8.7-15.6-25.9-26.6c-1.6-1-2.1-3.2-1.1-4.8c1-1.6,3.2-2.1,4.8-1.1c0.3,0.2,7.8,5,15.1,11.3c10.7,9.3,15.3,16.7,13.9,22.8 c-1.9,8.2-13.2,9.5-16.9,10C88.5,89.5,88.3,89.5,88.2,89.5z"/> <path fill="#01A77D" d="M62.3,107.6c-7.2,0-12.4-8.3-14.2-11.2c-1-1.6-0.5-3.8,1.1-4.8c1.6-1,3.8-0.5,4.8,1.1 c3.4,5.4,6.7,8.3,8.8,7.9c4.2-0.9,10.3-14.5,12.9-34.8c0.2-1.9,2-3.3,3.9-3c1.9,0.2,3.3,2,3,3.9c-0.8,6.3-5.4,37.9-18.4,40.7 C63.7,107.5,63,107.6,62.3,107.6z"/> <path fill="#01A77D" d="M37.3,89.5c-5.5,0-9.4-1.3-11.8-4c-5.6-6.3-0.1-16.3,1.6-19.5c0.9-1.7,3.1-2.3,4.7-1.4 c1.7,0.9,2.3,3.1,1.4,4.7c-3.1,5.6-4,9.9-2.6,11.5c2.9,3.2,17.7,1.9,36.7-5.7c1.8-0.7,3.8,0.1,4.6,1.9c0.7,1.8-0.1,3.8-1.9,4.6 c-0.3,0.1-8.6,3.5-17.9,5.8C46.2,88.8,41.3,89.5,37.3,89.5z"/> <path fill="#01A77D" d="M53.8,76.9c-0.6,0-1.2-0.2-1.8-0.5c-0.3-0.2-7.9-4.8-15.4-10.8c-11-8.9-15.8-16.2-14.6-22.3 c1.6-8.2,12.9-9.9,16.6-10.5c1.9-0.3,3.7,1,4,2.9c0.3,1.9-1,3.7-2.9,4c-6.3,0.9-10.3,2.8-10.7,4.9C28,48.9,38,59.9,55.6,70.4 c1.7,1,2.2,3.1,1.2,4.8C56.1,76.3,55,76.9,53.8,76.9z"/> <circle fill="#01A77D" cx="63.8" cy="60.5" r="8.4"/> </g> </svg>',clipboard:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hide="true"> <path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"></path> </svg>',chatgpt_logo:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2406 2406"> <path d="M1 578.4C1 259.5 259.5 1 578.4 1h1249.1c319 0 577.5 258.5 577.5 577.4V2406H578.4C259.5 2406 1 2147.5 1 1828.6V578.4z" fill="#74aa9c"/> <path id="ait-a" d="M1107.3 299.1c-197.999 0-373.9 127.3-435.2 315.3L650 743.5v427.9c0 21.4 11 40.4 29.4 51.4l344.5 198.515V833.3h.1v-27.9L1372.7 604c33.715-19.52 70.44-32.857 108.47-39.828L1447.6 450.3C1361 353.5 1237.1 298.5 1107.3 299.1zm0 117.5-.6.6c79.699 0 156.3 27.5 217.6 78.4-2.5 1.2-7.4 4.3-11 6.1L952.8 709.3c-18.4 10.4-29.4 30-29.4 51.4V1248l-155.1-89.4V755.8c-.1-187.099 151.601-338.9 339-339.2z" fill="#fff"/> <use xlink:href="#a" transform="rotate(60 1203 1203)"/> <use xlink:href="#a" transform="rotate(120 1203 1203)"/> <use xlink:href="#a" transform="rotate(180 1203 1203)"/> <use xlink:href="#a" transform="rotate(240 1203 1203)"/> <use xlink:href="#a" transform="rotate(300 1203 1203)"/> </svg>',comment_ico:'<svg fill="none" xmlns="http://www.w3.org/2000/svg"> <g> <path d="M9.80019 7.05266V7.00002M7.00019 7.05266V7.00002M4.20019 7.05266V7.00002M1.40019 7.00002C1.40019 7.80504 1.57005 8.57038 1.87589 9.26216L1.39913 12.5995L4.25917 11.8845C5.06939 12.3401 6.00444 12.6 7.00019 12.6C10.093 12.6 12.6002 10.0928 12.6002 7.00002C12.6002 3.90723 10.093 1.40002 7.00019 1.40002C3.9074 1.40002 1.40019 3.90723 1.40019 7.00002Z" stroke="#ffffff" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"></path> </g> </svg>',pdf_icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 309.267 309.267" xml:space="preserve"><path style="fill:#e2574c" d="M38.658 0h164.23l87.049 86.711v203.227c0 10.679-8.659 19.329-19.329 19.329H38.658c-10.67 0-19.329-8.65-19.329-19.329V19.329C19.329 8.65 27.989 0 38.658 0z"/><path style="fill:#b53629" d="M289.658 86.981h-67.372c-10.67 0-19.329-8.659-19.329-19.329V.193l86.701 86.788z"/><path style="fill:#fff" d="M217.434 146.544c3.238 0 4.823-2.822 4.823-5.557 0-2.832-1.653-5.567-4.823-5.567h-18.44c-3.605 0-5.615 2.986-5.615 6.282v45.317c0 4.04 2.3 6.282 5.412 6.282 3.093 0 5.403-2.242 5.403-6.282v-12.438h11.153c3.46 0 5.19-2.832 5.19-5.644 0-2.754-1.73-5.49-5.19-5.49h-11.153v-16.903h13.24zm-62.327-11.124h-13.492c-3.663 0-6.263 2.513-6.263 6.243v45.395c0 4.629 3.74 6.079 6.417 6.079h14.159c16.758 0 27.824-11.027 27.824-28.047-.009-17.995-10.427-29.67-28.645-29.67zm.648 46.526h-8.225v-35.334h7.413c11.221 0 16.101 7.529 16.101 17.918 0 9.723-4.794 17.416-15.289 17.416zM106.33 135.42H92.964c-3.779 0-5.886 2.493-5.886 6.282v45.317c0 4.04 2.416 6.282 5.663 6.282s5.663-2.242 5.663-6.282v-13.231h8.379c10.341 0 18.875-7.326 18.875-19.107.001-11.529-8.233-19.261-19.328-19.261zm-.222 27.738h-7.703v-17.097h7.703c4.755 0 7.78 3.711 7.78 8.553-.01 4.833-3.025 8.544-7.78 8.544z"/></svg>',file_icon:'<svg class="svg-icon" style="width: 1em;height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M960 512c0 247.4-200.6 448-448 448-34.1 0-67.2-3.8-99.1-11l-2.7-0.6C211.8 902.3 64 724.4 64 512 64 264.6 264.6 64 512 64c209.9 0 386.2 144.4 434.7 339.3 8.7 34.8 13.3 71.2 13.3 108.7z" fill="#885AEF" /><path d="M960 512c0 247.4-200.6 448-448 448-34.1 0-67.2-3.8-99.1-11l-2.7-0.6-180.5-180.8 570.2-511.1 146.8 146.8c8.7 34.8 13.3 71.2 13.3 108.7z" fill="#3F2867" /><path d="M754.4 783.3H270.1c-33 0-60-27-60-60V295.5c0-33 27-60 60-60h484.3c33 0 60 27 60 60v427.8c0 33-27 60-60 60z" fill="#F8A000" /><path d="M568.8 736.1H329.2c-33.1 0-60-26.9-60-60V148.9c0-33.1 26.9-60 60-60h365.5c33.1 0 60 26.9 60 60V520L568.8 736.1z" fill="#B9FCF3" /><path d="M568.6 736.1H512V88.9h182.7c33.1 0 60 26.9 60 60V520L568.6 736.1z" fill="#96F5E6" /><path d="M557.8 176.9c0-9.8 8-17.8 17.8-17.8H668c9.8 0 17.8 8 17.8 17.8s-8 17.8-17.8 17.8h-92.4c-9.8 0-17.8-8-17.8-17.8zM435.6 259.2H668c4.9 0 9.4 2 12.6 5.2 3.2 3.3 5.2 7.7 5.2 12.6 0 9.8-8 17.8-17.8 17.8H435.6c-4.9 0-9.4-2-12.6-5.2s-5.2-7.7-5.2-12.6c0-9.8 8-17.8 17.8-17.8z" fill="#3F2867" /><path d="M423 289.6c-3.2-3.2-5.2-7.7-5.2-12.6 0-9.8 8-17.8 17.8-17.8h76v35.6h-76c-4.9 0-9.4-2-12.6-5.2z" fill="#8363D4" /><path d="M814.4 395.5v327.8c0 33-27 60-60 60H270.1c-33 0-60-27-60-60V295.5c0-33 27-60 60-60h136.6l105.3 100h242.4c33 0 60 27 60 60z" fill="#FFD96E" /><path d="M814.4 395.5v327.8c0 33-27 60-60 60H512V335.5h242.4c33 0 60 27 60 60z" fill="#F7C800" /><path d="M612.6 599h-50.7v90.3c0 11-9 20-20 20h-59.8c-11 0-20-9-20-20V599h-50.7c-16.4 0-25.8-18.7-16.1-31.9l100.6-136.5c4-5.5 10.2-8.2 16.3-8.1 6 0.1 11.9 2.8 15.8 8.1l100.6 136.5c9.9 13.2 0.4 31.9-16 31.9z" fill="#E95C94" /><path d="M612.6 599h-50.7v90.3c0 11-9 20-20 20h-29.6V422.5c6 0.1 11.9 2.8 15.8 8.1l100.6 136.5c9.8 13.2 0.3 31.9-16.1 31.9z" fill="#E02B6C" /></svg>',chat_icon:'<svg viewBox="0 0 31 32" version="1.1" xmlns="http://www.w3.org/2000/svg"> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"> <g sketch:type="MSLayerGroup" transform="translate(-259.000000, -257.000000)" fill="currentColor"> <path d="M265.5,267 C266.329,267 267,267.672 267,268.5 C267,269.329 266.329,270 265.5,270 C264.671,270 264,269.329 264,268.5 C264,267.672 264.671,267 265.5,267 L265.5,267 Z M271.5,267 C272.329,267 273,267.672 273,268.5 C273,269.329 272.329,270 271.5,270 C270.671,270 270,269.329 270,268.5 C270,267.672 270.671,267 271.5,267 L271.5,267 Z M277.5,267 C278.329,267 279,267.672 279,268.5 C279,269.329 278.329,270 277.5,270 C276.671,270 276,269.329 276,268.5 C276,267.672 276.671,267 277.5,267 L277.5,267 Z M268.637,279.736 C269.414,279.863 271.181,280 272,280 C279.18,280 284,274.657 284,268.375 C284,262.093 277.977,257 272,257 C264.811,257 259,262.093 259,268.375 C259,272.015 260.387,275.104 263,277.329 L263,283 L268.637,279.736 L268.637,279.736 Z M285.949,266.139 L286,267 C286.008,267.817 286,267.742 286,268.5 C286,276.475 279.716,282 271,282 L268,282 C270.38,284.328 273.149,285.75 277,285.75 C277.819,285.75 278.618,285.676 279.395,285.549 L285,289 L285,283.329 C288.04,281.246 290,278.015 290,274.375 C290,271.131 288.439,268.211 285.949,266.139 L285.949,266.139 Z" id="ait-comments" sketch:type="MSShapeGroup"></path> </g> </g> </svg>',chat_icon_1:'<svg fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.8671 5.54947C15.6183 5.8806 15.685 6.35077 16.0161 6.59961C17.5554 7.75638 18.5487 9.59528 18.5487 11.6664C18.5487 12.5783 18.3565 13.4432 18.0111 14.2246C17.9543 14.353 17.9347 14.4948 17.9546 14.6338L18.3998 17.751L15.8647 17.1171C15.6788 17.0706 15.4821 17.0971 15.3151 17.191C14.3997 17.7059 13.3433 17.9998 12.216 17.9998C11.7815 17.9998 11.3579 17.9561 10.9492 17.8732C10.5432 17.7908 10.1474 18.0531 10.065 18.4591C9.98261 18.865 10.2449 19.2609 10.6509 19.3432C11.1572 19.446 11.6807 19.4998 12.216 19.4998C13.499 19.4998 14.7117 19.1908 15.7819 18.6426L19.1181 19.4767C19.3604 19.5373 19.6169 19.4733 19.8023 19.3061C19.9878 19.1388 20.0778 18.8903 20.0425 18.6431L19.4691 14.6287C19.8429 13.714 20.0487 12.7134 20.0487 11.6664C20.0487 9.10373 18.8174 6.8284 16.9173 5.40047C16.5861 5.15163 16.116 5.21834 15.8671 5.54947Z" fill="currentColor" fill-opacity="0.4"></path><path d="M0.691666 12.6571C0.247969 11.6534 0.00153923 10.543 0.00153923 9.375C0.00153923 4.88769 3.63888 1.25 8.12577 1.25C12.6127 1.25 16.25 4.88769 16.25 9.375C16.25 13.8623 12.6127 17.5 8.12577 17.5C6.68118 17.5 5.32465 17.1229 4.14922 16.4618L0 17.4992L0.691666 12.6571Z" ></path><path fill-rule="evenodd" clip-rule="evenodd" d="M2.17659 12.8692C2.21631 12.5912 2.17716 12.3076 2.06359 12.0507C1.70273 11.2343 1.50154 10.3301 1.50154 9.375C1.50154 5.71598 4.46744 2.75 8.12577 2.75C11.7841 2.75 14.75 5.71598 14.75 9.375C14.75 13.034 11.7841 16 8.12577 16C6.94538 16 5.84131 15.6925 4.88454 15.1544C4.55049 14.9665 4.1572 14.9137 3.78538 15.0066L1.80039 15.5029L2.17659 12.8692ZM0 17.4992L4.14922 16.4618C5.32465 17.1229 6.68118 17.5 8.12577 17.5C12.6127 17.5 16.25 13.8623 16.25 9.375C16.25 4.88769 12.6127 1.25 8.12577 1.25C3.63888 1.25 0.00153923 4.88769 0.00153923 9.375C0.00153923 10.543 0.247969 11.6534 0.691666 12.6571L0 17.4992Z" fill="currentColor" fill-opacity="0.4"></path><circle cx="3.75" cy="8.75" r="1.25" fill="currentColor" fill-opacity="0.4"></circle><circle cx="8.125" cy="8.75" r="1.25" fill="currentColor" fill-opacity="0.4"></circle><circle cx="12.5" cy="8.75" r="1.25" fill="currentColor" fill-opacity="0.4"></circle></svg>',write_icon:'<svg fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="1.25" y="1.25" width="15" height="17.5" rx="2"></rect><path fill-rule="evenodd" clip-rule="evenodd" d="M3.95276 2.75C3.2624 2.75 2.70276 3.30964 2.70276 4V16C2.70276 16.6904 3.2624 17.25 3.95276 17.25H13.9528C14.6431 17.25 15.2028 16.6904 15.2028 16V12C15.2028 11.5858 15.5385 11.25 15.9528 11.25C16.367 11.25 16.7028 11.5858 16.7028 12V16C16.7028 17.5188 15.4715 18.75 13.9528 18.75H3.95276C2.43398 18.75 1.20276 17.5188 1.20276 16V4C1.20276 2.48122 2.43398 1.25 3.95276 1.25H12.4528C12.867 1.25 13.2028 1.58579 13.2028 2C13.2028 2.41421 12.867 2.75 12.4528 2.75H3.95276Z" fill="currentColor" fill-opacity="0.4"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M15.5232 1.96967C15.8161 1.67678 16.291 1.67678 16.5839 1.96967L19.1769 4.56268C19.6649 5.05071 19.6651 5.84193 19.1772 6.33014L10.5813 14.9321C10.421 15.0925 10.2202 15.2062 10.0002 15.2612L7.01462 16.0076C6.09916 16.2364 5.26993 15.4072 5.49878 14.4918L6.24521 11.5058C6.30008 11.2863 6.41348 11.0859 6.57333 10.9258L11.8402 5.65272C12.1331 5.35983 12.6079 5.35983 12.9008 5.65272C13.1937 5.94562 13.1937 6.42049 12.9008 6.71338L7.68366 11.9367L7.05505 14.4513L9.56923 13.8228L17.9395 5.44662L15.5232 3.03033C15.2303 2.73744 15.2303 2.26257 15.5232 1.96967Z" fill="currentColor" fill-opacity="0.4"></path><defs><linearGradient id="ait-paint0_linear_4632_46813" x1="7" y1="19" x2="3" y2="3" gradientUnits="userSpaceOnUse"><stop stop-color="#37235E"></stop><stop offset="1" stop-color="#212123"></stop></linearGradient></defs></svg>',write_active_icon:'<svg xmlns="http://www.w3.org/2000/svg"><rect x="1.25" y="1.25" width="15" height="17.5" rx="2" fill="currentColor"></rect><path d="M6.45218 15.4415C6.36064 15.8077 6.69233 16.1394 7.05852 16.0478L10.0442 15.3014C10.1321 15.2795 10.2124 15.234 10.2765 15.1699L19.6464 5.79998C19.8417 5.60471 19.8417 5.28813 19.6464 5.09287L17.4071 2.85355C17.2119 2.65829 16.8953 2.65829 16.7 2.85355L7.33007 12.2235C7.26599 12.2876 7.22053 12.3679 7.19855 12.4558L6.45218 15.4415Z" fill=""></path></svg>',ask_icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/><path fill="currentColor" d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82ZM128,192a12,12,0,1,1,12-12A12,12,0,0,1,128,192Zm8-48.72V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.24,139.93,136,143.28Z"/></svg>',ask_active_icon:'<svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#ait-clip0_4632_46831)"><path d="M16.737 2.88306H6.73705C6.21106 2.88306 5.78467 3.30945 5.78467 3.83544V12.645C5.78467 13.1709 6.21106 13.5973 6.73705 13.5973H16.737C17.263 13.5973 17.6894 13.1709 17.6894 12.645V3.83544C17.6894 3.30945 17.263 2.88306 16.737 2.88306Z" fill="url(#ait-paint0_linear_4632_46831)"></path><path d="M16.737 2.88306H6.73705C6.21106 2.88306 5.78467 3.30945 5.78467 3.83544V12.645C5.78467 13.1709 6.21106 13.5973 6.73705 13.5973H16.737C17.263 13.5973 17.6894 13.1709 17.6894 12.645V3.83544C17.6894 3.30945 17.263 2.88306 16.737 2.88306Z" fill="url(#ait-paint1_linear_4632_46831)"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M11.0228 2.88299C11.0228 2.4885 11.3426 2.1687 11.7371 2.1687H16.7371C17.6576 2.1687 18.4038 2.91489 18.4038 3.83537V12.6449C18.4038 13.5654 17.6576 14.3116 16.7371 14.3116H5.78472C5.39023 14.3116 5.07043 13.9917 5.07043 13.5973C5.07043 13.2028 5.39023 12.883 5.78472 12.883H16.7371C16.8686 12.883 16.9752 12.7764 16.9752 12.6449V3.83537C16.9752 3.70387 16.8686 3.59727 16.7371 3.59727H11.7371C11.3426 3.59727 11.0228 3.27747 11.0228 2.88299Z" fill="currentColor" fill-opacity="0.4"></path><path d="M14.2472 7.0707C14.2473 6.572 14.0771 6.12943 13.7204 5.81858C13.373 5.5159 12.9073 5.38899 12.4077 5.38908C11.838 5.38919 11.3478 5.60143 10.9135 5.95894C10.8409 6.01876 10.7533 6.04806 10.6785 6.04867C10.608 6.04925 10.5594 6.026 10.5259 5.98969C10.4952 5.95647 10.4815 5.91785 10.4802 5.88629C10.4791 5.85738 10.4874 5.83727 10.502 5.82146C11.0776 5.19675 11.781 4.8312 12.5904 4.83105C13.2848 4.83092 13.8346 5.02301 14.2048 5.35268C14.5668 5.67516 14.8088 6.17505 14.8087 6.9056C14.8086 7.42912 14.5673 7.78505 14.1904 8.15671C14.0697 8.27572 13.9588 8.3749 13.8402 8.48091C13.7522 8.55956 13.66 8.64196 13.5565 8.73902C13.3377 8.9441 13.108 9.18147 12.932 9.46766C12.775 9.72316 12.6046 9.8184 12.4953 9.8184C12.4167 9.8184 12.3622 9.78259 12.3421 9.75773L12.3396 9.75449L12.3409 9.75192C12.5329 9.3769 12.8454 9.09006 13.2072 8.75819C13.2602 8.70952 13.3143 8.65988 13.3693 8.60886C13.7469 8.25806 14.2471 7.77187 14.2472 7.0707Z" stroke="currentColor" stroke-opacity="0.4"></path><path d="M12.4231 12.193C12.1244 12.193 11.9437 12.0086 11.9437 11.7209C11.9437 11.4439 12.1243 11.2595 12.4231 11.2595C12.7076 11.2595 12.8917 11.4405 12.8917 11.7209C12.8917 12.0086 12.7004 12.193 12.4231 12.193Z" stroke="currentColor" stroke-opacity="0.4"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M7.66641 9.52383C9.77039 9.52383 11.4759 7.81825 11.4759 5.71431C11.4759 3.61037 9.77039 1.90479 7.66641 1.90479C5.56247 1.90479 3.85689 3.61037 3.85689 5.71431C3.85689 7.81825 5.56247 9.52383 7.66641 9.52383ZM13.0539 12.7077C14.4828 14.1366 15.2854 16.0746 15.2854 18.0953H0.0473633C0.0473633 16.0746 0.850082 14.1366 2.27893 12.7077C3.70778 11.279 5.64571 10.4762 7.66641 10.4762C9.68715 10.4762 11.6251 11.279 13.0539 12.7077Z" fill="url(#ait-paint2_linear_4632_46831)"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M5.96273 10.6691C4.57873 10.9867 3.29908 11.6876 2.27893 12.7077C1.19151 13.7952 0.466742 15.1775 0.182458 16.6667C0.093198 17.1343 0.0473633 17.6124 0.0473633 18.0953H15.2854C15.2854 17.6124 15.2396 17.1343 15.1504 16.6667C14.8661 15.1775 14.1413 13.7952 13.0539 12.7077C12.0337 11.6876 10.7541 10.9867 9.37009 10.6691C8.81562 10.5419 8.2444 10.4762 7.66641 10.4762C7.08842 10.4762 6.5172 10.5419 5.96273 10.6691ZM6.09413 9.18526C6.57346 9.40274 7.10579 9.52383 7.66641 9.52383C8.22703 9.52383 8.75936 9.40273 9.23868 9.18526C10.5582 8.5866 11.4759 7.25763 11.4759 5.71431C11.4759 3.61037 9.77039 1.90479 7.66641 1.90479C5.56247 1.90479 3.85689 3.61037 3.85689 5.71431C3.85689 7.25763 4.77462 8.5866 6.09413 9.18526ZM13.6898 16.6667C13.4272 15.5592 12.8617 14.5359 12.0437 13.7179C10.8828 12.557 9.30823 11.9048 7.66641 11.9048C6.0246 11.9048 4.45002 12.557 3.28909 13.7179C2.47111 14.5359 1.90569 15.5592 1.643 16.6667H13.6898ZM7.66641 8.09526C8.98137 8.09526 10.0473 7.02927 10.0473 5.71431C10.0473 4.39935 8.98137 3.33336 7.66641 3.33336C6.35145 3.33336 5.28546 4.39935 5.28546 5.71431C5.28546 7.02927 6.35145 8.09526 7.66641 8.09526Z" fill="currentColor" fill-opacity="0.4"></path></g><defs><linearGradient id="ait-paint0_linear_4632_46831" x1="17.6664" y1="13.3334" x2="5.28546" y2="2.38106" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor"></stop></linearGradient><linearGradient id="ait-paint1_linear_4632_46831" x1="10.3482" y1="13.7504" x2="8.41285" y2="3.71548" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor"></stop></linearGradient><linearGradient id="ait-paint2_linear_4632_46831" x1="11.5" y1="12" x2="1.65136" y2="8.56591" gradientUnits="userSpaceOnUse"><stop stop-color="currentColor"></stop><stop offset="1" stop-color="currentColor"></stop></linearGradient><clipPath id="ait-clip0_4632_46831"><rect width="20" height="20" fill="currentColor" transform="translate(0.0472412)"></rect></clipPath></defs></svg>',chat_pdf_icon:'<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.79128 0.289062C2.90763 0.289062 2.19128 1.00541 2.19128 1.88906V2.33517C1.42585 2.45474 0.84021 3.11694 0.84021 3.91592V4.6181C0.84021 5.41709 1.42585 6.07929 2.19128 6.19886V13.4C2.19128 14.2837 2.90763 15 3.79128 15H12.6C13.4837 15 14.2 14.2837 14.2 13.4V1.88906C14.2 1.00541 13.4837 0.289062 12.6 0.289062H3.79128ZM3.39128 6.21811V13.4C3.39128 13.6209 3.57037 13.8 3.79128 13.8H12.6C12.8209 13.8 13 13.6209 13 13.4V1.88906C13 1.66815 12.8209 1.48906 12.6 1.48906H3.79128C3.57037 1.48906 3.39128 1.66815 3.39128 1.88906V2.31592H5.84458C6.72824 2.31592 7.44458 3.03226 7.44458 3.91592V4.6181C7.44458 5.50176 6.72824 6.21811 5.84458 6.21811H3.39128ZM2.04021 3.91592C2.04021 3.695 2.2193 3.51592 2.44021 3.51592H5.84458C6.0655 3.51592 6.24458 3.695 6.24458 3.91592V4.6181C6.24458 4.83902 6.0655 5.01811 5.84458 5.01811H2.44021C2.2193 5.01811 2.04021 4.83902 2.04021 4.6181V3.91592Z" fill="currentColor" fill-opacity="0.5"></path><path d="M11.2151 11.1661C10.6578 11.1247 10.1215 10.9178 9.68817 10.5452C8.84183 10.7314 8.03717 11.0006 7.23237 11.3317C6.59261 12.4699 5.99415 13.0492 5.47818 13.0492C5.37504 13.0492 5.2512 13.0284 5.1687 12.9664C4.94166 12.8629 4.81787 12.6353 4.81787 12.4078C4.81787 12.2215 4.85907 11.704 6.81975 10.8558C7.27352 10.028 7.62435 9.17948 7.91333 8.28976C7.6657 7.79314 7.12923 6.57219 7.50066 5.95153C7.62435 5.72383 7.87213 5.59969 8.14042 5.6204C8.34676 5.6204 8.55309 5.72387 8.67679 5.88942C8.94522 6.26196 8.92452 7.04815 8.5736 8.20704C8.90392 8.82784 9.3373 9.38643 9.85317 9.86254C10.2866 9.77972 10.7198 9.71756 11.1533 9.71756C12.1232 9.73822 12.2676 10.1937 12.2471 10.4624C12.2471 11.1661 11.5661 11.1661 11.2151 11.1661ZM5.43693 12.4491L5.49888 12.4281C5.78776 12.3248 6.01475 12.118 6.17989 11.8489C5.87026 11.9731 5.62262 12.1803 5.43693 12.4491ZM8.18162 6.2411H8.11957C8.09897 6.2411 8.05773 6.2411 8.03713 6.26191C7.95453 6.6136 8.01662 6.98614 8.16107 7.31722C8.28476 6.96543 8.28476 6.59284 8.18162 6.2411ZM8.32611 9.24164L8.30536 9.2831L8.28471 9.26235C8.09893 9.73817 7.89264 10.2144 7.66555 10.6694L7.70685 10.6488V10.6901C8.16107 10.5244 8.65619 10.3799 9.11031 10.2764L9.08951 10.2556H9.15146C8.84178 9.94502 8.553 9.59333 8.32611 9.24164ZM11.1326 10.3385C10.9469 10.3385 10.7819 10.3385 10.5961 10.3799C10.8024 10.4831 11.0087 10.5245 11.215 10.5453C11.3598 10.566 11.504 10.5453 11.6278 10.504C11.6278 10.4417 11.5453 10.3385 11.1326 10.3385Z" fill="currentColor"></path></svg>',chat_with_file_icon:'<svg class="svg-icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M486.4 1024A230.656 230.656 0 0 1 256 793.6v-614.4C256 80.384 336.384 0 435.2 0S614.4 80.384 614.4 179.2v563.2c0 70.5536-57.4464 128-128 128S358.4 812.9536 358.4 742.4v-307.2a25.6 25.6 0 0 1 51.2 0v307.2c0 42.3424 34.4576 76.8 76.8 76.8s76.8-34.4576 76.8-76.8v-563.2C563.2 108.6464 505.7536 51.2 435.2 51.2S307.2 108.6464 307.2 179.2v614.4C307.2 892.416 387.584 972.8 486.4 972.8s179.2-80.384 179.2-179.2v-358.4a25.6 25.6 0 0 1 51.2 0v358.4c0 127.0272-103.3728 230.4-230.4 230.4z" fill="" /></svg>',translate_icon:'<svg fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.8671 5.54947C15.6183 5.8806 15.685 6.35077 16.0161 6.59961C17.5554 7.75638 18.5487 9.59528 18.5487 11.6664C18.5487 12.5783 18.3565 13.4432 18.0111 14.2246C17.9543 14.353 17.9347 14.4948 17.9546 14.6338L18.3998 17.751L15.8647 17.1171C15.6788 17.0706 15.4821 17.0971 15.3151 17.191C14.3997 17.7059 13.3433 17.9998 12.216 17.9998C11.7815 17.9998 11.3579 17.9561 10.9492 17.8732C10.5432 17.7908 10.1474 18.0531 10.065 18.4591C9.98261 18.865 10.2449 19.2609 10.6509 19.3432C11.1572 19.446 11.6807 19.4998 12.216 19.4998C13.499 19.4998 14.7117 19.1908 15.7819 18.6426L19.1181 19.4767C19.3604 19.5373 19.6169 19.4733 19.8023 19.3061C19.9878 19.1388 20.0778 18.8903 20.0425 18.6431L19.4691 14.6287C19.8429 13.714 20.0487 12.7134 20.0487 11.6664C20.0487 9.10373 18.8174 6.8284 16.9173 5.40047C16.5861 5.15163 16.116 5.21834 15.8671 5.54947Z" fill="currentColor" fill-opacity="0.4"></path><path d="M0.691666 12.6571C0.247969 11.6534 0.00153923 10.543 0.00153923 9.375C0.00153923 4.88769 3.63888 1.25 8.12577 1.25C12.6127 1.25 16.25 4.88769 16.25 9.375C16.25 13.8623 12.6127 17.5 8.12577 17.5C6.68118 17.5 5.32465 17.1229 4.14922 16.4618L0 17.4992L0.691666 12.6571Z" ></path><path fill-rule="evenodd" clip-rule="evenodd" d="M2.17659 12.8692C2.21631 12.5912 2.17716 12.3076 2.06359 12.0507C1.70273 11.2343 1.50154 10.3301 1.50154 9.375C1.50154 5.71598 4.46744 2.75 8.12577 2.75C11.7841 2.75 14.75 5.71598 14.75 9.375C14.75 13.034 11.7841 16 8.12577 16C6.94538 16 5.84131 15.6925 4.88454 15.1544C4.55049 14.9665 4.1572 14.9137 3.78538 15.0066L1.80039 15.5029L2.17659 12.8692ZM0 17.4992L4.14922 16.4618C5.32465 17.1229 6.68118 17.5 8.12577 17.5C12.6127 17.5 16.25 13.8623 16.25 9.375C16.25 4.88769 12.6127 1.25 8.12577 1.25C3.63888 1.25 0.00153923 4.88769 0.00153923 9.375C0.00153923 10.543 0.247969 11.6534 0.691666 12.6571L0 17.4992Z" fill="currentColor" fill-opacity="0.4"></path><circle cx="3.75" cy="8.75" r="1.25" fill="currentColor" fill-opacity="0.4"></circle><circle cx="8.125" cy="8.75" r="1.25" fill="currentColor" fill-opacity="0.4"></circle><circle cx="12.5" cy="8.75" r="1.25" fill="currentColor" fill-opacity="0.4"></circle></svg>',collapse_sidebar_icon:'<svg aria-hide="true" focusable="false" role="img" viewBox="0 0 16 16" width="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"> <path d="M6.823 7.823a.25.25 0 0 1 0 .354l-2.396 2.396A.25.25 0 0 1 4 10.396V5.604a.25.25 0 0 1 .427-.177Z"></path> <path d="M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25H9.5v-13H1.75a.25.25 0 0 0-.25.25ZM11 14.5h3.25a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H11Z"></path> </svg>',collapse_sidebar_solid_icon:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M7.81 2C6.32 2 5.08 2.36 4.13 3.05C3.71 3.34 3.34 3.71 3.05 4.13C2.36 5.08 2 6.32 2 7.81V16.19C2 19.83 4.17 22 7.81 22H15.28V2H7.81ZM12.12 12.53L9.56 15.09C9.41 15.24 9.22 15.31 9.03 15.31C8.84 15.31 8.65 15.24 8.5 15.09C8.21 14.8 8.21 14.32 8.5 14.03L10.52 12L8.5 9.97C8.2 9.68 8.2 9.2 8.5 8.91C8.8 8.62 9.27 8.62 9.56 8.91L12.12 11.47C12.41 11.76 12.41 12.24 12.12 12.53Z" fill="currentColor"/> <path d="M16.7793 2.03125V21.9812C18.0093 21.9012 19.0493 21.5513 19.8693 20.9513C20.2893 20.6612 20.6593 20.2913 20.9493 19.8713C21.6393 18.9212 21.9993 17.6813 21.9993 16.1913V7.81125C21.9993 4.37125 20.0593 2.24125 16.7793 2.03125Z" fill="currentColor"/> </svg>',three_dots_icon:'<svg fill="none" width="150px" height="150px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" stroke="currentColor"><g id="ait-SVGRepo_bgCarrier" stroke-width="0"></g><g id="ait-SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="ait-SVGRepo_iconCarrier"><path d="M 16 6 C 14.894531 6 14 6.894531 14 8 C 14 9.105469 14.894531 10 16 10 C 17.105469 10 18 9.105469 18 8 C 18 6.894531 17.105469 6 16 6 Z M 16 14 C 14.894531 14 14 14.894531 14 16 C 14 17.105469 14.894531 18 16 18 C 17.105469 18 18 17.105469 18 16 C 18 14.894531 17.105469 14 16 14 Z M 16 22 C 14.894531 22 14 22.894531 14 24 C 14 25.105469 14.894531 26 16 26 C 17.105469 26 18 25.105469 18 24 C 18 22.894531 17.105469 22 16 22 Z"></path></g></svg>',variants_icon:'<svg width="12" height="12" fill="none" viewBox="0 0 12 12" style="min-width: 12px; min-height: 12px;"><g><path data-follow-fill="currentColor" d="M4.706 2.914 4 2.323l-.914-.116.591-.707.117-.914.706.591.914.117L4.823 2l-.117.914ZM7.5 1.5l-.5.147-.5-.147.147.5-.147.5.5-.147.5.147-.147-.5.147-.5Z" fill="currentColor" data-darkreader-inline-fill="" style="--darkreader-inline-fill: currentColor;"></path><path data-follow-fill="currentColor" d="M7.627 6.298a1.153 1.153 0 0 1-.35-.687L7.1 4.244l-1.21.659c-.234.126-.503.17-.763.12L3.77 4.772l.252 1.355c.049.26.006.53-.12.762l-.66 1.21 1.367.18c.263.034.506.158.688.35l.947 1 .593-1.244c.114-.24.306-.432.545-.546l1.245-.592-1-.948Zm.012 2.467-.982 2.061a.267.267 0 0 1-.433.07l-1.57-1.659a.266.266 0 0 0-.158-.08L2.23 8.86a.266.266 0 0 1-.199-.391l1.092-2.006a.266.266 0 0 0 .027-.175l-.418-2.245a.266.266 0 0 1 .31-.31l2.245.418c.06.01.122.001.176-.028l2.007-1.09a.266.266 0 0 1 .39.2l.296 2.263c.008.06.037.116.081.158l1.658 1.57a.266.266 0 0 1-.069.434l-2.062.98a.266.266 0 0 0-.125.127Zm.666 1.168a.443.443 0 0 1 .627-.627l1.254 1.253a.443.443 0 1 1-.627.628L8.305 9.933ZM1.5 5l-.75.22L0 5l.221.75L0 6.5l.75-.22.75.22-.219-.75L1.5 5Z" fill="currentColor" fill-opacity=".96" data-darkreader-inline-fill="" style="--darkreader-inline-fill: currentColor;"></path></g></svg>',upscale_icon:'<svg width="12" height="12" fill="none" viewBox="0 0 12 12" style="min-width: 12px; min-height: 12px;"><g><path data-follow-stroke="currentColor" d="M4.41 8.652c-.531 1.59-2.653 1.59-2.653 1.59s0-2.12 1.591-2.65M9.182 4.94 6 8.12 3.879 6 7.06 2.818c1.205-1.205 2.41-1.193 2.923-1.116a.373.373 0 0 1 .315.314c.076.514.088 1.718-1.117 2.923Zm-.53.53v3.026a.375.375 0 0 1-.11.265l-1.516 1.516a.375.375 0 0 1-.633-.191L6 8.12" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" data-darkreader-inline-stroke="" style="--darkreader-inline-stroke: currentColor;"></path><path data-follow-stroke="currentColor" d="M6.53 3.348H3.504a.375.375 0 0 0-.266.11L1.722 4.974a.375.375 0 0 0 .192.633L3.88 6" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" data-darkreader-inline-stroke="" style="--darkreader-inline-stroke: currentColor;"></path></g></svg>',download_icon:'<svg width="16" height="16" fill="none" viewBox="0 0 16 16" style="min-width: 16px; min-height: 16px;"><g><path data-follow-stroke="currentColor" d="M2 8.003V14h12V8" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" data-darkreader-inline-stroke="" style="--darkreader-inline-stroke: currentColor;"></path><path data-follow-stroke="currentColor" d="m11 7.667-3 3-3-3M7.997 2v8.667" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" data-darkreader-inline-stroke="" style="--darkreader-inline-stroke: currentColor;"></path></g></svg>',use_as_reference_icon:'<svg width="16" height="16" fill="none" viewBox="0 0 20 20" style="min-width: 16px; min-height: 16px;"><g><path data-follow-stroke="currentColor" d="m2.5 13.125 3.933-3.933a.625.625 0 0 1 .884 0l3.491 3.491a.625.625 0 0 0 .884 0l1.616-1.616a.628.628 0 0 1 .681-.136.627.627 0 0 1 .203.136l3.308 3.308" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-darkreader-inline-stroke="" style="--darkreader-inline-stroke: currentColor;"></path><path data-follow-stroke="currentColor" d="M16.875 3.75H3.125a.625.625 0 0 0-.625.625v11.25c0 .345.28.625.625.625h13.75c.345 0 .625-.28.625-.625V4.375a.625.625 0 0 0-.625-.625Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" data-darkreader-inline-stroke="" style="--darkreader-inline-stroke: currentColor;"></path><path data-follow-stroke="currentColor" data-follow-fill="currentColor" d="M12.906 7.813a.719.719 0 1 1-1.437 0 .719.719 0 0 1 1.437 0Z" fill="currentColor" stroke="currentColor" stroke-width=".125" data-darkreader-inline-fill="" data-darkreader-inline-stroke="" style="--darkreader-inline-fill: currentColor; --darkreader-inline-stroke: currentColor;"></path></g></svg>',edit_icon:'<svg width="16" height="16" fill="none" viewBox="0 0 20 20" style="min-width: 20px; min-height: 20px;"><g><path fill="currentColor" d="M16.71 3.762a.781.781 0 1 0-1.232-.961C13.238 5.67 11.42 7.99 10 9.792c-1.421-1.8-3.238-4.12-5.478-6.991a.781.781 0 0 0-1.232.96c2.363 3.029 4.257 5.447 5.714 7.29a682.575 682.575 0 0 1-1.205 1.511 2.774 2.774 0 1 0-.428 2.964c.385-.42 1.26-1.493 2.629-3.216 1.37 1.723 2.244 2.797 2.63 3.216a2.773 2.773 0 1 0-.428-2.964 288.462 288.462 0 0 1-1.206-1.51c1.457-1.844 3.351-4.262 5.714-7.29Zm-2.827 10.817a.807.807 0 0 0-.082-.087 1.211 1.211 0 1 1 .082.088Zm-7.684-.087a1.207 1.207 0 0 1-.926.43 1.21 1.21 0 1 1 .926-.43Z" clip-rule="evenodd" fill-rule="evenodd" opacity=".8" data-follow-fill="#545C66" data-darkreader-inline-fill="" style="--darkreader-inline-fill: currentColor;"></path></g></svg>',close_icon:'<svg aria-hide="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" /></svg>',back_icon:'<svg aria-hide="true" focusable="false" role="img" viewBox="0 0 16 16" width="14" height="14" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path d="M9.78 12.78a.75.75 0 0 1-1.06 0L4.47 8.53a.75.75 0 0 1 0-1.06l4.25-4.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L6.06 8l3.72 3.72a.75.75 0 0 1 0 1.06Z"></path></svg>',compare_icon:'<svg width="1em" height="1em" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 3.333h3.333c.629 0 .943 0 1.138.196.196.195.196.51.196 1.138v6.667c0 .628 0 .942-.196 1.138-.195.195-.51.195-1.138.195H10" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6 3.933a.6.6 0 100-1.2v1.2zm-3.334 0h.6v-1.2h-.6v1.2zM1.528 3.53l.425.424-.425-.424zM.733 4.667v.6h1.2v-.6h-1.2zm1.2 6.667v-.6h-1.2v.6h1.2zm-.405 1.138l.425-.425-.425.425zm1.138.795h.6v-1.2h-.6v1.2zm3.334 0a.6.6 0 100-1.2v1.2zM5.166 2.733h-.6v1.2h.6v-1.2zM1.933 6.857v-.6h-1.2v.6h1.2zm-1.2 2.286v.6h1.2v-.6h-1.2zm4.433 2.924h-.6v1.2h.6v-1.2zm-2.5-9.334c-.297 0-.58 0-.811.03-.248.034-.523.114-.751.342l.849.848c-.033.032-.053.015.062 0 .132-.018.32-.02.651-.02v-1.2zm-1.562.371c-.228.228-.308.503-.341.751-.031.231-.03.515-.03.812h1.2c0-.331.001-.52.02-.652.015-.115.032-.094 0-.062l-.849-.849zm-.371 8.23c0 .297-.001.58.03.811.033.248.113.523.341.75l.849-.848c.032.033.015.053 0-.062a5.695 5.695 0 01-.02-.651h-1.2zm.371 1.562c.228.227.503.308.75.341.232.031.515.03.812.03v-1.2c-.33 0-.519-.001-.651-.02-.115-.015-.095-.032-.062 0l-.849.849zM6 2.733h-.834v1.2H6v-1.2zM.733 6.857v.31h1.2v-.31h-1.2zm0 .31V8h1.2v-.833h-1.2zm0 .833v1.143h1.2V8h-1.2zm4.433 5.267H6v-1.2h-.834v1.2z" fill="currentColor"></path><path d="M8 2v12" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"></path></svg>',generate_image_icon:'<svg width="1em" height="1em" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="currentColor" stroke-width="1.2" stroke-linejoin="round" d="M9.882 1.6l1.22 3.298 3.298 1.22-3.298 1.22-1.22 3.297-1.22-3.297-3.298-1.22 3.298-1.22L9.882 1.6zM4.235 9.13L5.3 10.699l1.57 1.066L5.3 12.83 4.235 14.4l-1.066-1.57-1.57-1.066 1.57-1.066 1.066-1.57z"></path></svg>',upscale_tool_icon:'<svg width="1em" height="1em" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g stroke="currentColor" fill="none" stroke-width="1.2" stroke-linecap="round"><path d="M12 1.6H4A2.4 2.4 0 001.6 4v8A2.4 2.4 0 004 14.4h8a2.4 2.4 0 002.4-2.4V4A2.4 2.4 0 0012 1.6z"></path><path d="M6.8 8h-4a1.2 1.2 0 00-1.2 1.2v2.914A2.286 2.286 0 003.885 14.4H6.8A1.2 1.2 0 008 13.2v-4A1.2 1.2 0 006.8 8z"></path><path d="M9.066 6.933l3.2-3.2m0 0H8.8m3.466 0V7.2" stroke-linejoin="round"></path></g></svg>',initial_image_icon:'<svg width="1em" height="1em" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.975 12.776a.6.6 0 00.849.848l-.849-.848zM5.6 10l.424-.424a.6.6 0 00-.849 0L5.6 10zm1.6 1.6l-.425.424a.6.6 0 00.849 0L7.2 11.6zM10.8 8l.424-.424a.6.6 0 00-.849 0L10.8 8zm2.775 3.624a.6.6 0 00.849-.848l-.849.848zm-10.751 2l3.2-3.2-.849-.848-3.2 3.2.849.848zm2.351-3.2l1.6 1.6.849-.848-1.6-1.6-.849.848zm2.449 1.6l3.6-3.6-.849-.848-3.6 3.6.849.848zm2.751-3.6l3.2 3.2.849-.848-3.2-3.2-.849.848zM4 2.2h8V1H4v1.2zM13.8 4v8H15V4h-1.2zM12 13.8H4V15h8v-1.2zM2.2 12V4H1v8h1.2zM4 13.8A1.8 1.8 0 012.2 12H1a3 3 0 003 3v-1.2zm9.8-1.8a1.8 1.8 0 01-1.8 1.8V15a3 3 0 003-3h-1.2zM12 2.2A1.8 1.8 0 0113.8 4H15a3 3 0 00-3-3v1.2zM4 1a3 3 0 00-3 3h1.2A1.8 1.8 0 014 2.2V1zm1.8 4.2a.6.6 0 01-.6.6V7A1.8 1.8 0 007 5.2H5.8zm-.6.6a.6.6 0 01-.6-.6H3.4A1.8 1.8 0 005.2 7V5.8zm-.6-.6a.6.6 0 01.6-.6V3.4a1.8 1.8 0 00-1.8 1.8h1.2zm.6-.6a.6.6 0 01.6.6H7a1.8 1.8 0 00-1.8-1.8v1.2z" fill="currentColor"></path></svg>',horizontal_three_dots_icon:'<svg width="1em" height="1em" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M10.833 7.833a1 1 0 102 0 1 1 0 00-2 0zm-4 0a1 1 0 102 0 1 1 0 00-2 0zm-3.667 0a1 1 0 102 0 1 1 0 00-2 0z"></path></svg>',remove_text_icon:'<svg width="1em" height="1em" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L2 12m1-8h8M7 4v7M3 1h8a2 2 0 012 2v8a2 2 0 01-2 2H3a2 2 0 01-2-2V3a2 2 0 012-2z" stroke="currentColor" stroke-linecap="round"></path></svg>',remove_background_icon:'<svg width="1em" height="1em" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.369 1L3.684 4.316l-.335.414-.336.415-.335.414-.336.415L1 7.632M10.79 1L8.343 3.684M13 5v-.917V3a2 2 0 00-2-2H3a2 2 0 00-2 2V11A2 2 0 003 13h2.542m-2.4-3.612l-.306.336-.612.67-.612.672-.306.335" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11.5 7a.5.5 0 000 1V7zm1.5.5h.5A.5.5 0 0013 7v.5zm0 2.5l.099.49A.5.5 0 0013.5 10H13zm-5 1l-.098-.49A.5.5 0 007.5 11H8zm-.5 2.5a.5.5 0 001 0h-1zM5 5.5h5v-1H5v1zm5.5.5v2h1V6h-1zM10 8.5H5v1h5v-1zM4.5 8V6h-1v2h1zm.5.5a.5.5 0 01-.5-.5h-1A1.5 1.5 0 005 9.5v-1zm5.5-.5a.5.5 0 01-.5.5v1A1.5 1.5 0 0011.5 8h-1zM10 5.5a.5.5 0 01.5.5h1A1.5 1.5 0 0010 4.5v1zm-5-1A1.5 1.5 0 003.5 6h1a.5.5 0 01.5-.5v-1zM11.5 8H13V7h-1.5v1zm1-.5V10h1V7.5h-1zm.403 2.01l-5 1 .195.98 5-1-.195-.98zM7.5 11v2.5h1V11h-1z" fill="currentColor"></path></svg>',replace_background_icon:'<svg width="1em" height="1em" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="ait-icon//" clip-path="url(#ait-clip0_32985_775)"><path id="ait-Vector" d="M6.36879 1L1 7.63158M10.7902 1L1.36454 11.3371M13.0008 3.21053L10.7112 5.65789M3.8423 13L4.98712 11.7763M8.22983 13H7.00042H3C1.89543 13 1 12.104 1 10.9995C1 10.9705 1 10.9431 1 10.9173V3.08271C1 3.0569 1 3.02945 1 3.00054C1 1.89597 1.89543 1 3 1H11.0008C12.1054 1 13.0008 1.89597 13.0008 3.00054C13.0008 3.02945 13.0008 3.0569 13.0008 3.08271V7V9.45865V10.688" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path id="ait-Vector_2" d="M10.1351 12.66L10.7581 14.074L11.3811 12.66L12.5222 12.037L11.3811 11.414L10.7581 10L10.1351 11.414L9.00098 12.037L10.1351 12.66Z" fill="currentColor"></path><path id="ait-Vector_3" d="M7.13408 9.66L7.75711 11.074L8.38017 9.66L9.52124 9.03699L8.38017 8.414L7.75711 7L7.13408 8.414L6 9.03699L7.13408 9.66Z" fill="currentColor"></path></g><defs><clipPath id="ait-clip0_32985_775"><rect width="14.001" height="14" fill="currentColor"></rect></clipPath></defs></svg>',remove_brushed_area_icon:'<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#ait-clip0_33336_906)"><path d="M14.001 0H0V14H14.001V0Z" fill="none"></path><path d="M3.08659 8.07435L4.9972 9.17744L2.6691 12.7649C2.36449 13.2925 1.68985 13.4732 1.16224 13.1686C0.634643 12.864 0.453874 12.1894 0.758485 11.6618L3.08659 8.07435Z" stroke="currentColor"></path><path d="M7.18979 6.69051C7.42492 7.90126 5.43449 9.20952 4.34465 8.5803C3.25481 7.95108 2.95831 6.4243 3.6824 5.17014C4.40648 3.91599 7.40383 3.28165 7.40383 3.28165C7.40383 3.28165 7.00351 5.73127 7.18979 6.69051Z" stroke="currentColor"></path><path d="M4.55078 3C4.78243 1.85888 5.79138 1 7.00094 1C8.38175 1 9.50112 2.11929 9.50112 3.5C9.50112 4.26578 9.15679 4.95114 8.61451 5.40972" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5.00042 12H13.001C13.001 9.67906 11.2577 7.70789 8.83448 7" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="ait-clip0_33336_906"><rect width="14.001" height="14" fill="currentColor"></rect></clipPath></defs></svg>',upload_again_icon:'<svg width="1em" height="1em" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><path d="M1.747 11.196a.5.5 0 00.707.708l-.707-.708zM4.9 8.75l.353-.354a.5.5 0 00-.707 0l.354.354zm1.4 1.4l-.354.354a.5.5 0 00.707 0L6.3 10.15zM9.45 7l.353-.354a.5.5 0 00-.707 0L9.451 7zm2.447 3.154a.5.5 0 00.707-.708l-.707.708zM7 1.9a.5.5 0 000-1v1zM13.1 7a.5.5 0 00-1 0h1zM8 3a.5.5 0 000 1V3zm5 1a.5.5 0 000-1v1zm-2-3a.5.5 0 10-1 0h1zm-1 5a.5.5 0 001 0h-1zm-7.547 5.904l2.8-2.8-.707-.708-2.8 2.8.707.708zm2.093-2.8l1.4 1.4.707-.708-1.4-1.4-.707.708zm2.107 1.4l3.15-3.15-.707-.708-3.15 3.15.707.708zm2.443-3.15l2.8 2.8.708-.708-2.8-2.8-.708.708zM10.5 12.1h-7v1h7v-1zm-8.6-1.6v-7h-1v7h1zm1.6 1.6a1.6 1.6 0 01-1.6-1.6h-1a2.6 2.6 0 002.6 2.6v-1zm8.6-1.6a1.6 1.6 0 01-1.6 1.6v1a2.6 2.6 0 002.6-2.6h-1zM3.501.9A2.6 2.6 0 00.9 3.5h1a1.6 1.6 0 011.6-1.6v-1zm1.6 3.65a.55.55 0 01-.55.55v1A1.55 1.55 0 006.1 4.55h-1zm-.55.55A.55.55 0 014 4.55H3c0 .856.694 1.55 1.55 1.55v-1zM4 4.55A.55.55 0 014.55 4V3A1.55 1.55 0 003 4.55h1zM4.55 4a.55.55 0 01.55.55h1A1.55 1.55 0 004.55 3v1zM3.5 1.9H7v-1H3.5v1zM12.1 7v3.5h1V7h-1zM8 4h5V3H8v1zm2-3v5h1V1h-1z" fill="currentColor"></path></svg>',credit_icon:'<svg width="1em" height="1em" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#ffffff" stroke-width="1.2" stroke-linejoin="round" d="M9.882 1.6l1.22 3.298 3.298 1.22-3.298 1.22-1.22 3.297-1.22-3.297-3.298-1.22 3.298-1.22L9.882 1.6zM4.235 9.13L5.3 10.699l1.57 1.066L5.3 12.83 4.235 14.4l-1.066-1.57-1.57-1.066 1.57-1.066 1.066-1.57z"></path></svg>',magic_wand:'<svg width="20" height="20" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M9.5 9.625l-0.906 2.906-0.875-2.906-2.906-0.906 2.906-0.875 0.875-2.938 0.906 2.938 2.906 0.875zM14.563 8.031l-0.438 1.469-0.5-1.469-1.438-0.469 1.438-0.438 0.5-1.438 0.438 1.438 1.438 0.438zM0.281 24l17.906-17.375c0.125-0.156 0.313-0.25 0.531-0.25 0.281-0.031 0.563 0.063 0.781 0.281 0.094 0.063 0.219 0.188 0.406 0.344 0.344 0.313 0.719 0.688 1 1.063 0.125 0.188 0.188 0.344 0.188 0.5 0.031 0.313-0.063 0.594-0.25 0.781l-17.906 17.438c-0.156 0.156-0.344 0.219-0.563 0.25-0.281 0.031-0.563-0.063-0.781-0.281-0.094-0.094-0.219-0.188-0.406-0.375-0.344-0.281-0.719-0.656-0.969-1.063-0.125-0.188-0.188-0.375-0.219-0.531-0.031-0.313 0.063-0.563 0.281-0.781zM14.656 11.375l1.313 1.344 4.156-4.031-1.313-1.375zM5.938 13.156l-0.406 1.438-0.438-1.438-1.438-0.469 1.438-0.438 0.438-1.469 0.406 1.469 1.5 0.438zM20.5 12.063l0.469 1.469 1.438 0.438-1.438 0.469-0.469 1.438-0.469-1.438-1.438-0.469 1.438-0.438z"></path></svg>',reference_image_icon:'<svg class="ait-cursor-pointer icon-zzgNjO" width="20" height="20" fill="none" viewBox="0 0 20 20" style="min-width: 20px; min-height: 20px;"><g><path fill="currentColor" d="M4.063 4.844c0-.432.35-.782.78-.782H10A.781.781 0 1 0 10 2.5H4.844A2.344 2.344 0 0 0 2.5 4.844v10.312A2.344 2.344 0 0 0 4.844 17.5h10.312a2.344 2.344 0 0 0 2.344-2.344V10a.781.781 0 0 0-1.563 0v5.156c0 .432-.35.781-.78.781H4.843a.781.781 0 0 1-.782-.78V4.843Zm1.044 7.754a.625.625 0 0 0 .504.996h8.812c.506 0 .803-.57.512-.984l-2.988-4.26a.625.625 0 0 0-1.041.027L9.857 10.05a.625.625 0 0 1-.974.106l-.619-.627a.625.625 0 0 0-.948.068l-2.209 3.001Zm6.455-7.13c0-.43.35-.78.782-.78h1.406V3.28a.781.781 0 0 1 1.563 0v1.406h1.406a.781.781 0 0 1 0 1.563h-1.407v1.406a.781.781 0 0 1-1.562 0V6.25h-1.406a.781.781 0 0 1-.781-.781Z" clip-rule="evenodd" fill-rule="evenodd" opacity=".8" data-follow-fill="#545C66" data-darkreader-inline-fill="" style="--darkreader-inline-fill: currentColor;"></path></g></svg>',delete_icon:'<svg width="1em" height="1em" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><rect x="4.20004" y="1.40039" width="5.6" height="1.2" rx="0.6"></rect><mask id="ait-path-2-inside-1_23046_6486" fill="white"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 3.40039C1.66863 3.40039 1.4 3.66902 1.4 4.00039C1.4 4.33176 1.66863 4.60039 2 4.60039H2.60007V11.0004C2.60007 11.884 3.31642 12.6004 4.20007 12.6004H9.80007C10.6837 12.6004 11.4001 11.884 11.4001 11.0004V4.60039H12C12.3314 4.60039 12.6 4.33176 12.6 4.00039C12.6 3.66902 12.3314 3.40039 12 3.40039H11.4001H10.2001H3.80007H2.60007H2ZM10.2001 4.60039H3.80007V11.0004C3.80007 11.2213 3.97916 11.4004 4.20007 11.4004H9.80007C10.021 11.4004 10.2001 11.2213 10.2001 11.0004V4.60039Z"></path></mask><path d="M2.60007 4.60039H4.4215V2.77896H2.60007V4.60039ZM11.4001 4.60039V2.77896H9.57864V4.60039H11.4001ZM10.2001 4.60039H12.0215V2.77896H10.2001V4.60039ZM3.80007 4.60039V2.77896H1.97864V4.60039H3.80007ZM3.22143 4.00039C3.22143 4.67497 2.67458 5.22182 2 5.22182V1.57896C0.662684 1.57896 -0.421427 2.66307 -0.421427 4.00039H3.22143ZM2 2.77896C2.67458 2.77896 3.22143 3.32582 3.22143 4.00039H-0.421427C-0.421427 5.33771 0.662682 6.42182 2 6.42182V2.77896ZM2.60007 2.77896H2V6.42182H2.60007V2.77896ZM0.778643 4.60039V11.0004H4.4215V4.60039H0.778643ZM0.778643 11.0004C0.778643 12.89 2.31047 14.4218 4.20007 14.4218V10.779C4.32236 10.779 4.4215 10.8781 4.4215 11.0004H0.778643ZM4.20007 14.4218H9.80007V10.779H4.20007V14.4218ZM9.80007 14.4218C11.6897 14.4218 13.2215 12.89 13.2215 11.0004H9.57864C9.57864 10.8781 9.67778 10.779 9.80007 10.779V14.4218ZM13.2215 11.0004V4.60039H9.57864V11.0004H13.2215ZM12 2.77896H11.4001V6.42182H12V2.77896ZM10.7786 4.00039C10.7786 3.32581 11.3254 2.77896 12 2.77896V6.42182C13.3373 6.42182 14.4214 5.33771 14.4214 4.00039H10.7786ZM12 5.22182C11.3254 5.22182 10.7786 4.67497 10.7786 4.00039H14.4214C14.4214 2.66307 13.3373 1.57896 12 1.57896V5.22182ZM11.4001 5.22182H12V1.57896H11.4001V5.22182ZM11.4001 1.57896H10.2001V5.22182H11.4001V1.57896ZM10.2001 1.57896H3.80007V5.22182H10.2001V1.57896ZM3.80007 1.57896H2.60007V5.22182H3.80007V1.57896ZM2 5.22182H2.60007V1.57896H2V5.22182ZM10.2001 2.77896H3.80007V6.42182H10.2001V2.77896ZM1.97864 4.60039V11.0004H5.6215V4.60039H1.97864ZM1.97864 11.0004C1.97864 12.2273 2.97321 13.2218 4.20007 13.2218V9.57896C4.9851 9.57896 5.6215 10.2154 5.6215 11.0004H1.97864ZM4.20007 13.2218H9.80007V9.57896H4.20007V13.2218ZM9.80007 13.2218C11.0269 13.2218 12.0215 12.2272 12.0215 11.0004H8.37864C8.37864 10.2154 9.01503 9.57896 9.80007 9.57896V13.2218ZM12.0215 11.0004V4.60039H8.37864V11.0004H12.0215Z" mask="url(#ait-path-2-inside-1_23046_6486)"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M6.00018 5.40039C6.33155 5.40039 6.60018 5.66902 6.60018 6.00039L6.60018 9.60039C6.60018 9.93176 6.33155 10.2004 6.00018 10.2004C5.66881 10.2004 5.40018 9.93176 5.40018 9.60039L5.40018 6.00039C5.40018 5.66902 5.66881 5.40039 6.00018 5.40039Z"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M8.00005 5.40039C8.33142 5.40039 8.60005 5.66902 8.60005 6.00039L8.60005 9.60039C8.60005 9.93176 8.33142 10.2004 8.00005 10.2004C7.66868 10.2004 7.40005 9.93176 7.40005 9.60039L7.40005 6.00039C7.40005 5.66902 7.66868 5.40039 8.00005 5.40039Z"></path></g></svg>',history_icon:'<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12ZM22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM13 8.99939C12.9997 8.4471 12.5517 7.99966 11.9994 8C11.4471 8.00034 10.9997 8.44833 11 9.00061L11.0024 13.0006C11.0026 13.3347 11.1697 13.6466 11.4477 13.832L14.4471 15.832C14.9066 16.1384 15.5275 16.0143 15.8339 15.5548C16.1403 15.0953 16.0161 14.4744 15.5566 14.168L13.0021 12.4647L13 8.99939Z" fill="currentColor"></path></svg>',full_screen_icon:'<svg class="svg-icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M237.248 192H352a32 32 0 1 0 0-64H160a32 32 0 0 0-32 32v192a32 32 0 1 0 64 0v-114.752l137.36 137.36a32 32 0 1 0 45.232-45.264L237.248 192zM832 237.248V352a32 32 0 1 0 64 0V160a32 32 0 0 0-32-32H672a32 32 0 1 0 0 64h114.752l-137.36 137.36a32 32 0 1 0 45.264 45.232L832 237.248zM237.248 832H352a32 32 0 1 1 0 64H160a32 32 0 0 1-32-32V672a32 32 0 1 1 64 0v114.752l137.36-137.36a32 32 0 1 1 45.232 45.264L237.248 832zM832 786.752V672a32 32 0 1 1 64 0v192a32 32 0 0 1-32 32H672a32 32 0 1 1 0-64h114.752l-137.36-137.36a32 32 0 1 1 45.264-45.232L832 786.752z"  /></svg>',arrow_icon:'<svg aria-hide="true" focusable="false" role="img" class="octicon octicon-chevron-right" viewBox="0 0 16 16" width="16" height="16" fill="currentColor" style="display: inline-block; user-select: none; vertical-align: text-bottom; overflow: visible;"><path d="M6.22 3.22a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L9.94 8 6.22 4.28a.75.75 0 0 1 0-1.06Z"></path></svg>',image_chat_settings_icon:'<svg width="20" height="20" fill="none" viewBox="0 0 20 20" style="min-width: 20px; min-height: 20px;"><g><path data-follow-fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9.375 5.898a1.836 1.836 0 1 1-3.672 0 1.836 1.836 0 0 1 3.672 0Zm1.463.82a3.4 3.4 0 0 1-6.598 0H2.5a.781.781 0 0 1 0-1.562h1.722a3.4 3.4 0 0 1 6.634 0H17.5a.781.781 0 1 1 0 1.563h-6.662Zm3.459 7.384a1.836 1.836 0 1 1-3.672 0 1.836 1.836 0 0 1 3.672 0Zm1.463.82a3.4 3.4 0 0 1-6.598 0H2.5a.781.781 0 0 1 0-1.563h6.644a3.4 3.4 0 0 1 6.634 0H17.5a.781.781 0 1 1 0 1.563h-1.74Z" fill="currentColor" data-darkreader-inline-fill="" style="--darkreader-inline-fill: currentColor;"></path></g></svg>',regenerate_icon:'<svg width="16" height="16" fill="none" viewBox="0 0 16 16" style="min-width: 16px; min-height: 16px; margin-top: 2px;"><g><path data-follow-fill="currentColor" d="M11.767 4.233a5.3 5.3 0 0 0-4.32-1.54C5 2.94 2.987 4.927 2.714 7.373a5.323 5.323 0 0 0 10.093 2.92.668.668 0 0 0-1.187-.606 3.996 3.996 0 0 1-4.533 2.206A3.965 3.965 0 0 1 4.1 8.88 4.002 4.002 0 0 1 8 4a3.94 3.94 0 0 1 2.813 1.187L9.807 6.193c-.42.42-.127 1.14.466 1.14h2.394c.367 0 .667-.3.667-.666V4.273a.669.669 0 0 0-1.14-.473l-.427.433Z" fill="currentColor" data-darkreader-inline-fill="" style="--darkreader-inline-fill: currentColor;"></path></g></svg>',gift_icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" fill="none"><g clip-path="url(#ait-clip0_11821_42642)"><path d="M2.18208 6.77174H11.8179M2.18208 6.77174C1.64991 6.77174 1.21851 6.34033 1.21851 5.80816V4.84458C1.21851 4.31241 1.64991 3.881 2.18208 3.881H11.8179C12.35 3.881 12.7814 4.31241 12.7814 4.84458V5.80816C12.7814 6.34033 12.35 6.77174 11.8179 6.77174M2.18208 6.77174L2.18208 11.5896C2.18208 12.1218 2.61349 12.5532 3.14566 12.5532H10.8543C11.3865 12.5532 11.8179 12.1218 11.8179 11.5896V6.77174M6.99998 3.881L9.31257 3.11014C9.67652 2.98882 9.96211 2.70323 10.0834 2.33927C10.401 1.38644 9.49454 0.479936 8.5417 0.797549C8.17775 0.918867 7.89216 1.20446 7.77084 1.56841L6.99998 3.881ZM6.99998 3.881L4.68739 3.11014C4.32344 2.98882 4.03784 2.70323 3.91653 2.33927C3.59891 1.38644 4.50541 0.479936 5.45825 0.797549C5.8222 0.918867 6.1078 1.20446 6.22911 1.56841L6.99998 3.881ZM6.99998 3.881V12.5532" stroke="currentColor" stroke-width="1.2"></path></g><defs><clipPath id="ait-clip0_11821_42642"><rect width="14" height="14" fill="white"></rect></clipPath></defs></svg>',gift_white_icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" fill="none"><g clip-path="url(#ait-clip0_11821_42642)"><path d="M2.18208 6.77174H11.8179M2.18208 6.77174C1.64991 6.77174 1.21851 6.34033 1.21851 5.80816V4.84458C1.21851 4.31241 1.64991 3.881 2.18208 3.881H11.8179C12.35 3.881 12.7814 4.31241 12.7814 4.84458V5.80816C12.7814 6.34033 12.35 6.77174 11.8179 6.77174M2.18208 6.77174L2.18208 11.5896C2.18208 12.1218 2.61349 12.5532 3.14566 12.5532H10.8543C11.3865 12.5532 11.8179 12.1218 11.8179 11.5896V6.77174M6.99998 3.881L9.31257 3.11014C9.67652 2.98882 9.96211 2.70323 10.0834 2.33927C10.401 1.38644 9.49454 0.479936 8.5417 0.797549C8.17775 0.918867 7.89216 1.20446 7.77084 1.56841L6.99998 3.881ZM6.99998 3.881L4.68739 3.11014C4.32344 2.98882 4.03784 2.70323 3.91653 2.33927C3.59891 1.38644 4.50541 0.479936 5.45825 0.797549C5.8222 0.918867 6.1078 1.20446 6.22911 1.56841L6.99998 3.881ZM6.99998 3.881V12.5532" stroke="#fff" stroke-width="1.2"></path></g><defs><clipPath id="ait-clip0_11821_42642"><rect width="14" height="14" fill="white"></rect></clipPath></defs></svg>',send_icon:`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="ait-w-5 ait-h-5 ait-cursor-pointer" fill="none"' <path d="M20 12L14 6M20 12L14 18M20 12L9.5 12M4 12L6.5 12" stroke="#14746F" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>`,pin_icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pin"><line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/></svg>',unpin_icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pin-off"><line x1="2" x2="22" y1="2" y2="22"/><line x1="12" x2="12" y1="17" y2="22"/><path d="M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V17h12"/><path d="M15 9.34V6h1a2 2 0 0 0 0-4H7.89"/></svg>',voice_icon:'<svg width="16px" height="16px" viewBox="0 0 20 20" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg" class="ait-text-[var(--ait-link-color)] ait-text-[20px]"><path d="M3 9.5L3 10.5" stroke-width="2" stroke-linecap="round"></path><path d="M6.5 5.5L6.5 14.5" stroke-width="2" stroke-linecap="round"></path><path d="M10 8L10 12" stroke-width="2" stroke-linecap="round"></path><path d="M13.5 2L13.5 18" stroke-width="2" stroke-linecap="round"></path><path d="M17 6.5L17 13.5" stroke-width="2" stroke-linecap="round"></path></svg>',plan_icon:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14" ><g id="ait-subscription-cashflow"><path id="ait-Vector 3" stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" d="M8.35102 5.30659c-0.05122 -0.14491 -0.13026 -0.27668 -0.23069 -0.38889 -0.21363 -0.23868 -0.52407 -0.38889 -0.8696 -0.38889h-0.90305c-0.57515 0 -1.04141 0.46625 -1.04141 1.04141 0 0.4894 0.34077 0.91277 0.81887 1.01735l1.3749 0.30076c0.5356 0.11717 0.91736 0.5918 0.91736 1.14007 0 0.64433 -0.52234 1.1671 -1.16667 1.1671h-0.77778c-0.50798 0 -0.94013 -0.32465 -1.10029 -0.77778" stroke-width="1"></path><path id="ait-Vector 2489" stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" d="M6.86194 4.52898V3.3623" stroke-width="1"></path><path id="ait-Vector 2490" stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" d="M6.86194 10.3622V9.19556" stroke-width="1"></path><path id="ait-Vector" stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" d="M1.99841 13.4985v-2.5h2.5" stroke-width="1"></path><path id="ait-Ellipse 1132" stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" d="M13.3881 5.80396c0.622 3.30794 -1.4023 6.58744 -4.70733 7.47294 -2.52955 0.6778 -5.11054 -0.2339 -6.68248 -2.1229" stroke-width="1"></path><path id="ait-Ellipse 1133" stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" d="M0.611985 8.19607C-0.0100566 4.88813 2.01426 1.60867 5.31929 0.723095 7.84867 0.0453494 10.4295 0.95692 12.0015 2.84565" stroke-width="1"></path><path id="ait-Vector_2" stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" d="M12.0015 0.501709V3.00171H9.50146" stroke-width="1"></path></g></svg>',at_icon:'<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.03 2.31c1.014 1.048 1.36 2.47 1.36 3.688 0 1.294-.638 2.546-1.408 3.393-.388.427-.833.778-1.286.983-.445.201-.977.293-1.459.053a1 1 0 0 1-.475-.528c-.797.772-1.983 1.077-3.082.528-1.136-.568-1.424-1.846-1.347-2.948.077-1.114.535-2.308 1.21-2.983.945-.945 2.12-1.329 3.126-1.055.555.152 1.01.49 1.313.973q.073-.171.142-.326a.525.525 0 0 1 .977.38c-.26.779-.765 2.243-1.208 3.38-.129.509-.203.95-.207 1.28a1.1 1.1 0 0 0 .047.37c.092.035.26.041.53-.08.29-.132.622-.382.942-.733.644-.708 1.136-1.719 1.136-2.687 0-1.045-.3-2.168-1.066-2.958-.746-.771-2.02-1.314-4.164-1.046-1.827.228-3.242 1.494-3.944 3.13-.703 1.638-.661 3.581.357 5.108.611.917 1.893 1.64 3.475 1.855a7.17 7.17 0 0 0 4.911-1.117.525.525 0 1 1 .58.875 8.22 8.22 0 0 1-5.633 1.282c-1.778-.242-3.379-1.07-4.207-2.313C.405 8.947.382 6.621 1.202 4.71 2.023 2.797 3.72 1.235 5.981.952c2.38-.297 4.017.291 5.049 1.358M8.35 6.039v-.041c0-.937-.446-1.405-.957-1.544-.55-.15-1.354.031-2.107.784-.45.45-.84 1.377-.906 2.314-.066.951.209 1.655.77 1.936.824.412 1.826.025 2.287-.897.124-.247.282-.624.454-1.063l.017-.066c.122-.464.277-.95.443-1.423" fill="currentColor"></path></svg>',"GPT-3.5":'<svg  viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8" fill="#000"></circle><path d="M13.1351 6.91143C13.4073 6.09431 13.3136 5.19918 12.8782 4.45593C12.2235 3.31593 10.9072 2.72943 9.6217 3.00543C9.04983 2.36118 8.2282 1.99481 7.36683 2.00006C6.05283 1.99706 4.88695 2.84306 4.4827 4.09331C3.63858 4.26618 2.90995 4.79456 2.48358 5.54343C1.82395 6.68043 1.97433 8.11368 2.85558 9.08868C2.58333 9.9058 2.67708 10.8009 3.11245 11.5442C3.7672 12.6842 5.08345 13.2707 6.36895 12.9947C6.94045 13.6389 7.76245 14.0053 8.62383 13.9997C9.93858 14.0031 11.1048 13.1563 11.5091 11.9049C12.3532 11.7321 13.0818 11.2037 13.5082 10.4548C14.1671 9.3178 14.0163 7.88568 13.1355 6.91068L13.1351 6.91143ZM8.62458 13.2156C8.09845 13.2163 7.58883 13.0322 7.18495 12.6951C7.20333 12.6853 7.2352 12.6677 7.25583 12.6549L9.64533 11.2749C9.76758 11.2056 9.84258 11.0754 9.84183 10.9348V7.56618L10.8517 8.1493C10.8626 8.15455 10.8697 8.16505 10.8712 8.17705V10.9667C10.8697 12.2072 9.86508 13.2129 8.62458 13.2156ZM3.79308 11.1519C3.52945 10.6967 3.43458 10.1631 3.52495 9.64518C3.54258 9.65568 3.5737 9.6748 3.59583 9.68755L5.98533 11.0676C6.10645 11.1384 6.25645 11.1384 6.37795 11.0676L9.29508 9.38305V10.5493C9.29583 10.5613 9.2902 10.5729 9.28083 10.5804L6.86545 11.9751C5.78958 12.5946 4.41558 12.2263 3.79345 11.1519H3.79308ZM3.1642 5.93606C3.4267 5.48006 3.84108 5.13131 4.33458 4.95018C4.33458 4.97081 4.33345 5.00718 4.33345 5.03268V7.79305C4.3327 7.9333 4.4077 8.06343 4.52958 8.1328L7.4467 9.81693L6.43683 10.4001C6.4267 10.4068 6.41395 10.4079 6.4027 10.4031L3.98695 9.0073C2.91333 8.38555 2.54508 7.01193 3.16383 5.93643L3.1642 5.93606ZM11.4615 7.86693L8.54433 6.18243L9.5542 5.59968C9.56433 5.59293 9.57708 5.59181 9.58833 5.59668L12.0041 6.9913C13.0796 7.61268 13.4482 8.98855 12.8268 10.0641C12.564 10.5193 12.15 10.8681 11.6568 11.0496V8.20668C11.658 8.06643 11.5833 7.93668 11.4618 7.86693H11.4615ZM12.4665 6.35418C12.4488 6.34331 12.4177 6.32456 12.3956 6.31181L10.0061 4.93181C9.88495 4.86093 9.73495 4.86093 9.61345 4.93181L6.69633 6.6163V5.45006C6.69558 5.43806 6.7012 5.42643 6.71058 5.41893L9.12595 4.02543C10.2018 3.40481 11.5773 3.77418 12.1976 4.85043C12.4597 5.30493 12.5546 5.83706 12.4657 6.35418H12.4665ZM6.14733 8.4328L5.13708 7.84968C5.1262 7.84443 5.11908 7.83393 5.11758 7.82193V5.03231C5.11833 3.79031 6.12595 2.78381 7.36795 2.78456C7.89333 2.78456 8.40183 2.96906 8.8057 3.30506C8.78733 3.31481 8.75583 3.33243 8.73483 3.34518L6.34533 4.72518C6.22308 4.79456 6.14808 4.92431 6.14883 5.06493L6.14733 8.43205V8.4328ZM6.69595 7.25005L7.99533 6.49968L9.2947 7.24968V8.75005L7.99533 9.50005L6.69595 8.75005V7.25005Z" fill="white"></path></svg>',"GPT-4o Mini":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="none"> <rect width="16" height="16" rx="8" fill="#000"></rect> <path d="M13.1348 6.91143C13.4071 6.0943 13.3133 5.19918 12.878 4.45593C12.2232 3.31593 10.907 2.72943 9.62146 3.00543C9.04958 2.36118 8.22796 1.99481 7.36658 2.00006C6.05258 1.99706 4.88671 2.84306 4.48246 4.09331C3.63833 4.26618 2.90971 4.79456 2.48333 5.54343C1.82371 6.68043 1.97408 8.11368 2.85533 9.08868C2.58308 9.9058 2.67683 10.8009 3.11221 11.5442C3.76696 12.6842 5.08321 13.2707 6.36871 12.9947C6.94021 13.6389 7.76221 14.0053 8.62358 13.9997C9.93833 14.0031 11.1046 13.1563 11.5088 11.9049C12.353 11.7321 13.0816 11.2037 13.508 10.4548C14.1668 9.3178 14.0157 7.88643 13.1348 6.91143ZM8.62433 13.2156C8.09821 13.2163 7.58858 13.0322 7.18471 12.6951C7.20308 12.6853 7.23496 12.6677 7.25558 12.6549L9.64508 11.2749C9.76733 11.2056 9.84233 11.0754 9.84158 10.9348V7.56618L10.8515 8.1493C10.8623 8.15455 10.8695 8.16505 10.871 8.17705V10.9667C10.8695 12.2072 9.86483 13.2129 8.62433 13.2156ZM3.79283 11.1519C3.52921 10.6967 3.43433 10.1631 3.52471 9.64518C3.54233 9.65568 3.57346 9.6748 3.59558 9.68755L5.98508 11.0676C6.10621 11.1384 6.25621 11.1384 6.37771 11.0676L9.29483 9.38305V10.5493C9.29558 10.5613 9.28996 10.5729 9.28058 10.5804L6.86521 11.9751C5.78933 12.5946 4.41496 12.2263 3.79283 11.1519ZM3.16396 5.93605C3.42646 5.48006 3.84083 5.1313 4.33433 4.95018C4.33433 4.97081 4.33321 5.00718 4.33321 5.03268V7.79305C4.33246 7.9333 4.40746 8.06343 4.52933 8.1328L7.44646 9.81693L6.43658 10.4001C6.42646 10.4068 6.41371 10.4079 6.40246 10.4031L3.98671 9.0073C2.91308 8.38555 2.54521 7.01155 3.16396 5.93605ZM11.4612 7.86693L8.54408 6.18243L9.55396 5.59968C9.56408 5.59293 9.57683 5.59181 9.58808 5.59668L12.0038 6.9913C13.0793 7.61268 13.448 8.98855 12.8266 10.0641C12.5637 10.5193 12.1497 10.8681 11.6566 11.0496V8.20668C11.6577 8.06643 11.5827 7.93668 11.4612 7.86693ZM12.4662 6.35418C12.4486 6.34331 12.4175 6.32455 12.3953 6.3118L10.0058 4.93181C9.88471 4.86093 9.73471 4.86093 9.61321 4.93181L6.69608 6.6163V5.45005C6.69533 5.43805 6.70096 5.42643 6.71033 5.41893L9.12571 4.02543C10.2016 3.40481 11.5771 3.77418 12.1973 4.85043C12.4595 5.30493 12.5551 5.83706 12.4662 6.35418ZM6.14708 8.4328L5.13683 7.84968C5.12596 7.84443 5.11883 7.83393 5.11733 7.82193V5.03231C5.11808 3.79031 6.12571 2.78381 7.36771 2.78456C7.89308 2.78456 8.40158 2.96906 8.80546 3.30506C8.78708 3.31481 8.75558 3.33243 8.73458 3.34518L6.34508 4.72518C6.22283 4.79456 6.14783 4.92431 6.14858 5.06493L6.14708 8.4328ZM6.69571 7.25005L7.99508 6.49968L9.29446 7.24968V8.75005L7.99508 9.50005L6.69571 8.75005V7.25005Z" fill="white"></path> </svg>',"GPT-4o":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="none"> <rect width="16" height="16" rx="8" fill="#000"></rect> <path d="M13.1348 6.91143C13.4071 6.0943 13.3133 5.19918 12.878 4.45593C12.2232 3.31593 10.907 2.72943 9.62146 3.00543C9.04958 2.36118 8.22796 1.99481 7.36658 2.00006C6.05258 1.99706 4.88671 2.84306 4.48246 4.09331C3.63833 4.26618 2.90971 4.79456 2.48333 5.54343C1.82371 6.68043 1.97408 8.11368 2.85533 9.08868C2.58308 9.9058 2.67683 10.8009 3.11221 11.5442C3.76696 12.6842 5.08321 13.2707 6.36871 12.9947C6.94021 13.6389 7.76221 14.0053 8.62358 13.9997C9.93833 14.0031 11.1046 13.1563 11.5088 11.9049C12.353 11.7321 13.0816 11.2037 13.508 10.4548C14.1668 9.3178 14.0157 7.88643 13.1348 6.91143ZM8.62433 13.2156C8.09821 13.2163 7.58858 13.0322 7.18471 12.6951C7.20308 12.6853 7.23496 12.6677 7.25558 12.6549L9.64508 11.2749C9.76733 11.2056 9.84233 11.0754 9.84158 10.9348V7.56618L10.8515 8.1493C10.8623 8.15455 10.8695 8.16505 10.871 8.17705V10.9667C10.8695 12.2072 9.86483 13.2129 8.62433 13.2156ZM3.79283 11.1519C3.52921 10.6967 3.43433 10.1631 3.52471 9.64518C3.54233 9.65568 3.57346 9.6748 3.59558 9.68755L5.98508 11.0676C6.10621 11.1384 6.25621 11.1384 6.37771 11.0676L9.29483 9.38305V10.5493C9.29558 10.5613 9.28996 10.5729 9.28058 10.5804L6.86521 11.9751C5.78933 12.5946 4.41496 12.2263 3.79283 11.1519ZM3.16396 5.93605C3.42646 5.48006 3.84083 5.1313 4.33433 4.95018C4.33433 4.97081 4.33321 5.00718 4.33321 5.03268V7.79305C4.33246 7.9333 4.40746 8.06343 4.52933 8.1328L7.44646 9.81693L6.43658 10.4001C6.42646 10.4068 6.41371 10.4079 6.40246 10.4031L3.98671 9.0073C2.91308 8.38555 2.54521 7.01155 3.16396 5.93605ZM11.4612 7.86693L8.54408 6.18243L9.55396 5.59968C9.56408 5.59293 9.57683 5.59181 9.58808 5.59668L12.0038 6.9913C13.0793 7.61268 13.448 8.98855 12.8266 10.0641C12.5637 10.5193 12.1497 10.8681 11.6566 11.0496V8.20668C11.6577 8.06643 11.5827 7.93668 11.4612 7.86693ZM12.4662 6.35418C12.4486 6.34331 12.4175 6.32455 12.3953 6.3118L10.0058 4.93181C9.88471 4.86093 9.73471 4.86093 9.61321 4.93181L6.69608 6.6163V5.45005C6.69533 5.43805 6.70096 5.42643 6.71033 5.41893L9.12571 4.02543C10.2016 3.40481 11.5771 3.77418 12.1973 4.85043C12.4595 5.30493 12.5551 5.83706 12.4662 6.35418ZM6.14708 8.4328L5.13683 7.84968C5.12596 7.84443 5.11883 7.83393 5.11733 7.82193V5.03231C5.11808 3.79031 6.12571 2.78381 7.36771 2.78456C7.89308 2.78456 8.40158 2.96906 8.80546 3.30506C8.78708 3.31481 8.75558 3.33243 8.73458 3.34518L6.34508 4.72518C6.22283 4.79456 6.14783 4.92431 6.14858 5.06493L6.14708 8.4328ZM6.69571 7.25005L7.99508 6.49968L9.29446 7.24968V8.75005L7.99508 9.50005L6.69571 8.75005V7.25005Z" fill="white"></path> </svg>',"GPT-4":'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8" fill="#000"></circle><path d="M13.1351 6.91143C13.4073 6.0943 13.3136 5.19918 12.8782 4.45593C12.2235 3.31593 10.9072 2.72943 9.6217 3.00543C9.04983 2.36118 8.2282 1.99481 7.36683 2.00006C6.05283 1.99706 4.88695 2.84306 4.4827 4.09331C3.63858 4.26618 2.90995 4.79456 2.48358 5.54343C1.82395 6.68043 1.97433 8.11368 2.85558 9.08868C2.58333 9.9058 2.67708 10.8009 3.11245 11.5442C3.7672 12.6842 5.08345 13.2707 6.36895 12.9947C6.94045 13.6389 7.76245 14.0053 8.62383 13.9997C9.93858 14.0031 11.1048 13.1563 11.5091 11.9049C12.3532 11.7321 13.0818 11.2037 13.5082 10.4548C14.1671 9.3178 14.016 7.88643 13.1351 6.91143ZM8.62458 13.2156C8.09845 13.2163 7.58883 13.0322 7.18495 12.6951C7.20333 12.6853 7.2352 12.6677 7.25583 12.6549L9.64533 11.2749C9.76758 11.2056 9.84258 11.0754 9.84183 10.9348V7.56618L10.8517 8.1493C10.8626 8.15455 10.8697 8.16505 10.8712 8.17705V10.9667C10.8697 12.2072 9.86508 13.2129 8.62458 13.2156ZM3.79308 11.1519C3.52945 10.6967 3.43458 10.1631 3.52495 9.64518C3.54258 9.65568 3.5737 9.6748 3.59583 9.68755L5.98533 11.0676C6.10645 11.1384 6.25645 11.1384 6.37795 11.0676L9.29508 9.38305V10.5493C9.29583 10.5613 9.2902 10.5729 9.28083 10.5804L6.86545 11.9751C5.78958 12.5946 4.4152 12.2263 3.79308 11.1519ZM3.1642 5.93605C3.4267 5.48006 3.84108 5.13131 4.33458 4.95018C4.33458 4.97081 4.33345 5.00718 4.33345 5.03268V7.79305C4.3327 7.9333 4.4077 8.06343 4.52958 8.1328L7.4467 9.81693L6.43683 10.4001C6.4267 10.4068 6.41395 10.4079 6.4027 10.4031L3.98695 9.0073C2.91333 8.38555 2.54545 7.01155 3.1642 5.93605ZM11.4615 7.86693L8.54433 6.18243L9.5542 5.59968C9.56433 5.59293 9.57708 5.59181 9.58833 5.59668L12.0041 6.9913C13.0796 7.61268 13.4482 8.98855 12.8268 10.0641C12.564 10.5193 12.15 10.8681 11.6568 11.0496V8.20668C11.658 8.06643 11.583 7.93668 11.4615 7.86693ZM12.4665 6.35418C12.4488 6.34331 12.4177 6.32455 12.3956 6.3118L10.0061 4.93181C9.88495 4.86093 9.73495 4.86093 9.61345 4.93181L6.69633 6.6163V5.45005C6.69558 5.43805 6.7012 5.42643 6.71058 5.41893L9.12595 4.02543C10.2018 3.40481 11.5773 3.77418 12.1976 4.85043C12.4597 5.30493 12.5553 5.83706 12.4665 6.35418ZM6.14733 8.4328L5.13708 7.84968C5.1262 7.84443 5.11908 7.83393 5.11758 7.82193V5.03231C5.11833 3.79031 6.12595 2.78381 7.36795 2.78456C7.89333 2.78456 8.40183 2.96906 8.8057 3.30506C8.78733 3.31481 8.75583 3.33243 8.73483 3.34518L6.34533 4.72518C6.22308 4.79456 6.14808 4.92431 6.14883 5.06493L6.14733 8.4328ZM6.69595 7.25005L7.99533 6.49968L9.2947 7.24968V8.75005L7.99533 9.50005L6.69595 8.75005V7.25005Z" fill="white"></path></svg>',"Claude 3 Haiku":`<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 16 16" fill="none"><rect width='100%' height='100%' rx="8" fill="#F0E8D6"></rect><path d="M4.67668 9.70835L6.71408 8.5651L6.74817 8.46546L6.71408 8.41039H6.61444L6.27356 8.38941L5.10934 8.35795L4.09981 8.31599L3.12176 8.26355L2.87528 8.21111L2.64453 7.90694L2.66813 7.75486L2.87528 7.61588L3.17158 7.64211L3.82711 7.68668L4.81041 7.75486L5.52363 7.79681L6.58035 7.90694H6.74817L6.77177 7.83877L6.71408 7.79681L6.6695 7.75486L5.65212 7.06524L4.55082 6.33628L3.97395 5.91674L3.66192 5.70435L3.50459 5.50507L3.43642 5.06979L3.71961 4.75776L4.09981 4.78398L4.19683 4.8102L4.58229 5.1065L5.40564 5.74368L6.48071 6.53557L6.63804 6.66667L6.70097 6.6221L6.70884 6.59063L6.63804 6.47264L6.0533 5.41592L5.42924 4.34084L5.15129 3.89508L5.07787 3.62762C5.05165 3.51749 5.03329 3.42572 5.03329 3.31297L5.35582 2.87507L5.53412 2.81738L5.96415 2.87507L6.14508 3.0324L6.41253 3.64335L6.84519 4.60568L7.51645 5.91412L7.71311 6.3022L7.818 6.66143L7.85733 6.77156H7.92551V6.70863L7.98057 5.97181L8.08283 5.06717L8.18247 3.90295L8.21656 3.57518L8.37913 3.18186L8.70166 2.96947L8.95338 3.09008L9.16053 3.38639L9.13169 3.5778L9.00845 4.37755L8.76721 5.63093L8.60988 6.47001H8.70166L8.80654 6.36513L9.23133 5.80137L9.94455 4.90984L10.2592 4.55586L10.6263 4.16516L10.8623 3.97899H11.3081L11.6358 4.4667L11.489 4.97015L11.0301 5.55227L10.6499 6.04523L10.1045 6.77942L9.76362 7.36678L9.79509 7.41398L9.87637 7.40611L11.1088 7.1439L11.7748 7.02328L12.5693 6.88693L12.9285 7.05475L12.9679 7.22519L12.8263 7.57393L11.9767 7.7837L10.9803 7.98298L9.49616 8.33435L9.47781 8.34746L9.49878 8.37368L10.1674 8.43661L10.4532 8.45234H11.1533L12.4565 8.54936L12.7974 8.77487L13.002 9.05019L12.9679 9.25996L12.4434 9.52742L11.7355 9.3596L10.0835 8.96628L9.51714 8.82469H9.43848V8.87189L9.91046 9.33338L10.7758 10.1148L11.8587 11.1217L11.9138 11.3708L11.7748 11.5674L11.628 11.5465L10.6761 10.8306L10.309 10.5081L9.47781 9.80799H9.42274V9.88141L9.61416 10.162L10.6263 11.6828L10.6787 12.1496L10.6053 12.3016L10.3431 12.3934L10.0547 12.341L9.46207 11.5097L8.85112 10.5736L8.35816 9.73457L8.29785 9.76865L8.00679 12.9021L7.87044 13.0621L7.55578 13.1827L7.29357 12.9834L7.1546 12.6609L7.29357 12.0237L7.46139 11.1925L7.59774 10.5317L7.72098 9.71097L7.7944 9.43827L7.78915 9.41991L7.72885 9.42778L7.11002 10.2773L6.16868 11.5491L5.42399 12.3462L5.24569 12.417L4.93627 12.2571L4.96512 11.9712L5.13818 11.7169L6.16868 10.4058L6.79012 9.59297L7.19131 9.12361L7.18869 9.05544H7.16509L4.42758 10.8332L3.93986 10.8962L3.73009 10.6995L3.75632 10.377L3.85596 10.2721L4.67931 9.70572L4.67668 9.70835Z" fill="#D97757"></path></svg>`,"Claude 3 Sonnet":`<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 16 16" fill="none"><rect width='100%' height='100%' rx="8" fill="#F0E8D6"></rect><path d="M4.67668 9.70835L6.71408 8.5651L6.74817 8.46546L6.71408 8.41039H6.61444L6.27356 8.38941L5.10934 8.35795L4.09981 8.31599L3.12176 8.26355L2.87528 8.21111L2.64453 7.90694L2.66813 7.75486L2.87528 7.61588L3.17158 7.64211L3.82711 7.68668L4.81041 7.75486L5.52363 7.79681L6.58035 7.90694H6.74817L6.77177 7.83877L6.71408 7.79681L6.6695 7.75486L5.65212 7.06524L4.55082 6.33628L3.97395 5.91674L3.66192 5.70435L3.50459 5.50507L3.43642 5.06979L3.71961 4.75776L4.09981 4.78398L4.19683 4.8102L4.58229 5.1065L5.40564 5.74368L6.48071 6.53557L6.63804 6.66667L6.70097 6.6221L6.70884 6.59063L6.63804 6.47264L6.0533 5.41592L5.42924 4.34084L5.15129 3.89508L5.07787 3.62762C5.05165 3.51749 5.03329 3.42572 5.03329 3.31297L5.35582 2.87507L5.53412 2.81738L5.96415 2.87507L6.14508 3.0324L6.41253 3.64335L6.84519 4.60568L7.51645 5.91412L7.71311 6.3022L7.818 6.66143L7.85733 6.77156H7.92551V6.70863L7.98057 5.97181L8.08283 5.06717L8.18247 3.90295L8.21656 3.57518L8.37913 3.18186L8.70166 2.96947L8.95338 3.09008L9.16053 3.38639L9.13169 3.5778L9.00845 4.37755L8.76721 5.63093L8.60988 6.47001H8.70166L8.80654 6.36513L9.23133 5.80137L9.94455 4.90984L10.2592 4.55586L10.6263 4.16516L10.8623 3.97899H11.3081L11.6358 4.4667L11.489 4.97015L11.0301 5.55227L10.6499 6.04523L10.1045 6.77942L9.76362 7.36678L9.79509 7.41398L9.87637 7.40611L11.1088 7.1439L11.7748 7.02328L12.5693 6.88693L12.9285 7.05475L12.9679 7.22519L12.8263 7.57393L11.9767 7.7837L10.9803 7.98298L9.49616 8.33435L9.47781 8.34746L9.49878 8.37368L10.1674 8.43661L10.4532 8.45234H11.1533L12.4565 8.54936L12.7974 8.77487L13.002 9.05019L12.9679 9.25996L12.4434 9.52742L11.7355 9.3596L10.0835 8.96628L9.51714 8.82469H9.43848V8.87189L9.91046 9.33338L10.7758 10.1148L11.8587 11.1217L11.9138 11.3708L11.7748 11.5674L11.628 11.5465L10.6761 10.8306L10.309 10.5081L9.47781 9.80799H9.42274V9.88141L9.61416 10.162L10.6263 11.6828L10.6787 12.1496L10.6053 12.3016L10.3431 12.3934L10.0547 12.341L9.46207 11.5097L8.85112 10.5736L8.35816 9.73457L8.29785 9.76865L8.00679 12.9021L7.87044 13.0621L7.55578 13.1827L7.29357 12.9834L7.1546 12.6609L7.29357 12.0237L7.46139 11.1925L7.59774 10.5317L7.72098 9.71097L7.7944 9.43827L7.78915 9.41991L7.72885 9.42778L7.11002 10.2773L6.16868 11.5491L5.42399 12.3462L5.24569 12.417L4.93627 12.2571L4.96512 11.9712L5.13818 11.7169L6.16868 10.4058L6.79012 9.59297L7.19131 9.12361L7.18869 9.05544H7.16509L4.42758 10.8332L3.93986 10.8962L3.73009 10.6995L3.75632 10.377L3.85596 10.2721L4.67931 9.70572L4.67668 9.70835Z" fill="black" fill-opacity="0.92"></path></svg>`,"Claude 3 Opus":`<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 16 16" fill="none"><rect width='100%' height='100%' rx="8" fill="#C36E51"></rect><path d="M4.67668 9.70835L6.71408 8.5651L6.74817 8.46546L6.71408 8.41039H6.61444L6.27356 8.38941L5.10934 8.35795L4.09981 8.31599L3.12176 8.26355L2.87528 8.21111L2.64453 7.90694L2.66813 7.75486L2.87528 7.61588L3.17158 7.64211L3.82711 7.68668L4.81041 7.75486L5.52363 7.79681L6.58035 7.90694H6.74817L6.77177 7.83877L6.71408 7.79681L6.6695 7.75486L5.65212 7.06524L4.55082 6.33628L3.97395 5.91674L3.66192 5.70435L3.50459 5.50507L3.43642 5.06979L3.71961 4.75776L4.09981 4.78398L4.19683 4.8102L4.58229 5.1065L5.40564 5.74368L6.48071 6.53557L6.63804 6.66667L6.70097 6.6221L6.70884 6.59063L6.63804 6.47264L6.0533 5.41592L5.42924 4.34084L5.15129 3.89508L5.07787 3.62762C5.05165 3.51749 5.03329 3.42572 5.03329 3.31297L5.35582 2.87507L5.53412 2.81738L5.96415 2.87507L6.14508 3.0324L6.41253 3.64335L6.84519 4.60568L7.51645 5.91412L7.71311 6.3022L7.818 6.66143L7.85733 6.77156H7.92551V6.70863L7.98057 5.97181L8.08283 5.06717L8.18247 3.90295L8.21656 3.57518L8.37913 3.18186L8.70166 2.96947L8.95338 3.09008L9.16053 3.38639L9.13169 3.5778L9.00845 4.37755L8.76721 5.63093L8.60988 6.47001H8.70166L8.80654 6.36513L9.23133 5.80137L9.94455 4.90984L10.2592 4.55586L10.6263 4.16516L10.8623 3.97899H11.3081L11.6358 4.4667L11.489 4.97015L11.0301 5.55227L10.6499 6.04523L10.1045 6.77942L9.76362 7.36678L9.79509 7.41398L9.87637 7.40611L11.1088 7.1439L11.7748 7.02328L12.5693 6.88693L12.9285 7.05475L12.9679 7.22519L12.8263 7.57393L11.9767 7.7837L10.9803 7.98298L9.49616 8.33435L9.47781 8.34746L9.49878 8.37368L10.1674 8.43661L10.4532 8.45234H11.1533L12.4565 8.54936L12.7974 8.77487L13.002 9.05019L12.9679 9.25996L12.4434 9.52742L11.7355 9.3596L10.0835 8.96628L9.51714 8.82469H9.43848V8.87189L9.91046 9.33338L10.7758 10.1148L11.8587 11.1217L11.9138 11.3708L11.7748 11.5674L11.628 11.5465L10.6761 10.8306L10.309 10.5081L9.47781 9.80799H9.42274V9.88141L9.61416 10.162L10.6263 11.6828L10.6787 12.1496L10.6053 12.3016L10.3431 12.3934L10.0547 12.341L9.46207 11.5097L8.85112 10.5736L8.35816 9.73457L8.29785 9.76865L8.00679 12.9021L7.87044 13.0621L7.55578 13.1827L7.29357 12.9834L7.1546 12.6609L7.29357 12.0237L7.46139 11.1925L7.59774 10.5317L7.72098 9.71097L7.7944 9.43827L7.78915 9.41991L7.72885 9.42778L7.11002 10.2773L6.16868 11.5491L5.42399 12.3462L5.24569 12.417L4.93627 12.2571L4.96512 11.9712L5.13818 11.7169L6.16868 10.4058L6.79012 9.59297L7.19131 9.12361L7.18869 9.05544H7.16509L4.42758 10.8332L3.93986 10.8962L3.73009 10.6995L3.75632 10.377L3.85596 10.2721L4.67931 9.70572L4.67668 9.70835Z" fill="black" fill-opacity="0.92"></path></svg>`,"Claude 3.5 Haiku":`<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 16 16" fill="none"><rect width='100%' height='100%' rx="8" fill="#F0E8D6"></rect><path d="M4.67668 9.70835L6.71408 8.5651L6.74817 8.46546L6.71408 8.41039H6.61444L6.27356 8.38941L5.10934 8.35795L4.09981 8.31599L3.12176 8.26355L2.87528 8.21111L2.64453 7.90694L2.66813 7.75486L2.87528 7.61588L3.17158 7.64211L3.82711 7.68668L4.81041 7.75486L5.52363 7.79681L6.58035 7.90694H6.74817L6.77177 7.83877L6.71408 7.79681L6.6695 7.75486L5.65212 7.06524L4.55082 6.33628L3.97395 5.91674L3.66192 5.70435L3.50459 5.50507L3.43642 5.06979L3.71961 4.75776L4.09981 4.78398L4.19683 4.8102L4.58229 5.1065L5.40564 5.74368L6.48071 6.53557L6.63804 6.66667L6.70097 6.6221L6.70884 6.59063L6.63804 6.47264L6.0533 5.41592L5.42924 4.34084L5.15129 3.89508L5.07787 3.62762C5.05165 3.51749 5.03329 3.42572 5.03329 3.31297L5.35582 2.87507L5.53412 2.81738L5.96415 2.87507L6.14508 3.0324L6.41253 3.64335L6.84519 4.60568L7.51645 5.91412L7.71311 6.3022L7.818 6.66143L7.85733 6.77156H7.92551V6.70863L7.98057 5.97181L8.08283 5.06717L8.18247 3.90295L8.21656 3.57518L8.37913 3.18186L8.70166 2.96947L8.95338 3.09008L9.16053 3.38639L9.13169 3.5778L9.00845 4.37755L8.76721 5.63093L8.60988 6.47001H8.70166L8.80654 6.36513L9.23133 5.80137L9.94455 4.90984L10.2592 4.55586L10.6263 4.16516L10.8623 3.97899H11.3081L11.6358 4.4667L11.489 4.97015L11.0301 5.55227L10.6499 6.04523L10.1045 6.77942L9.76362 7.36678L9.79509 7.41398L9.87637 7.40611L11.1088 7.1439L11.7748 7.02328L12.5693 6.88693L12.9285 7.05475L12.9679 7.22519L12.8263 7.57393L11.9767 7.7837L10.9803 7.98298L9.49616 8.33435L9.47781 8.34746L9.49878 8.37368L10.1674 8.43661L10.4532 8.45234H11.1533L12.4565 8.54936L12.7974 8.77487L13.002 9.05019L12.9679 9.25996L12.4434 9.52742L11.7355 9.3596L10.0835 8.96628L9.51714 8.82469H9.43848V8.87189L9.91046 9.33338L10.7758 10.1148L11.8587 11.1217L11.9138 11.3708L11.7748 11.5674L11.628 11.5465L10.6761 10.8306L10.309 10.5081L9.47781 9.80799H9.42274V9.88141L9.61416 10.162L10.6263 11.6828L10.6787 12.1496L10.6053 12.3016L10.3431 12.3934L10.0547 12.341L9.46207 11.5097L8.85112 10.5736L8.35816 9.73457L8.29785 9.76865L8.00679 12.9021L7.87044 13.0621L7.55578 13.1827L7.29357 12.9834L7.1546 12.6609L7.29357 12.0237L7.46139 11.1925L7.59774 10.5317L7.72098 9.71097L7.7944 9.43827L7.78915 9.41991L7.72885 9.42778L7.11002 10.2773L6.16868 11.5491L5.42399 12.3462L5.24569 12.417L4.93627 12.2571L4.96512 11.9712L5.13818 11.7169L6.16868 10.4058L6.79012 9.59297L7.19131 9.12361L7.18869 9.05544H7.16509L4.42758 10.8332L3.93986 10.8962L3.73009 10.6995L3.75632 10.377L3.85596 10.2721L4.67931 9.70572L4.67668 9.70835Z" fill="#D97757"></path></svg>`,"Claude 3.5 Sonnet":`<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 16 16" fill="none"><rect width='100%' height='100%' rx="8" fill="#F0E8D6"></rect><path d="M4.67668 9.70835L6.71408 8.5651L6.74817 8.46546L6.71408 8.41039H6.61444L6.27356 8.38941L5.10934 8.35795L4.09981 8.31599L3.12176 8.26355L2.87528 8.21111L2.64453 7.90694L2.66813 7.75486L2.87528 7.61588L3.17158 7.64211L3.82711 7.68668L4.81041 7.75486L5.52363 7.79681L6.58035 7.90694H6.74817L6.77177 7.83877L6.71408 7.79681L6.6695 7.75486L5.65212 7.06524L4.55082 6.33628L3.97395 5.91674L3.66192 5.70435L3.50459 5.50507L3.43642 5.06979L3.71961 4.75776L4.09981 4.78398L4.19683 4.8102L4.58229 5.1065L5.40564 5.74368L6.48071 6.53557L6.63804 6.66667L6.70097 6.6221L6.70884 6.59063L6.63804 6.47264L6.0533 5.41592L5.42924 4.34084L5.15129 3.89508L5.07787 3.62762C5.05165 3.51749 5.03329 3.42572 5.03329 3.31297L5.35582 2.87507L5.53412 2.81738L5.96415 2.87507L6.14508 3.0324L6.41253 3.64335L6.84519 4.60568L7.51645 5.91412L7.71311 6.3022L7.818 6.66143L7.85733 6.77156H7.92551V6.70863L7.98057 5.97181L8.08283 5.06717L8.18247 3.90295L8.21656 3.57518L8.37913 3.18186L8.70166 2.96947L8.95338 3.09008L9.16053 3.38639L9.13169 3.5778L9.00845 4.37755L8.76721 5.63093L8.60988 6.47001H8.70166L8.80654 6.36513L9.23133 5.80137L9.94455 4.90984L10.2592 4.55586L10.6263 4.16516L10.8623 3.97899H11.3081L11.6358 4.4667L11.489 4.97015L11.0301 5.55227L10.6499 6.04523L10.1045 6.77942L9.76362 7.36678L9.79509 7.41398L9.87637 7.40611L11.1088 7.1439L11.7748 7.02328L12.5693 6.88693L12.9285 7.05475L12.9679 7.22519L12.8263 7.57393L11.9767 7.7837L10.9803 7.98298L9.49616 8.33435L9.47781 8.34746L9.49878 8.37368L10.1674 8.43661L10.4532 8.45234H11.1533L12.4565 8.54936L12.7974 8.77487L13.002 9.05019L12.9679 9.25996L12.4434 9.52742L11.7355 9.3596L10.0835 8.96628L9.51714 8.82469H9.43848V8.87189L9.91046 9.33338L10.7758 10.1148L11.8587 11.1217L11.9138 11.3708L11.7748 11.5674L11.628 11.5465L10.6761 10.8306L10.309 10.5081L9.47781 9.80799H9.42274V9.88141L9.61416 10.162L10.6263 11.6828L10.6787 12.1496L10.6053 12.3016L10.3431 12.3934L10.0547 12.341L9.46207 11.5097L8.85112 10.5736L8.35816 9.73457L8.29785 9.76865L8.00679 12.9021L7.87044 13.0621L7.55578 13.1827L7.29357 12.9834L7.1546 12.6609L7.29357 12.0237L7.46139 11.1925L7.59774 10.5317L7.72098 9.71097L7.7944 9.43827L7.78915 9.41991L7.72885 9.42778L7.11002 10.2773L6.16868 11.5491L5.42399 12.3462L5.24569 12.417L4.93627 12.2571L4.96512 11.9712L5.13818 11.7169L6.16868 10.4058L6.79012 9.59297L7.19131 9.12361L7.18869 9.05544H7.16509L4.42758 10.8332L3.93986 10.8962L3.73009 10.6995L3.75632 10.377L3.85596 10.2721L4.67931 9.70572L4.67668 9.70835Z" fill="black" fill-opacity="0.92"></path></svg>`,"Claude 3.5 Opus":`<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 16 16" fill="none"><rect width='100%' height='100%' rx="8" fill="#C36E51"></rect><path d="M4.67668 9.70835L6.71408 8.5651L6.74817 8.46546L6.71408 8.41039H6.61444L6.27356 8.38941L5.10934 8.35795L4.09981 8.31599L3.12176 8.26355L2.87528 8.21111L2.64453 7.90694L2.66813 7.75486L2.87528 7.61588L3.17158 7.64211L3.82711 7.68668L4.81041 7.75486L5.52363 7.79681L6.58035 7.90694H6.74817L6.77177 7.83877L6.71408 7.79681L6.6695 7.75486L5.65212 7.06524L4.55082 6.33628L3.97395 5.91674L3.66192 5.70435L3.50459 5.50507L3.43642 5.06979L3.71961 4.75776L4.09981 4.78398L4.19683 4.8102L4.58229 5.1065L5.40564 5.74368L6.48071 6.53557L6.63804 6.66667L6.70097 6.6221L6.70884 6.59063L6.63804 6.47264L6.0533 5.41592L5.42924 4.34084L5.15129 3.89508L5.07787 3.62762C5.05165 3.51749 5.03329 3.42572 5.03329 3.31297L5.35582 2.87507L5.53412 2.81738L5.96415 2.87507L6.14508 3.0324L6.41253 3.64335L6.84519 4.60568L7.51645 5.91412L7.71311 6.3022L7.818 6.66143L7.85733 6.77156H7.92551V6.70863L7.98057 5.97181L8.08283 5.06717L8.18247 3.90295L8.21656 3.57518L8.37913 3.18186L8.70166 2.96947L8.95338 3.09008L9.16053 3.38639L9.13169 3.5778L9.00845 4.37755L8.76721 5.63093L8.60988 6.47001H8.70166L8.80654 6.36513L9.23133 5.80137L9.94455 4.90984L10.2592 4.55586L10.6263 4.16516L10.8623 3.97899H11.3081L11.6358 4.4667L11.489 4.97015L11.0301 5.55227L10.6499 6.04523L10.1045 6.77942L9.76362 7.36678L9.79509 7.41398L9.87637 7.40611L11.1088 7.1439L11.7748 7.02328L12.5693 6.88693L12.9285 7.05475L12.9679 7.22519L12.8263 7.57393L11.9767 7.7837L10.9803 7.98298L9.49616 8.33435L9.47781 8.34746L9.49878 8.37368L10.1674 8.43661L10.4532 8.45234H11.1533L12.4565 8.54936L12.7974 8.77487L13.002 9.05019L12.9679 9.25996L12.4434 9.52742L11.7355 9.3596L10.0835 8.96628L9.51714 8.82469H9.43848V8.87189L9.91046 9.33338L10.7758 10.1148L11.8587 11.1217L11.9138 11.3708L11.7748 11.5674L11.628 11.5465L10.6761 10.8306L10.309 10.5081L9.47781 9.80799H9.42274V9.88141L9.61416 10.162L10.6263 11.6828L10.6787 12.1496L10.6053 12.3016L10.3431 12.3934L10.0547 12.341L9.46207 11.5097L8.85112 10.5736L8.35816 9.73457L8.29785 9.76865L8.00679 12.9021L7.87044 13.0621L7.55578 13.1827L7.29357 12.9834L7.1546 12.6609L7.29357 12.0237L7.46139 11.1925L7.59774 10.5317L7.72098 9.71097L7.7944 9.43827L7.78915 9.41991L7.72885 9.42778L7.11002 10.2773L6.16868 11.5491L5.42399 12.3462L5.24569 12.417L4.93627 12.2571L4.96512 11.9712L5.13818 11.7169L6.16868 10.4058L6.79012 9.59297L7.19131 9.12361L7.18869 9.05544H7.16509L4.42758 10.8332L3.93986 10.8962L3.73009 10.6995L3.75632 10.377L3.85596 10.2721L4.67931 9.70572L4.67668 9.70835Z" fill="black" fill-opacity="0.92"></path></svg>`,"Gemini 1.0 Pro":`<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 16 16" fill="none"><rect width='100%' height='100%' rx="8" fill="#F3F3FA"></rect><path d="M8 14C8 13.17 7.84002 12.39 7.52 11.66C7.21002 10.93 6.785 10.295 6.245 9.755C5.705 9.215 5.07 8.78998 4.34 8.48C3.61 8.15998 2.83 8 2 8C2.83 8 3.61 7.84498 4.34 7.535C5.07 7.21498 5.705 6.785 6.245 6.245C6.785 5.705 7.21002 5.07 7.52 4.34C7.84002 3.61 8 2.83 8 2C8 2.83 8.15502 3.61 8.465 4.34C8.78502 5.07 9.215 5.705 9.755 6.245C10.295 6.785 10.93 7.21498 11.66 7.535C12.39 7.84498 13.17 8 14 8C13.17 8 12.39 8.15998 11.66 8.48C10.93 8.78998 10.295 9.215 9.755 9.755C9.215 10.295 8.78502 10.93 8.465 11.66C8.15502 12.39 8 13.17 8 14Z" fill="url(#ait-gemini_flash_linear_2)"></path><defs><radialGradient id="ait-gemini_flash_linear_2" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(3.1909 6.87693) rotate(18.6832) scale(12.7725 102.316)"><stop offset="0.0671246" stop-color="#9168C0"></stop><stop offset="0.342551" stop-color="#5684D1"></stop><stop offset="0.672076" stop-color="#1BA1E3"></stop></radialGradient></defs></svg>`,"Gemini 1.5 Pro":`<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 16 16" fill="none"><rect width='100%' height='100%' rx="8" fill="#000002"></rect><path d="M8 14C8 13.17 7.84002 12.39 7.52 11.66C7.21002 10.93 6.785 10.295 6.245 9.755C5.705 9.215 5.07 8.78998 4.34 8.48C3.61 8.15998 2.83 8 2 8C2.83 8 3.61 7.84498 4.34 7.535C5.07 7.21498 5.705 6.785 6.245 6.245C6.785 5.705 7.21002 5.07 7.52 4.34C7.84002 3.61 8 2.83 8 2C8 2.83 8.15502 3.61 8.465 4.34C8.78502 5.07 9.215 5.705 9.755 6.245C10.295 6.785 10.93 7.21498 11.66 7.535C12.39 7.84498 13.17 8 14 8C13.17 8 12.39 8.15998 11.66 8.48C10.93 8.78998 10.295 9.215 9.755 9.755C9.215 10.295 8.78502 10.93 8.465 11.66C8.15502 12.39 8 13.17 8 14Z" fill="url(#ait-gemini_flash_linear)"></path><defs><radialGradient id="ait-gemini_flash_linear" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(3.1909 6.87693) rotate(18.6832) scale(12.7725 102.316)"><stop offset="0.0671246" stop-color="#9168C0"></stop><stop offset="0.342551" stop-color="#5684D1"></stop><stop offset="0.672076" stop-color="#1BA1E3"></stop></radialGradient></defs></svg>`,"Gemini 1.5 Flash":`<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 16 16" fill="none"><rect width='100%' height='100%' rx="8" fill="#F3F3FA"></rect><path d="M8 14C8 13.17 7.84002 12.39 7.52 11.66C7.21002 10.93 6.785 10.295 6.245 9.755C5.705 9.215 5.07 8.78998 4.34 8.48C3.61 8.15998 2.83 8 2 8C2.83 8 3.61 7.84498 4.34 7.535C5.07 7.21498 5.705 6.785 6.245 6.245C6.785 5.705 7.21002 5.07 7.52 4.34C7.84002 3.61 8 2.83 8 2C8 2.83 8.15502 3.61 8.465 4.34C8.78502 5.07 9.215 5.705 9.755 6.245C10.295 6.785 10.93 7.21498 11.66 7.535C12.39 7.84498 13.17 8 14 8C13.17 8 12.39 8.15998 11.66 8.48C10.93 8.78998 10.295 9.215 9.755 9.755C9.215 10.295 8.78502 10.93 8.465 11.66C8.15502 12.39 8 13.17 8 14Z" fill="url(#ait-gemini_flash_linear)"></path><defs><radialGradient id="ait-gemini_flash_linear" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(3.1909 6.87693) rotate(18.6832) scale(12.7725 102.316)"><stop offset="0.0671246" stop-color="#9168C0"></stop><stop offset="0.342551" stop-color="#5684D1"></stop><stop offset="0.672076" stop-color="#1BA1E3"></stop></radialGradient></defs></svg>`,"Gemini 2.0 Flash":`<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 16 16" fill="none"><rect width='100%' height='100%' rx="8" fill="#F3F3FA"></rect><path d="M8 14C8 13.17 7.84002 12.39 7.52 11.66C7.21002 10.93 6.785 10.295 6.245 9.755C5.705 9.215 5.07 8.78998 4.34 8.48C3.61 8.15998 2.83 8 2 8C2.83 8 3.61 7.84498 4.34 7.535C5.07 7.21498 5.705 6.785 6.245 6.245C6.785 5.705 7.21002 5.07 7.52 4.34C7.84002 3.61 8 2.83 8 2C8 2.83 8.15502 3.61 8.465 4.34C8.78502 5.07 9.215 5.705 9.755 6.245C10.295 6.785 10.93 7.21498 11.66 7.535C12.39 7.84498 13.17 8 14 8C13.17 8 12.39 8.15998 11.66 8.48C10.93 8.78998 10.295 9.215 9.755 9.755C9.215 10.295 8.78502 10.93 8.465 11.66C8.15502 12.39 8 13.17 8 14Z" fill="url(#ait-gemini_flash_linear)"></path><defs><radialGradient id="ait-gemini_flash_linear" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(3.1909 6.87693) rotate(18.6832) scale(12.7725 102.316)"><stop offset="0.0671246" stop-color="#9168C0"></stop><stop offset="0.342551" stop-color="#5684D1"></stop><stop offset="0.672076" stop-color="#1BA1E3"></stop></radialGradient></defs></svg>`,"Llama 3.1 70B":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="none"> <rect width="16" height="16" rx="8" fill="white"></rect> <rect width="16" height="16" rx="8" fill="#F3F3FA"></rect> <path d="M2.85869 9.20519C2.85869 9.70602 2.96857 10.0905 3.11229 10.3231C3.30068 10.6278 3.58164 10.7571 3.8681 10.7571C4.23751 10.7571 4.5755 10.6654 5.22681 9.76459C5.74874 9.04257 6.36346 8.0291 6.77715 7.39372L7.47774 6.31729C7.9644 5.56972 8.52769 4.73871 9.17356 4.17541C9.70098 3.71562 10.2696 3.46021 10.842 3.46021C11.8031 3.46021 12.7185 4.01713 13.4191 5.06164C14.1858 6.20554 14.558 7.64644 14.558 9.13333C14.558 10.0173 14.3838 10.6668 14.0873 11.1799C13.8009 11.6762 13.2426 12.172 12.3034 12.172V10.7569C13.1076 10.7569 13.3082 10.018 13.3082 9.17234C13.3082 7.96729 13.0273 6.63 12.4083 5.67444C11.9691 4.99665 11.3999 4.58251 10.7736 4.58251C10.0963 4.58251 9.55122 5.09345 8.93864 6.00419C8.61296 6.48815 8.27865 7.07787 7.90325 7.74336L7.48999 8.47543C6.65997 9.94753 6.44966 10.2827 6.03459 10.8358C5.30713 11.8045 4.68587 12.1718 3.8681 12.1718C2.89792 12.1718 2.28446 11.7516 1.9045 11.1186C1.59436 10.6027 1.44202 9.92583 1.44202 9.15459L2.85869 9.20519Z" fill="#0081FB"></path> <path d="M2.55908 5.16128C3.20858 4.16011 4.1459 3.45996 5.22096 3.45996C5.84354 3.45996 6.4626 3.64423 7.1088 4.17198C7.81576 4.74885 8.56926 5.6993 9.50933 7.26508L9.84639 7.82684C10.6601 9.18242 11.123 9.87982 11.394 10.2087C11.7424 10.631 11.9865 10.7569 12.3035 10.7569C13.1076 10.7569 13.3082 10.018 13.3082 9.17237L14.558 9.13314C14.558 10.0171 14.3838 10.6666 14.0873 11.1798C13.8009 11.676 13.2426 12.1718 12.3035 12.1718C11.7196 12.1718 11.2024 12.045 10.6304 11.5054C10.1909 11.0912 9.67668 10.3555 9.28122 9.69418L8.10491 7.72927C7.51475 6.74315 6.97315 6.0079 6.66 5.67491C6.32289 5.31681 5.88958 4.88444 5.19811 4.88444C4.63849 4.88444 4.16321 5.27714 3.7655 5.87786L2.55908 5.16128Z" fill="url(#ait-llama_flash_linear_color)"></path> <path d="M5.19808 4.88444C4.63846 4.88444 4.16318 5.27715 3.76547 5.87786C3.20305 6.72667 2.85896 7.991 2.85896 9.20517C2.85896 9.706 2.96884 10.0905 3.11257 10.3231L1.9045 11.1185C1.59436 10.6027 1.44202 9.92581 1.44202 9.15457C1.44202 7.75201 1.82698 6.29018 2.55905 5.16128C3.20855 4.16011 4.14587 3.45996 5.22093 3.45996L5.19808 4.88444Z" fill="url(#ait-llama_flash_linear_color)"></path> <defs> <linearGradient id="ait-llama_flash_linear_color" x1="4.28529" y1="7.5901" x2="13.3163" y2="8.04621" gradientUnits="userSpaceOnUse"> <stop stop-color="#0064E1"></stop> <stop offset="0.4" stop-color="#0064E1"></stop> <stop offset="0.83" stop-color="#0073EE"></stop> <stop offset="1" stop-color="#0082FB"></stop> </linearGradient> <linearGradient id="ait-paint1_linear_38187_34499_:r11:" x1="3.33145" y1="9.79994" x2="3.33145" y2="6.47032" gradientUnits="userSpaceOnUse"> <stop stop-color="#0082FB"></stop> <stop offset="1" stop-color="#0064E0"></stop> </linearGradient> </defs> </svg>',"Llama 3.3 70B":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="none"> <rect width="16" height="16" rx="8" fill="white"></rect> <rect width="16" height="16" rx="8" fill="#F3F3FA"></rect> <path d="M2.85869 9.20519C2.85869 9.70602 2.96857 10.0905 3.11229 10.3231C3.30068 10.6278 3.58164 10.7571 3.8681 10.7571C4.23751 10.7571 4.5755 10.6654 5.22681 9.76459C5.74874 9.04257 6.36346 8.0291 6.77715 7.39372L7.47774 6.31729C7.9644 5.56972 8.52769 4.73871 9.17356 4.17541C9.70098 3.71562 10.2696 3.46021 10.842 3.46021C11.8031 3.46021 12.7185 4.01713 13.4191 5.06164C14.1858 6.20554 14.558 7.64644 14.558 9.13333C14.558 10.0173 14.3838 10.6668 14.0873 11.1799C13.8009 11.6762 13.2426 12.172 12.3034 12.172V10.7569C13.1076 10.7569 13.3082 10.018 13.3082 9.17234C13.3082 7.96729 13.0273 6.63 12.4083 5.67444C11.9691 4.99665 11.3999 4.58251 10.7736 4.58251C10.0963 4.58251 9.55122 5.09345 8.93864 6.00419C8.61296 6.48815 8.27865 7.07787 7.90325 7.74336L7.48999 8.47543C6.65997 9.94753 6.44966 10.2827 6.03459 10.8358C5.30713 11.8045 4.68587 12.1718 3.8681 12.1718C2.89792 12.1718 2.28446 11.7516 1.9045 11.1186C1.59436 10.6027 1.44202 9.92583 1.44202 9.15459L2.85869 9.20519Z" fill="#0081FB"></path> <path d="M2.55908 5.16128C3.20858 4.16011 4.1459 3.45996 5.22096 3.45996C5.84354 3.45996 6.4626 3.64423 7.1088 4.17198C7.81576 4.74885 8.56926 5.6993 9.50933 7.26508L9.84639 7.82684C10.6601 9.18242 11.123 9.87982 11.394 10.2087C11.7424 10.631 11.9865 10.7569 12.3035 10.7569C13.1076 10.7569 13.3082 10.018 13.3082 9.17237L14.558 9.13314C14.558 10.0171 14.3838 10.6666 14.0873 11.1798C13.8009 11.676 13.2426 12.1718 12.3035 12.1718C11.7196 12.1718 11.2024 12.045 10.6304 11.5054C10.1909 11.0912 9.67668 10.3555 9.28122 9.69418L8.10491 7.72927C7.51475 6.74315 6.97315 6.0079 6.66 5.67491C6.32289 5.31681 5.88958 4.88444 5.19811 4.88444C4.63849 4.88444 4.16321 5.27714 3.7655 5.87786L2.55908 5.16128Z" fill="url(#ait-llama_flash_linear_color)"></path> <path d="M5.19808 4.88444C4.63846 4.88444 4.16318 5.27715 3.76547 5.87786C3.20305 6.72667 2.85896 7.991 2.85896 9.20517C2.85896 9.706 2.96884 10.0905 3.11257 10.3231L1.9045 11.1185C1.59436 10.6027 1.44202 9.92581 1.44202 9.15457C1.44202 7.75201 1.82698 6.29018 2.55905 5.16128C3.20855 4.16011 4.14587 3.45996 5.22093 3.45996L5.19808 4.88444Z" fill="url(#ait-llama_flash_linear_color)"></path> <defs> <linearGradient id="ait-llama_flash_linear_color" x1="4.28529" y1="7.5901" x2="13.3163" y2="8.04621" gradientUnits="userSpaceOnUse"> <stop stop-color="#0064E1"></stop> <stop offset="0.4" stop-color="#0064E1"></stop> <stop offset="0.83" stop-color="#0073EE"></stop> <stop offset="1" stop-color="#0082FB"></stop> </linearGradient> <linearGradient id="ait-paint1_linear_38187_34499_:r11:" x1="3.33145" y1="9.79994" x2="3.33145" y2="6.47032" gradientUnits="userSpaceOnUse"> <stop stop-color="#0082FB"></stop> <stop offset="1" stop-color="#0064E0"></stop> </linearGradient> </defs> </svg>',"Llama 3.1 405B":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="none"> <rect width="16" height="16" rx="8" fill="url(#ait-llama_flash_linear_color_1)"></rect> <rect width="16" height="16" rx="8" fill="url(#ait-llama_flash_linear_color_1)"></rect> <path fill-rule="evenodd" clip-rule="evenodd" d="M9.05626 4.53918C9.53096 4.12535 10.0427 3.89546 10.5579 3.89546C11.4229 3.89546 12.2468 4.39672 12.8774 5.33682C13.5675 6.36638 13.9025 7.66325 13.9025 9.00152C13.9025 9.79713 13.7457 10.3817 13.4788 10.8436C13.221 11.2902 12.7185 11.7364 11.8733 11.7364C11.3478 11.7364 10.8823 11.6222 10.3675 11.1365C9.97189 10.7637 9.50905 10.1016 9.15313 9.50633L8.09439 7.73782C8.0642 7.68737 8.03415 7.63765 8.00426 7.58868L7.91292 7.75048L7.54097 8.40938C6.79391 9.73434 6.60462 10.036 6.23104 10.5338C5.5763 11.4057 5.01714 11.7362 4.28111 11.7362C3.40791 11.7362 2.85577 11.3581 2.51379 10.7883C2.23465 10.3241 2.09753 9.7148 2.09753 9.02065C2.09753 7.75829 2.44402 6.44258 3.10291 5.42652C3.68749 4.52543 4.53112 3.89526 5.49872 3.89526C6.05906 3.89526 6.61624 4.06111 7.19785 4.53611C7.50448 4.78632 7.82084 5.11461 8.16103 5.54533C8.43741 5.17199 8.73552 4.8189 9.05626 4.53918ZM3.60085 10.0724C3.4715 9.863 3.3726 9.51696 3.3726 9.06619C3.3726 7.97339 3.68254 6.83544 4.18874 6.07147C4.54669 5.53081 4.97447 5.17735 5.47815 5.17735C6.1005 5.17735 6.4905 5.56651 6.79391 5.88881C6.94538 6.04988 7.15623 6.31551 7.40134 6.66455L6.89938 7.43579C6.52704 8.00766 5.97377 8.91983 5.50401 9.56967C4.9178 10.3805 4.6136 10.463 4.28111 10.463C4.02329 10.463 3.77041 10.3466 3.60085 10.0724ZM12.7776 9.03662C12.7776 9.79773 12.597 10.4628 11.8733 10.4628C11.5879 10.4628 11.3683 10.3495 11.0547 9.96941C10.8108 9.67341 10.3942 9.04572 9.6618 7.82564L9.35843 7.32003C9.14209 6.95969 8.93672 6.63555 8.74022 6.34399C8.77523 6.28974 8.81008 6.23678 8.84482 6.18515C9.39616 5.36545 9.88674 4.90559 10.4964 4.90559C11.06 4.90559 11.5724 5.27833 11.9677 5.88837C12.5247 6.74842 12.7776 7.95203 12.7776 9.03662Z" fill="white"></path> <defs> <linearGradient id="ait-llama_flash_linear_color_1" x1="14" y1="2" x2="2" y2="14" gradientUnits="userSpaceOnUse"> <stop stop-color="#0081FB"></stop> <stop offset="1" stop-color="#0165E2"></stop> </linearGradient> <linearGradient id="ait-llama_flash_linear_color_1" x1="12.5" y1="1.5" x2="2.5" y2="16" gradientUnits="userSpaceOnUse"> <stop stop-color="#F0A3DB"></stop> <stop offset="1" stop-color="#006AFF"></stop> </linearGradient> </defs> </svg>',"Mistral large":`<svg xmlns="http://www.w3.org/2000/svg" style='padding:1px;background: transparent;' preserveAspectRatio="xMidYMid" viewBox="0 0 256 233"><path d="M186.18182 0h46.54545v46.54545h-46.54545z"/><path fill="#F7D046" d="M209.45454 0h46.54545v46.54545h-46.54545z"/><path d="M0 0h46.54545v46.54545H0zM0 46.54545h46.54545V93.0909H0zM0 93.09091h46.54545v46.54545H0zM0 139.63636h46.54545v46.54545H0zM0 186.18182h46.54545v46.54545H0z"/><path fill="#F7D046" d="M23.27273 0h46.54545v46.54545H23.27273z"/><path fill="#F2A73B" d="M209.45454 46.54545h46.54545V93.0909h-46.54545zM23.27273 46.54545h46.54545V93.0909H23.27273z"/><path d="M139.63636 46.54545h46.54545V93.0909h-46.54545z"/><path fill="#F2A73B" d="M162.90909 46.54545h46.54545V93.0909h-46.54545zM69.81818 46.54545h46.54545V93.0909H69.81818z"/><path fill="#EE792F" d="M116.36364 93.09091h46.54545v46.54545h-46.54545zM162.90909 93.09091h46.54545v46.54545h-46.54545zM69.81818 93.09091h46.54545v46.54545H69.81818z"/><path d="M93.09091 139.63636h46.54545v46.54545H93.09091z"/><path fill="#EB5829" d="M116.36364 139.63636h46.54545v46.54545h-46.54545z"/><path fill="#EE792F" d="M209.45454 93.09091h46.54545v46.54545h-46.54545zM23.27273 93.09091h46.54545v46.54545H23.27273z"/><path d="M186.18182 139.63636h46.54545v46.54545h-46.54545z"/><path fill="#EB5829" d="M209.45454 139.63636h46.54545v46.54545h-46.54545z"/><path d="M186.18182 186.18182h46.54545v46.54545h-46.54545z"/><path fill="#EB5829" d="M23.27273 139.63636h46.54545v46.54545H23.27273z"/><path fill="#EA3326" d="M209.45454 186.18182h46.54545v46.54545h-46.54545zM23.27273 186.18182h46.54545v46.54545H23.27273z"/></svg>`,"Phi 3 Medium 128k":`<svg viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg" style='padding:1px;background: transparent;' preserveAspectRatio="xMidYMid"><path fill="#F1511B" d="M121.666 121.666H0V0h121.666z"/><path fill="#80CC28" d="M256 121.666H134.335V0H256z"/><path fill="#00ADEF" d="M121.663 256.002H0V134.336h121.663z"/><path fill="#FBBC09" d="M256 256.002H134.335V134.336H256z"/></svg>`,"SDXL v1.0":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 105 87"><rect width="110" height="110" rx="8" fill="#fff"/><defs><linearGradient id="ait-a" x1="31.25" x2="31.25" y1="-5" y2="80.6" gradientTransform="matrix(1 0 0 -1 0 80.6)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#a381ff"/><stop offset="1" stop-color="#9d38ff"/></linearGradient></defs><path d="M57.4 6.6v17.9c-5.8-4.3-15.3-7.6-24.6-7.6-8.3 0-12.9 3.1-12.9 8 0 5.2 5.3 7.3 15.3 9.9 13.1 3.4 27.3 7.9 27.3 24.8 0 15.7-12.3 26-33.4 26-11.4 0-21.5-3.1-28.8-8.3V57.9c6.7 5.9 16 10.7 27.9 10.7 9.2 0 14.4-3.4 14.4-8.8 0-5.8-6.4-7.7-17.4-11C12 45.1 0 40 0 25.4S12 0 32 0c9.6 0 19.4 2.6 25.4 6.6Z" style="fill:url(#ait-a)"/><path d="M79.1 72.4c0-6.8 5.2-12 12-12s12 5.2 12 12-5.3 12-12 12c-6.8.1-12-5.3-12-12Z" style="fill:#e80000"/></svg>',"SD3 Large Turbo":`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 105 87"><rect width="110" height="110" rx="8" fill="#000"/><path d="M57.4 6.6v17.9c-5.8-4.3-15.3-7.6-24.6-7.6-8.3 0-12.9 3.1-12.9 8 0 5.2 5.3 7.3 15.3 9.9 13.1 3.4 27.3 7.9 27.3 24.8 0 15.7-12.3 26-33.4 26-11.4 0-21.5-3.1-28.8-8.3V57.9c6.7 5.9 16 10.7 27.9 10.7 9.2 0 14.4-3.4 14.4-8.8 0-5.8-6.4-7.7-17.4-11C12 45.1 0 40 0 25.4S12 0 32 0c9.6 0 19.4 2.6 25.4 6.6Z" fill='#fff'/><path d="M79.1 72.4c0-6.8 5.2-12 12-12s12 5.2 12 12-5.3 12-12 12c-6.8.1-12-5.3-12-12Z" style="fill:#e80000"/></svg>`,SD3:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 105 87"><rect width="110" height="110" rx="8" fill="#fff"/><path d="M57.4 6.6v17.9c-5.8-4.3-15.3-7.6-24.6-7.6-8.3 0-12.9 3.1-12.9 8 0 5.2 5.3 7.3 15.3 9.9 13.1 3.4 27.3 7.9 27.3 24.8 0 15.7-12.3 26-33.4 26-11.4 0-21.5-3.1-28.8-8.3V57.9c6.7 5.9 16 10.7 27.9 10.7 9.2 0 14.4-3.4 14.4-8.8 0-5.8-6.4-7.7-17.4-11C12 45.1 0 40 0 25.4S12 0 32 0c9.6 0 19.4 2.6 25.4 6.6Z" fill='#000'/><path d="M79.1 72.4c0-6.8 5.2-12 12-12s12 5.2 12 12-5.3 12-12 12c-6.8.1-12-5.3-12-12Z" style="fill:#e80000"/></svg>`,"Dall-e 3":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="none"> <rect width="16" height="16" rx="8" fill="#000"></rect> <path d="M13.1348 6.91143C13.4071 6.0943 13.3133 5.19918 12.878 4.45593C12.2232 3.31593 10.907 2.72943 9.62146 3.00543C9.04958 2.36118 8.22796 1.99481 7.36658 2.00006C6.05258 1.99706 4.88671 2.84306 4.48246 4.09331C3.63833 4.26618 2.90971 4.79456 2.48333 5.54343C1.82371 6.68043 1.97408 8.11368 2.85533 9.08868C2.58308 9.9058 2.67683 10.8009 3.11221 11.5442C3.76696 12.6842 5.08321 13.2707 6.36871 12.9947C6.94021 13.6389 7.76221 14.0053 8.62358 13.9997C9.93833 14.0031 11.1046 13.1563 11.5088 11.9049C12.353 11.7321 13.0816 11.2037 13.508 10.4548C14.1668 9.3178 14.0157 7.88643 13.1348 6.91143ZM8.62433 13.2156C8.09821 13.2163 7.58858 13.0322 7.18471 12.6951C7.20308 12.6853 7.23496 12.6677 7.25558 12.6549L9.64508 11.2749C9.76733 11.2056 9.84233 11.0754 9.84158 10.9348V7.56618L10.8515 8.1493C10.8623 8.15455 10.8695 8.16505 10.871 8.17705V10.9667C10.8695 12.2072 9.86483 13.2129 8.62433 13.2156ZM3.79283 11.1519C3.52921 10.6967 3.43433 10.1631 3.52471 9.64518C3.54233 9.65568 3.57346 9.6748 3.59558 9.68755L5.98508 11.0676C6.10621 11.1384 6.25621 11.1384 6.37771 11.0676L9.29483 9.38305V10.5493C9.29558 10.5613 9.28996 10.5729 9.28058 10.5804L6.86521 11.9751C5.78933 12.5946 4.41496 12.2263 3.79283 11.1519ZM3.16396 5.93605C3.42646 5.48006 3.84083 5.1313 4.33433 4.95018C4.33433 4.97081 4.33321 5.00718 4.33321 5.03268V7.79305C4.33246 7.9333 4.40746 8.06343 4.52933 8.1328L7.44646 9.81693L6.43658 10.4001C6.42646 10.4068 6.41371 10.4079 6.40246 10.4031L3.98671 9.0073C2.91308 8.38555 2.54521 7.01155 3.16396 5.93605ZM11.4612 7.86693L8.54408 6.18243L9.55396 5.59968C9.56408 5.59293 9.57683 5.59181 9.58808 5.59668L12.0038 6.9913C13.0793 7.61268 13.448 8.98855 12.8266 10.0641C12.5637 10.5193 12.1497 10.8681 11.6566 11.0496V8.20668C11.6577 8.06643 11.5827 7.93668 11.4612 7.86693ZM12.4662 6.35418C12.4486 6.34331 12.4175 6.32455 12.3953 6.3118L10.0058 4.93181C9.88471 4.86093 9.73471 4.86093 9.61321 4.93181L6.69608 6.6163V5.45005C6.69533 5.43805 6.70096 5.42643 6.71033 5.41893L9.12571 4.02543C10.2016 3.40481 11.5771 3.77418 12.1973 4.85043C12.4595 5.30493 12.5551 5.83706 12.4662 6.35418ZM6.14708 8.4328L5.13683 7.84968C5.12596 7.84443 5.11883 7.83393 5.11733 7.82193V5.03231C5.11808 3.79031 6.12571 2.78381 7.36771 2.78456C7.89308 2.78456 8.40158 2.96906 8.80546 3.30506C8.78708 3.31481 8.75558 3.33243 8.73458 3.34518L6.34508 4.72518C6.22283 4.79456 6.14783 4.92431 6.14858 5.06493L6.14708 8.4328ZM6.69571 7.25005L7.99508 6.49968L9.29446 7.24968V8.75005L7.99508 9.50005L6.69571 8.75005V7.25005Z" fill="white"></path> </svg>',"o1 Mini":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="none"> <rect width="16" height="16" rx="8" fill="#000"></rect> <path d="M13.1348 6.91143C13.4071 6.0943 13.3133 5.19918 12.878 4.45593C12.2232 3.31593 10.907 2.72943 9.62146 3.00543C9.04958 2.36118 8.22796 1.99481 7.36658 2.00006C6.05258 1.99706 4.88671 2.84306 4.48246 4.09331C3.63833 4.26618 2.90971 4.79456 2.48333 5.54343C1.82371 6.68043 1.97408 8.11368 2.85533 9.08868C2.58308 9.9058 2.67683 10.8009 3.11221 11.5442C3.76696 12.6842 5.08321 13.2707 6.36871 12.9947C6.94021 13.6389 7.76221 14.0053 8.62358 13.9997C9.93833 14.0031 11.1046 13.1563 11.5088 11.9049C12.353 11.7321 13.0816 11.2037 13.508 10.4548C14.1668 9.3178 14.0157 7.88643 13.1348 6.91143ZM8.62433 13.2156C8.09821 13.2163 7.58858 13.0322 7.18471 12.6951C7.20308 12.6853 7.23496 12.6677 7.25558 12.6549L9.64508 11.2749C9.76733 11.2056 9.84233 11.0754 9.84158 10.9348V7.56618L10.8515 8.1493C10.8623 8.15455 10.8695 8.16505 10.871 8.17705V10.9667C10.8695 12.2072 9.86483 13.2129 8.62433 13.2156ZM3.79283 11.1519C3.52921 10.6967 3.43433 10.1631 3.52471 9.64518C3.54233 9.65568 3.57346 9.6748 3.59558 9.68755L5.98508 11.0676C6.10621 11.1384 6.25621 11.1384 6.37771 11.0676L9.29483 9.38305V10.5493C9.29558 10.5613 9.28996 10.5729 9.28058 10.5804L6.86521 11.9751C5.78933 12.5946 4.41496 12.2263 3.79283 11.1519ZM3.16396 5.93605C3.42646 5.48006 3.84083 5.1313 4.33433 4.95018C4.33433 4.97081 4.33321 5.00718 4.33321 5.03268V7.79305C4.33246 7.9333 4.40746 8.06343 4.52933 8.1328L7.44646 9.81693L6.43658 10.4001C6.42646 10.4068 6.41371 10.4079 6.40246 10.4031L3.98671 9.0073C2.91308 8.38555 2.54521 7.01155 3.16396 5.93605ZM11.4612 7.86693L8.54408 6.18243L9.55396 5.59968C9.56408 5.59293 9.57683 5.59181 9.58808 5.59668L12.0038 6.9913C13.0793 7.61268 13.448 8.98855 12.8266 10.0641C12.5637 10.5193 12.1497 10.8681 11.6566 11.0496V8.20668C11.6577 8.06643 11.5827 7.93668 11.4612 7.86693ZM12.4662 6.35418C12.4486 6.34331 12.4175 6.32455 12.3953 6.3118L10.0058 4.93181C9.88471 4.86093 9.73471 4.86093 9.61321 4.93181L6.69608 6.6163V5.45005C6.69533 5.43805 6.70096 5.42643 6.71033 5.41893L9.12571 4.02543C10.2016 3.40481 11.5771 3.77418 12.1973 4.85043C12.4595 5.30493 12.5551 5.83706 12.4662 6.35418ZM6.14708 8.4328L5.13683 7.84968C5.12596 7.84443 5.11883 7.83393 5.11733 7.82193V5.03231C5.11808 3.79031 6.12571 2.78381 7.36771 2.78456C7.89308 2.78456 8.40158 2.96906 8.80546 3.30506C8.78708 3.31481 8.75558 3.33243 8.73458 3.34518L6.34508 4.72518C6.22283 4.79456 6.14783 4.92431 6.14858 5.06493L6.14708 8.4328ZM6.69571 7.25005L7.99508 6.49968L9.29446 7.24968V8.75005L7.99508 9.50005L6.69571 8.75005V7.25005Z" fill="white"></path> </svg>',o1:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="none"> <rect width="16" height="16" rx="8" fill="#000"></rect> <path d="M13.1348 6.91143C13.4071 6.0943 13.3133 5.19918 12.878 4.45593C12.2232 3.31593 10.907 2.72943 9.62146 3.00543C9.04958 2.36118 8.22796 1.99481 7.36658 2.00006C6.05258 1.99706 4.88671 2.84306 4.48246 4.09331C3.63833 4.26618 2.90971 4.79456 2.48333 5.54343C1.82371 6.68043 1.97408 8.11368 2.85533 9.08868C2.58308 9.9058 2.67683 10.8009 3.11221 11.5442C3.76696 12.6842 5.08321 13.2707 6.36871 12.9947C6.94021 13.6389 7.76221 14.0053 8.62358 13.9997C9.93833 14.0031 11.1046 13.1563 11.5088 11.9049C12.353 11.7321 13.0816 11.2037 13.508 10.4548C14.1668 9.3178 14.0157 7.88643 13.1348 6.91143ZM8.62433 13.2156C8.09821 13.2163 7.58858 13.0322 7.18471 12.6951C7.20308 12.6853 7.23496 12.6677 7.25558 12.6549L9.64508 11.2749C9.76733 11.2056 9.84233 11.0754 9.84158 10.9348V7.56618L10.8515 8.1493C10.8623 8.15455 10.8695 8.16505 10.871 8.17705V10.9667C10.8695 12.2072 9.86483 13.2129 8.62433 13.2156ZM3.79283 11.1519C3.52921 10.6967 3.43433 10.1631 3.52471 9.64518C3.54233 9.65568 3.57346 9.6748 3.59558 9.68755L5.98508 11.0676C6.10621 11.1384 6.25621 11.1384 6.37771 11.0676L9.29483 9.38305V10.5493C9.29558 10.5613 9.28996 10.5729 9.28058 10.5804L6.86521 11.9751C5.78933 12.5946 4.41496 12.2263 3.79283 11.1519ZM3.16396 5.93605C3.42646 5.48006 3.84083 5.1313 4.33433 4.95018C4.33433 4.97081 4.33321 5.00718 4.33321 5.03268V7.79305C4.33246 7.9333 4.40746 8.06343 4.52933 8.1328L7.44646 9.81693L6.43658 10.4001C6.42646 10.4068 6.41371 10.4079 6.40246 10.4031L3.98671 9.0073C2.91308 8.38555 2.54521 7.01155 3.16396 5.93605ZM11.4612 7.86693L8.54408 6.18243L9.55396 5.59968C9.56408 5.59293 9.57683 5.59181 9.58808 5.59668L12.0038 6.9913C13.0793 7.61268 13.448 8.98855 12.8266 10.0641C12.5637 10.5193 12.1497 10.8681 11.6566 11.0496V8.20668C11.6577 8.06643 11.5827 7.93668 11.4612 7.86693ZM12.4662 6.35418C12.4486 6.34331 12.4175 6.32455 12.3953 6.3118L10.0058 4.93181C9.88471 4.86093 9.73471 4.86093 9.61321 4.93181L6.69608 6.6163V5.45005C6.69533 5.43805 6.70096 5.42643 6.71033 5.41893L9.12571 4.02543C10.2016 3.40481 11.5771 3.77418 12.1973 4.85043C12.4595 5.30493 12.5551 5.83706 12.4662 6.35418ZM6.14708 8.4328L5.13683 7.84968C5.12596 7.84443 5.11883 7.83393 5.11733 7.82193V5.03231C5.11808 3.79031 6.12571 2.78381 7.36771 2.78456C7.89308 2.78456 8.40158 2.96906 8.80546 3.30506C8.78708 3.31481 8.75558 3.33243 8.73458 3.34518L6.34508 4.72518C6.22283 4.79456 6.14783 4.92431 6.14858 5.06493L6.14708 8.4328ZM6.69571 7.25005L7.99508 6.49968L9.29446 7.24968V8.75005L7.99508 9.50005L6.69571 8.75005V7.25005Z" fill="white"></path> </svg>',"o3 Mini":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="none"> <rect width="16" height="16" rx="8" fill="#000"></rect> <path d="M13.1348 6.91143C13.4071 6.0943 13.3133 5.19918 12.878 4.45593C12.2232 3.31593 10.907 2.72943 9.62146 3.00543C9.04958 2.36118 8.22796 1.99481 7.36658 2.00006C6.05258 1.99706 4.88671 2.84306 4.48246 4.09331C3.63833 4.26618 2.90971 4.79456 2.48333 5.54343C1.82371 6.68043 1.97408 8.11368 2.85533 9.08868C2.58308 9.9058 2.67683 10.8009 3.11221 11.5442C3.76696 12.6842 5.08321 13.2707 6.36871 12.9947C6.94021 13.6389 7.76221 14.0053 8.62358 13.9997C9.93833 14.0031 11.1046 13.1563 11.5088 11.9049C12.353 11.7321 13.0816 11.2037 13.508 10.4548C14.1668 9.3178 14.0157 7.88643 13.1348 6.91143ZM8.62433 13.2156C8.09821 13.2163 7.58858 13.0322 7.18471 12.6951C7.20308 12.6853 7.23496 12.6677 7.25558 12.6549L9.64508 11.2749C9.76733 11.2056 9.84233 11.0754 9.84158 10.9348V7.56618L10.8515 8.1493C10.8623 8.15455 10.8695 8.16505 10.871 8.17705V10.9667C10.8695 12.2072 9.86483 13.2129 8.62433 13.2156ZM3.79283 11.1519C3.52921 10.6967 3.43433 10.1631 3.52471 9.64518C3.54233 9.65568 3.57346 9.6748 3.59558 9.68755L5.98508 11.0676C6.10621 11.1384 6.25621 11.1384 6.37771 11.0676L9.29483 9.38305V10.5493C9.29558 10.5613 9.28996 10.5729 9.28058 10.5804L6.86521 11.9751C5.78933 12.5946 4.41496 12.2263 3.79283 11.1519ZM3.16396 5.93605C3.42646 5.48006 3.84083 5.1313 4.33433 4.95018C4.33433 4.97081 4.33321 5.00718 4.33321 5.03268V7.79305C4.33246 7.9333 4.40746 8.06343 4.52933 8.1328L7.44646 9.81693L6.43658 10.4001C6.42646 10.4068 6.41371 10.4079 6.40246 10.4031L3.98671 9.0073C2.91308 8.38555 2.54521 7.01155 3.16396 5.93605ZM11.4612 7.86693L8.54408 6.18243L9.55396 5.59968C9.56408 5.59293 9.57683 5.59181 9.58808 5.59668L12.0038 6.9913C13.0793 7.61268 13.448 8.98855 12.8266 10.0641C12.5637 10.5193 12.1497 10.8681 11.6566 11.0496V8.20668C11.6577 8.06643 11.5827 7.93668 11.4612 7.86693ZM12.4662 6.35418C12.4486 6.34331 12.4175 6.32455 12.3953 6.3118L10.0058 4.93181C9.88471 4.86093 9.73471 4.86093 9.61321 4.93181L6.69608 6.6163V5.45005C6.69533 5.43805 6.70096 5.42643 6.71033 5.41893L9.12571 4.02543C10.2016 3.40481 11.5771 3.77418 12.1973 4.85043C12.4595 5.30493 12.5551 5.83706 12.4662 6.35418ZM6.14708 8.4328L5.13683 7.84968C5.12596 7.84443 5.11883 7.83393 5.11733 7.82193V5.03231C5.11808 3.79031 6.12571 2.78381 7.36771 2.78456C7.89308 2.78456 8.40158 2.96906 8.80546 3.30506C8.78708 3.31481 8.75558 3.33243 8.73458 3.34518L6.34508 4.72518C6.22283 4.79456 6.14783 4.92431 6.14858 5.06493L6.14708 8.4328ZM6.69571 7.25005L7.99508 6.49968L9.29446 7.24968V8.75005L7.99508 9.50005L6.69571 8.75005V7.25005Z" fill="white"></path> </svg>',"DeepSeek R1":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="none"> <rect width="16" height="16" rx="8" fill="#EEEDF3"></rect> <path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="#DBDBE2"></path> <path d="M13.946 4.84625C13.8254 4.78739 13.7735 4.89951 13.703 4.9565C13.6792 4.97519 13.6586 4.99948 13.6385 5.02097C13.4624 5.2097 13.2569 5.33303 12.9887 5.31808C12.5958 5.29659 12.2609 5.41992 11.9647 5.72079C11.9016 5.34985 11.6923 5.12841 11.3742 4.9864C11.2075 4.91259 11.0388 4.83877 10.9225 4.67807C10.8407 4.56409 10.8188 4.43702 10.7776 4.31182C10.752 4.23614 10.7258 4.15859 10.6389 4.14551C10.5445 4.13056 10.5076 4.20998 10.4707 4.27631C10.3222 4.54727 10.2652 4.84625 10.2703 5.14897C10.2834 5.82914 10.5707 6.37104 11.1406 6.75694C11.2056 6.80086 11.2224 6.84568 11.2018 6.91016C11.1631 7.04282 11.1168 7.17179 11.0757 7.30444C11.05 7.38949 11.0112 7.40815 10.9206 7.37079C10.6076 7.24 10.3371 7.0466 10.0984 6.81205C9.69293 6.41964 9.32621 5.98614 8.86884 5.64697C8.7614 5.56754 8.65443 5.49374 8.54321 5.42366C8.07651 4.96958 8.60444 4.59679 8.72633 4.55287C8.85434 4.50709 8.77072 4.34825 8.35774 4.35012C7.94524 4.352 7.56733 4.49027 7.08613 4.67434C7.01562 4.70236 6.94181 4.72292 6.86565 4.7388C6.42885 4.65658 5.97526 4.63789 5.50108 4.69115C4.6088 4.79113 3.89591 5.21344 3.37175 5.93471C2.74249 6.80086 2.5944 7.78563 2.77566 8.81337C2.96626 9.8953 3.51798 10.7923 4.36634 11.493C5.24554 12.219 6.25836 12.575 7.41363 12.5067C8.11531 12.4666 8.89687 12.3722 9.77794 11.6257C10.0003 11.7359 10.2334 11.7799 10.6207 11.8135C10.9188 11.8415 11.2056 11.7986 11.4279 11.7527C11.776 11.679 11.7517 11.3566 11.626 11.2968C10.6058 10.8212 10.8295 11.0146 10.6258 10.8586C11.1444 10.2438 11.9259 9.6057 12.2315 7.53899C12.2553 7.37452 12.2347 7.27177 12.2315 7.13816C12.2296 7.05779 12.2478 7.02603 12.3403 7.0167C12.5958 6.98771 12.8439 6.91763 13.0719 6.79153C13.7329 6.42993 13.9992 5.83665 14.0622 5.12468C14.0716 5.0163 14.0604 4.90324 13.946 4.84625ZM8.18587 11.2529C7.19688 10.4746 6.71755 10.2186 6.5195 10.2298C6.33447 10.2401 6.36767 10.4522 6.40828 10.5905C6.45081 10.7269 6.50639 10.8212 6.58442 10.9408C6.63814 11.0202 6.67507 11.1389 6.5307 11.2267C6.2121 11.4248 5.65853 11.1604 5.63236 11.1473C4.98813 10.768 4.44949 10.2662 4.06969 9.58044C3.70344 8.9199 3.49041 8.21167 3.45538 7.4558C3.44603 7.27268 3.49976 7.20819 3.68102 7.17552C3.91973 7.1316 4.1664 7.12227 4.40511 7.15681C5.41418 7.30444 6.27328 7.75664 6.99319 8.47143C7.4043 8.87972 7.71543 9.36651 8.0359 9.84206C8.37645 10.3476 8.74317 10.8287 9.20987 11.223C9.37429 11.3613 9.50603 11.4669 9.6317 11.5444C9.2524 11.5864 8.61889 11.5958 8.18587 11.2529ZM8.65955 8.20048C8.65955 8.11916 8.72447 8.05472 8.80622 8.05472C8.82445 8.05472 8.84128 8.05845 8.85621 8.06405C8.8763 8.07151 8.89501 8.08275 8.9095 8.09954C8.93562 8.1248 8.95059 8.16216 8.95059 8.20048C8.95059 8.28175 8.88568 8.34624 8.80435 8.34624C8.7226 8.34624 8.65955 8.28175 8.65955 8.20048ZM10.1316 8.95726C10.0372 8.99558 9.94283 9.02921 9.85223 9.03294C9.71159 9.0395 9.55789 8.98247 9.47427 8.91244C9.34487 8.80404 9.2524 8.74329 9.21312 8.5527C9.19676 8.47143 9.20614 8.34624 9.22059 8.27429C9.25426 8.11916 9.21685 8.02013 9.10802 7.92953C9.01881 7.85572 8.9062 7.8361 8.78197 7.8361C8.73571 7.8361 8.69318 7.81553 8.66142 7.79869C8.60956 7.77253 8.56703 7.70809 8.6077 7.62868C8.62075 7.60342 8.68385 7.54085 8.69878 7.52961C8.86697 7.43341 9.06129 7.46517 9.24116 7.53712C9.40792 7.60529 9.53359 7.73048 9.71484 7.90709C9.90031 8.12107 9.9335 8.18087 10.0391 8.34059C10.1222 8.46674 10.1984 8.59566 10.2502 8.74329C10.2815 8.83485 10.2409 8.91053 10.1316 8.95726Z" fill="black"></path> </svg>',"DeepSeek V3":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="none"> <rect width="16" height="16" rx="8" fill="#ECF0FF"></rect> <path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="#E0E8FF"></path> <path d="M13.946 4.84625C13.8254 4.78739 13.7735 4.89951 13.703 4.9565C13.6792 4.97519 13.6586 4.99948 13.6385 5.02097C13.4624 5.2097 13.2569 5.33303 12.9887 5.31808C12.5958 5.29659 12.2609 5.41992 11.9647 5.72079C11.9016 5.34985 11.6923 5.12841 11.3742 4.9864C11.2075 4.91259 11.0388 4.83877 10.9225 4.67807C10.8407 4.56409 10.8188 4.43702 10.7776 4.31182C10.752 4.23614 10.7258 4.15859 10.6389 4.14551C10.5445 4.13056 10.5076 4.20998 10.4707 4.27631C10.3222 4.54727 10.2652 4.84625 10.2703 5.14897C10.2834 5.82914 10.5707 6.37104 11.1406 6.75694C11.2056 6.80086 11.2224 6.84568 11.2018 6.91016C11.1631 7.04282 11.1168 7.17179 11.0757 7.30444C11.05 7.38949 11.0112 7.40815 10.9206 7.37079C10.6076 7.24 10.3371 7.0466 10.0984 6.81205C9.69293 6.41964 9.32621 5.98614 8.86884 5.64697C8.7614 5.56754 8.65443 5.49374 8.54321 5.42366C8.07651 4.96958 8.60444 4.59679 8.72633 4.55287C8.85434 4.50709 8.77072 4.34825 8.35774 4.35012C7.94524 4.352 7.56733 4.49027 7.08613 4.67434C7.01562 4.70236 6.94181 4.72292 6.86565 4.7388C6.42885 4.65658 5.97526 4.63789 5.50108 4.69115C4.6088 4.79113 3.89591 5.21344 3.37175 5.93471C2.74249 6.80086 2.5944 7.78563 2.77566 8.81337C2.96626 9.8953 3.51798 10.7923 4.36634 11.493C5.24554 12.219 6.25836 12.575 7.41363 12.5067C8.11531 12.4666 8.89687 12.3722 9.77794 11.6257C10.0003 11.7359 10.2334 11.7799 10.6207 11.8135C10.9188 11.8415 11.2056 11.7986 11.4279 11.7527C11.776 11.679 11.7517 11.3566 11.626 11.2968C10.6058 10.8212 10.8295 11.0146 10.6258 10.8586C11.1444 10.2438 11.9259 9.6057 12.2315 7.53899C12.2553 7.37452 12.2347 7.27177 12.2315 7.13816C12.2296 7.05779 12.2478 7.02603 12.3403 7.0167C12.5958 6.98771 12.8439 6.91763 13.0719 6.79153C13.7329 6.42993 13.9992 5.83665 14.0622 5.12468C14.0716 5.0163 14.0604 4.90324 13.946 4.84625ZM8.18587 11.2529C7.19688 10.4746 6.71755 10.2186 6.5195 10.2298C6.33447 10.2401 6.36767 10.4522 6.40828 10.5905C6.45081 10.7269 6.50639 10.8212 6.58442 10.9408C6.63814 11.0202 6.67507 11.1389 6.5307 11.2267C6.2121 11.4248 5.65853 11.1604 5.63236 11.1473C4.98813 10.768 4.44949 10.2662 4.06969 9.58044C3.70344 8.9199 3.49041 8.21167 3.45538 7.4558C3.44603 7.27268 3.49976 7.20819 3.68102 7.17552C3.91973 7.1316 4.1664 7.12227 4.40511 7.15681C5.41418 7.30444 6.27328 7.75664 6.99319 8.47143C7.4043 8.87972 7.71543 9.36651 8.0359 9.84206C8.37645 10.3476 8.74317 10.8287 9.20987 11.223C9.37429 11.3613 9.50603 11.4669 9.6317 11.5444C9.2524 11.5864 8.61889 11.5958 8.18587 11.2529ZM8.65955 8.20048C8.65955 8.11916 8.72447 8.05472 8.80622 8.05472C8.82445 8.05472 8.84128 8.05845 8.85621 8.06405C8.8763 8.07151 8.89501 8.08275 8.9095 8.09954C8.93562 8.1248 8.95059 8.16216 8.95059 8.20048C8.95059 8.28175 8.88568 8.34624 8.80435 8.34624C8.7226 8.34624 8.65955 8.28175 8.65955 8.20048ZM10.1316 8.95726C10.0372 8.99558 9.94283 9.02921 9.85223 9.03294C9.71159 9.0395 9.55789 8.98247 9.47427 8.91244C9.34487 8.80404 9.2524 8.74329 9.21312 8.5527C9.19676 8.47143 9.20614 8.34624 9.22059 8.27429C9.25426 8.11916 9.21685 8.02013 9.10802 7.92953C9.01881 7.85572 8.9062 7.8361 8.78197 7.8361C8.73571 7.8361 8.69318 7.81553 8.66142 7.79869C8.60956 7.77253 8.56703 7.70809 8.6077 7.62868C8.62075 7.60342 8.68385 7.54085 8.69878 7.52961C8.86697 7.43341 9.06129 7.46517 9.24116 7.53712C9.40792 7.60529 9.53359 7.73048 9.71484 7.90709C9.90031 8.12107 9.9335 8.18087 10.0391 8.34059C10.1222 8.46674 10.1984 8.59566 10.2502 8.74329C10.2815 8.83485 10.2409 8.91053 10.1316 8.95726Z" fill="#4D6BFE"></path> </svg>',DeepSeek:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="none"> <rect width="16" height="16" rx="8" fill="#ECF0FF"></rect> <path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="#E0E8FF"></path> <path d="M13.946 4.84625C13.8254 4.78739 13.7735 4.89951 13.703 4.9565C13.6792 4.97519 13.6586 4.99948 13.6385 5.02097C13.4624 5.2097 13.2569 5.33303 12.9887 5.31808C12.5958 5.29659 12.2609 5.41992 11.9647 5.72079C11.9016 5.34985 11.6923 5.12841 11.3742 4.9864C11.2075 4.91259 11.0388 4.83877 10.9225 4.67807C10.8407 4.56409 10.8188 4.43702 10.7776 4.31182C10.752 4.23614 10.7258 4.15859 10.6389 4.14551C10.5445 4.13056 10.5076 4.20998 10.4707 4.27631C10.3222 4.54727 10.2652 4.84625 10.2703 5.14897C10.2834 5.82914 10.5707 6.37104 11.1406 6.75694C11.2056 6.80086 11.2224 6.84568 11.2018 6.91016C11.1631 7.04282 11.1168 7.17179 11.0757 7.30444C11.05 7.38949 11.0112 7.40815 10.9206 7.37079C10.6076 7.24 10.3371 7.0466 10.0984 6.81205C9.69293 6.41964 9.32621 5.98614 8.86884 5.64697C8.7614 5.56754 8.65443 5.49374 8.54321 5.42366C8.07651 4.96958 8.60444 4.59679 8.72633 4.55287C8.85434 4.50709 8.77072 4.34825 8.35774 4.35012C7.94524 4.352 7.56733 4.49027 7.08613 4.67434C7.01562 4.70236 6.94181 4.72292 6.86565 4.7388C6.42885 4.65658 5.97526 4.63789 5.50108 4.69115C4.6088 4.79113 3.89591 5.21344 3.37175 5.93471C2.74249 6.80086 2.5944 7.78563 2.77566 8.81337C2.96626 9.8953 3.51798 10.7923 4.36634 11.493C5.24554 12.219 6.25836 12.575 7.41363 12.5067C8.11531 12.4666 8.89687 12.3722 9.77794 11.6257C10.0003 11.7359 10.2334 11.7799 10.6207 11.8135C10.9188 11.8415 11.2056 11.7986 11.4279 11.7527C11.776 11.679 11.7517 11.3566 11.626 11.2968C10.6058 10.8212 10.8295 11.0146 10.6258 10.8586C11.1444 10.2438 11.9259 9.6057 12.2315 7.53899C12.2553 7.37452 12.2347 7.27177 12.2315 7.13816C12.2296 7.05779 12.2478 7.02603 12.3403 7.0167C12.5958 6.98771 12.8439 6.91763 13.0719 6.79153C13.7329 6.42993 13.9992 5.83665 14.0622 5.12468C14.0716 5.0163 14.0604 4.90324 13.946 4.84625ZM8.18587 11.2529C7.19688 10.4746 6.71755 10.2186 6.5195 10.2298C6.33447 10.2401 6.36767 10.4522 6.40828 10.5905C6.45081 10.7269 6.50639 10.8212 6.58442 10.9408C6.63814 11.0202 6.67507 11.1389 6.5307 11.2267C6.2121 11.4248 5.65853 11.1604 5.63236 11.1473C4.98813 10.768 4.44949 10.2662 4.06969 9.58044C3.70344 8.9199 3.49041 8.21167 3.45538 7.4558C3.44603 7.27268 3.49976 7.20819 3.68102 7.17552C3.91973 7.1316 4.1664 7.12227 4.40511 7.15681C5.41418 7.30444 6.27328 7.75664 6.99319 8.47143C7.4043 8.87972 7.71543 9.36651 8.0359 9.84206C8.37645 10.3476 8.74317 10.8287 9.20987 11.223C9.37429 11.3613 9.50603 11.4669 9.6317 11.5444C9.2524 11.5864 8.61889 11.5958 8.18587 11.2529ZM8.65955 8.20048C8.65955 8.11916 8.72447 8.05472 8.80622 8.05472C8.82445 8.05472 8.84128 8.05845 8.85621 8.06405C8.8763 8.07151 8.89501 8.08275 8.9095 8.09954C8.93562 8.1248 8.95059 8.16216 8.95059 8.20048C8.95059 8.28175 8.88568 8.34624 8.80435 8.34624C8.7226 8.34624 8.65955 8.28175 8.65955 8.20048ZM10.1316 8.95726C10.0372 8.99558 9.94283 9.02921 9.85223 9.03294C9.71159 9.0395 9.55789 8.98247 9.47427 8.91244C9.34487 8.80404 9.2524 8.74329 9.21312 8.5527C9.19676 8.47143 9.20614 8.34624 9.22059 8.27429C9.25426 8.11916 9.21685 8.02013 9.10802 7.92953C9.01881 7.85572 8.9062 7.8361 8.78197 7.8361C8.73571 7.8361 8.69318 7.81553 8.66142 7.79869C8.60956 7.77253 8.56703 7.70809 8.6077 7.62868C8.62075 7.60342 8.68385 7.54085 8.69878 7.52961C8.86697 7.43341 9.06129 7.46517 9.24116 7.53712C9.40792 7.60529 9.53359 7.73048 9.71484 7.90709C9.90031 8.12107 9.9335 8.18087 10.0391 8.34059C10.1222 8.46674 10.1984 8.59566 10.2502 8.74329C10.2815 8.83485 10.2409 8.91053 10.1316 8.95726Z" fill="#4D6BFE"></path> </svg>',"o1 Preview":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="none"> <path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="#000"></path> <g filter="url(#o1_filter)"> <path d="M13.1348 6.91143C13.4071 6.0943 13.3133 5.19918 12.878 4.45593C12.2232 3.31593 10.907 2.72943 9.62146 3.00543C9.04958 2.36118 8.22796 1.99481 7.36658 2.00006C6.05258 1.99706 4.88671 2.84306 4.48246 4.09331C3.63833 4.26618 2.90971 4.79456 2.48333 5.54343C1.82371 6.68043 1.97408 8.11368 2.85533 9.08868C2.58308 9.9058 2.67683 10.8009 3.11221 11.5442C3.76696 12.6842 5.08321 13.2707 6.36871 12.9947C6.94021 13.6389 7.76221 14.0053 8.62358 13.9997C9.93833 14.0031 11.1046 13.1563 11.5088 11.9049C12.353 11.7321 13.0816 11.2037 13.508 10.4548C14.1668 9.3178 14.0157 7.88643 13.1348 6.91143ZM8.62433 13.2156C8.09821 13.2163 7.58858 13.0322 7.18471 12.6951C7.20308 12.6853 7.23496 12.6677 7.25558 12.6549L9.64508 11.2749C9.76733 11.2056 9.84233 11.0754 9.84158 10.9348V7.56618L10.8515 8.1493C10.8623 8.15455 10.8695 8.16505 10.871 8.17705V10.9667C10.8695 12.2072 9.86483 13.2129 8.62433 13.2156ZM3.79283 11.1519C3.52921 10.6967 3.43433 10.1631 3.52471 9.64518C3.54233 9.65568 3.57346 9.6748 3.59558 9.68755L5.98508 11.0676C6.10621 11.1384 6.25621 11.1384 6.37771 11.0676L9.29483 9.38305V10.5493C9.29558 10.5613 9.28996 10.5729 9.28058 10.5804L6.86521 11.9751C5.78933 12.5946 4.41496 12.2263 3.79283 11.1519ZM3.16396 5.93605C3.42646 5.48006 3.84083 5.1313 4.33433 4.95018C4.33433 4.97081 4.33321 5.00718 4.33321 5.03268V7.79305C4.33246 7.9333 4.40746 8.06343 4.52933 8.1328L7.44646 9.81693L6.43658 10.4001C6.42646 10.4068 6.41371 10.4079 6.40246 10.4031L3.98671 9.0073C2.91308 8.38555 2.54521 7.01155 3.16396 5.93605ZM11.4612 7.86693L8.54408 6.18243L9.55396 5.59968C9.56408 5.59293 9.57683 5.59181 9.58808 5.59668L12.0038 6.9913C13.0793 7.61268 13.448 8.98855 12.8266 10.0641C12.5637 10.5193 12.1497 10.8681 11.6566 11.0496V8.20668C11.6577 8.06643 11.5827 7.93668 11.4612 7.86693ZM12.4662 6.35418C12.4486 6.34331 12.4175 6.32455 12.3953 6.3118L10.0058 4.93181C9.88471 4.86093 9.73471 4.86093 9.61321 4.93181L6.69608 6.6163V5.45005C6.69533 5.43805 6.70096 5.42643 6.71033 5.41893L9.12571 4.02543C10.2016 3.40481 11.5771 3.77418 12.1973 4.85043C12.4595 5.30493 12.5551 5.83706 12.4662 6.35418ZM6.14708 8.4328L5.13683 7.84968C5.12596 7.84443 5.11883 7.83393 5.11733 7.82193V5.03231C5.11808 3.79031 6.12571 2.78381 7.36771 2.78456C7.89308 2.78456 8.40158 2.96906 8.80546 3.30506C8.78708 3.31481 8.75558 3.33243 8.73458 3.34518L6.34508 4.72518C6.22283 4.79456 6.14783 4.92431 6.14858 5.06493L6.14708 8.4328ZM6.69571 7.25005L7.99508 6.49968L9.29446 7.24968V8.75005L7.99508 9.50005L6.69571 8.75005V7.25005Z" fill="white"></path> </g> <defs> <filter id="o1_filter" x="0.0749512" y="0" width="15.8406" height="15.9998" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"> <feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood> <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix> <feOffset></feOffset> <feGaussianBlur stdDeviation="1"></feGaussianBlur> <feComposite in2="hardAlpha" operator="out"></feComposite> <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"></feColorMatrix> <feBlend mode="normal" in2="BackgroundImageFix" result="o1_dropshadow"></feBlend> <feBlend mode="normal" in="SourceGraphic" in2="o1_dropshadow" result="shape"></feBlend> </filter> <linearGradient id="o1_linear" x1="2" y1="2" x2="14" y2="14" gradientUnits="userSpaceOnUse"> <stop offset="0.2" stop-color="#F9D914"></stop> <stop offset="0.6" stop-color="#D8E0A2"></stop> <stop offset="1" stop-color="#56A9CB"></stop> </linearGradient> </defs> </svg>',"Grok 3":'<svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M2.30047 8.77631L12.0474 23H16.3799L6.63183 8.77631H2.30047ZM6.6285 16.6762L2.29492 23H6.63072L8.79584 19.8387L6.6285 16.6762ZM17.3709 1L9.88007 11.9308L12.0474 15.0944L21.7067 1H17.3709ZM18.1555 7.76374V23H21.7067V2.5818L18.1555 7.76374Z" fill="#000"></path></svg>',AITOPIA:'<svg xmlns="http://www.w3.org/2000/svg" baseProfile="tiny" viewBox="0 0 125 121.7" overflow="visible"><circle fill="#01a77d" cx="63.4" cy="61.2" r="57.8"/><g fill="#fff"><path d="M46.9 60.5h-.4c-1.9-.2-3.3-1.9-3.1-3.8.6-6.3 4.5-38 17.3-41.2 8.2-2 14.4 7.5 16.5 10.6 1.1 1.6.6 3.8-1 4.9s-3.8.6-4.9-1c-3.5-5.3-6.9-8.2-9-7.7-4.2 1-10 14.8-12 35.1-.2 1.7-1.7 3.1-3.4 3.1zm51.9-4.9c-.5 0-1-.1-1.4-.3-1.8-.8-2.6-2.9-1.8-4.6 2.6-5.8 3.2-10.2 1.7-11.7-3.1-3-17.8-.6-36.1 8.6-1.7.9-3.8.2-4.7-1.6-.9-1.7-.2-3.8 1.6-4.7.3-.2 8.3-4.1 17.4-7.1 13.4-4.5 22.2-4.5 26.7-.2 6.1 5.8 1.4 16.2-.1 19.6-.7 1.3-2 2-3.3 2zM88.2 89.5c-1.8 0-3.3-1.3-3.5-3.1-.2-1.9 1.1-3.7 3.1-3.9 6.3-.7 10.4-2.5 10.9-4.6 1-4.2-8.7-15.6-25.9-26.6-1.6-1-2.1-3.2-1.1-4.8s3.2-2.1 4.8-1.1c.3.2 7.8 5 15.1 11.3 10.7 9.3 15.3 16.7 13.9 22.8-1.9 8.2-13.2 9.5-16.9 10h-.4zm-25.9 18.1c-7.2 0-12.4-8.3-14.2-11.2-1-1.6-.5-3.8 1.1-4.8s3.8-.5 4.8 1.1c3.4 5.4 6.7 8.3 8.8 7.9 4.2-.9 10.3-14.5 12.9-34.8.2-1.9 2-3.3 3.9-3 1.9.2 3.3 2 3 3.9-.8 6.3-5.4 37.9-18.4 40.7-.5.1-1.2.2-1.9.2zm-25-18.1c-5.5 0-9.4-1.3-11.8-4-5.6-6.3-.1-16.3 1.6-19.5.9-1.7 3.1-2.3 4.7-1.4 1.7.9 2.3 3.1 1.4 4.7-3.1 5.6-4 9.9-2.6 11.5 2.9 3.2 17.7 1.9 36.7-5.7a3.57 3.57 0 0 1 4.6 1.9 3.57 3.57 0 0 1-1.9 4.6c-.3.1-8.6 3.5-17.9 5.8-5.9 1.4-10.8 2.1-14.8 2.1zm16.5-12.6c-.6 0-1.2-.2-1.8-.5-.3-.2-7.9-4.8-15.4-10.8-11-8.9-15.8-16.2-14.6-22.3 1.6-8.2 12.9-9.9 16.6-10.5 1.9-.3 3.7 1 4 2.9s-1 3.7-2.9 4c-6.3.9-10.3 2.8-10.7 4.9-1 4.3 9 15.3 26.6 25.8 1.7 1 2.2 3.1 1.2 4.8-.7 1.1-1.8 1.7-3 1.7z"/><circle cx="63.8" cy="60.5" r="8.4"/></g></svg>',"GPT-black":'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8" fill="#fff"></circle><path d="M13.1351 6.91143C13.4073 6.0943 13.3136 5.19918 12.8782 4.45593C12.2235 3.31593 10.9072 2.72943 9.6217 3.00543C9.04983 2.36118 8.2282 1.99481 7.36683 2.00006C6.05283 1.99706 4.88695 2.84306 4.4827 4.09331C3.63858 4.26618 2.90995 4.79456 2.48358 5.54343C1.82395 6.68043 1.97433 8.11368 2.85558 9.08868C2.58333 9.9058 2.67708 10.8009 3.11245 11.5442C3.7672 12.6842 5.08345 13.2707 6.36895 12.9947C6.94045 13.6389 7.76245 14.0053 8.62383 13.9997C9.93858 14.0031 11.1048 13.1563 11.5091 11.9049C12.3532 11.7321 13.0818 11.2037 13.5082 10.4548C14.1671 9.3178 14.016 7.88643 13.1351 6.91143ZM8.62458 13.2156C8.09845 13.2163 7.58883 13.0322 7.18495 12.6951C7.20333 12.6853 7.2352 12.6677 7.25583 12.6549L9.64533 11.2749C9.76758 11.2056 9.84258 11.0754 9.84183 10.9348V7.56618L10.8517 8.1493C10.8626 8.15455 10.8697 8.16505 10.8712 8.17705V10.9667C10.8697 12.2072 9.86508 13.2129 8.62458 13.2156ZM3.79308 11.1519C3.52945 10.6967 3.43458 10.1631 3.52495 9.64518C3.54258 9.65568 3.5737 9.6748 3.59583 9.68755L5.98533 11.0676C6.10645 11.1384 6.25645 11.1384 6.37795 11.0676L9.29508 9.38305V10.5493C9.29583 10.5613 9.2902 10.5729 9.28083 10.5804L6.86545 11.9751C5.78958 12.5946 4.4152 12.2263 3.79308 11.1519ZM3.1642 5.93605C3.4267 5.48006 3.84108 5.13131 4.33458 4.95018C4.33458 4.97081 4.33345 5.00718 4.33345 5.03268V7.79305C4.3327 7.9333 4.4077 8.06343 4.52958 8.1328L7.4467 9.81693L6.43683 10.4001C6.4267 10.4068 6.41395 10.4079 6.4027 10.4031L3.98695 9.0073C2.91333 8.38555 2.54545 7.01155 3.1642 5.93605ZM11.4615 7.86693L8.54433 6.18243L9.5542 5.59968C9.56433 5.59293 9.57708 5.59181 9.58833 5.59668L12.0041 6.9913C13.0796 7.61268 13.4482 8.98855 12.8268 10.0641C12.564 10.5193 12.15 10.8681 11.6568 11.0496V8.20668C11.658 8.06643 11.583 7.93668 11.4615 7.86693ZM12.4665 6.35418C12.4488 6.34331 12.4177 6.32455 12.3956 6.3118L10.0061 4.93181C9.88495 4.86093 9.73495 4.86093 9.61345 4.93181L6.69633 6.6163V5.45005C6.69558 5.43805 6.7012 5.42643 6.71058 5.41893L9.12595 4.02543C10.2018 3.40481 11.5773 3.77418 12.1976 4.85043C12.4597 5.30493 12.5553 5.83706 12.4665 6.35418ZM6.14733 8.4328L5.13708 7.84968C5.1262 7.84443 5.11908 7.83393 5.11758 7.82193V5.03231C5.11833 3.79031 6.12595 2.78381 7.36795 2.78456C7.89333 2.78456 8.40183 2.96906 8.8057 3.30506C8.78733 3.31481 8.75583 3.33243 8.73483 3.34518L6.34533 4.72518C6.22308 4.79456 6.14808 4.92431 6.14883 5.06493L6.14733 8.4328ZM6.69595 7.25005L7.99533 6.49968L9.2947 7.24968V8.75005L7.99533 9.50005L6.69595 8.75005V7.25005Z" fill="#000"></path></svg>',"GPT-white":'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="8" fill="#000"></circle><path d="M13.1351 6.91143C13.4073 6.0943 13.3136 5.19918 12.8782 4.45593C12.2235 3.31593 10.9072 2.72943 9.6217 3.00543C9.04983 2.36118 8.2282 1.99481 7.36683 2.00006C6.05283 1.99706 4.88695 2.84306 4.4827 4.09331C3.63858 4.26618 2.90995 4.79456 2.48358 5.54343C1.82395 6.68043 1.97433 8.11368 2.85558 9.08868C2.58333 9.9058 2.67708 10.8009 3.11245 11.5442C3.7672 12.6842 5.08345 13.2707 6.36895 12.9947C6.94045 13.6389 7.76245 14.0053 8.62383 13.9997C9.93858 14.0031 11.1048 13.1563 11.5091 11.9049C12.3532 11.7321 13.0818 11.2037 13.5082 10.4548C14.1671 9.3178 14.016 7.88643 13.1351 6.91143ZM8.62458 13.2156C8.09845 13.2163 7.58883 13.0322 7.18495 12.6951C7.20333 12.6853 7.2352 12.6677 7.25583 12.6549L9.64533 11.2749C9.76758 11.2056 9.84258 11.0754 9.84183 10.9348V7.56618L10.8517 8.1493C10.8626 8.15455 10.8697 8.16505 10.8712 8.17705V10.9667C10.8697 12.2072 9.86508 13.2129 8.62458 13.2156ZM3.79308 11.1519C3.52945 10.6967 3.43458 10.1631 3.52495 9.64518C3.54258 9.65568 3.5737 9.6748 3.59583 9.68755L5.98533 11.0676C6.10645 11.1384 6.25645 11.1384 6.37795 11.0676L9.29508 9.38305V10.5493C9.29583 10.5613 9.2902 10.5729 9.28083 10.5804L6.86545 11.9751C5.78958 12.5946 4.4152 12.2263 3.79308 11.1519ZM3.1642 5.93605C3.4267 5.48006 3.84108 5.13131 4.33458 4.95018C4.33458 4.97081 4.33345 5.00718 4.33345 5.03268V7.79305C4.3327 7.9333 4.4077 8.06343 4.52958 8.1328L7.4467 9.81693L6.43683 10.4001C6.4267 10.4068 6.41395 10.4079 6.4027 10.4031L3.98695 9.0073C2.91333 8.38555 2.54545 7.01155 3.1642 5.93605ZM11.4615 7.86693L8.54433 6.18243L9.5542 5.59968C9.56433 5.59293 9.57708 5.59181 9.58833 5.59668L12.0041 6.9913C13.0796 7.61268 13.4482 8.98855 12.8268 10.0641C12.564 10.5193 12.15 10.8681 11.6568 11.0496V8.20668C11.658 8.06643 11.583 7.93668 11.4615 7.86693ZM12.4665 6.35418C12.4488 6.34331 12.4177 6.32455 12.3956 6.3118L10.0061 4.93181C9.88495 4.86093 9.73495 4.86093 9.61345 4.93181L6.69633 6.6163V5.45005C6.69558 5.43805 6.7012 5.42643 6.71058 5.41893L9.12595 4.02543C10.2018 3.40481 11.5773 3.77418 12.1976 4.85043C12.4597 5.30493 12.5553 5.83706 12.4665 6.35418ZM6.14733 8.4328L5.13708 7.84968C5.1262 7.84443 5.11908 7.83393 5.11758 7.82193V5.03231C5.11833 3.79031 6.12595 2.78381 7.36795 2.78456C7.89333 2.78456 8.40183 2.96906 8.8057 3.30506C8.78733 3.31481 8.75583 3.33243 8.73483 3.34518L6.34533 4.72518C6.22308 4.79456 6.14808 4.92431 6.14883 5.06493L6.14733 8.4328ZM6.69595 7.25005L7.99533 6.49968L9.2947 7.24968V8.75005L7.99533 9.50005L6.69595 8.75005V7.25005Z" fill="#fff"></path></svg>',zoom_in:'<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="11" y1="8" x2="11" y2="14"></line><line x1="8" y1="11" x2="14" y2="11"></line></svg>',zoom_out:'<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line><line x1="8" y1="11" x2="14" y2="11"></line></svg>',right_to_line:'<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>',left_to_line:'<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>'},yt={async search(t=null,e=1){let a=await f.apiCall("/agents/search",{page:e,search:t},"POST",6e4,"json",0);return{data:a.data,pages:a._pages,recordsFiltered:a.recordsFiltered,recordsTotal:a.recordsTotal}},async get(t){return await f.apiCall(`/agents/get/id/${t}`)},async set(t,e,a,l,n,s="Private",u=[],c=[],p=null,m=null,h=null){return await f.apiCall("/agents/create",{title:t,base_model_id:e,detail:a,personalization:l,icon:n,share_type:s,skill_ids:u,file_ids:c,category_id:p,...m?{short_description:m}:{},...h?{workflow:h}:{}},"POST")},async update(t,e,a,l,n=null,s=null,u="Private",c=[],p=[],m=null,h=null,v=null,g=null,w=null){return s=s??V.ai_default_model,await f.apiCall(`/agents/update/id/${t}`,{title:e,base_model_id:s,detail:a,personalization:l,icon:n,share_type:u,skill_ids:c,file_ids:p,publisher:m,...h?{overview:h}:{},...v?{category_id:v}:{},...g?{short_description:g}:{},...w?{workflow:w}:{}},"POST")},async delete(t){return await f.apiCall(`/agents/delete/id/${t}`)}},Qt={init(){if(location.search.indexOf("__aitopia_developer_mode__")!==-1&&(this.is_dev=!0),this!=null&&this.developer&&(f.notUndefined(this.developer,"beta_api")&&(this.constants.api_url=`https://beta_api.${this.constants.domain}`),f.notUndefined(this.developer,"debug_log")&&(this.constants.debugMode=1)),document.addEventListener("mousemove",n=>{typeof n.clientY<"u"&&typeof n.clientX<"u"&&n.clientY>=0&&n.clientX>=0&&(this.mouse_position={x:n.clientX+10,y:n.clientY+10})}),document.dispatchEvent(new Event("mousemove")),this.storageExpires(),f.Browser().storage.local.set({migration_status:!0}).then(),this.migration_status=!0,f.addLoading(),typeof window.ai_run<"u")return;window.ai_run=!0,this.run=!0,this.auth_check=!1,this.stc=0,this.constants.runtime_id==null&&window&&window.addEventListener("message",n=>(console.log("MESSAGE"),f.sendMessageListener(n.data,null,null,!0)),!1),this.storage.listener(this),this.defaultSettings(),this.changeColorMode(),this.changeSettings(),this.domain!=null&&this.constants.runtime_id!=null&&f.domainByUrls(this.domain),f.Browser().storage.local.get("language_variables").then(n=>{f.notUndefined(n,"language_variables")||this.getLanguages(!0)}),typeof document<"u"&&document.addEventListener("keydown",this.keyAction),this.storage.Local.ai_chat?this.ai_chat=this.storage.Local.ai_chat:this.newChat();let t;if(window&&window.location.host&&(window.location.host.split(".").length>2?(t=window.location.host.split("."),delete t[0],t=Object.values(t).join(".").toString()):t=window.location.host),this.constants.domain_allows.indexOf(t)!==-1){if(f.changeSiteLanguage(),window.location.href.indexOf("/payment")!=-1){let s=0,u=setInterval(()=>{window.location.href.indexOf("?thank_you")!=-1&&s==0&&(s=1,clearInterval(u),f.sendMessage("tabExtensionPage",{url:this.constants.extension_payment_success,filter_url:"/payment?thank_you",filters:{}}))},10)}(window.location.href.indexOf("/subscription?thank_you")!=-1||window.location.href.indexOf("/auth?logout")!=-1||window.location.href.indexOf("?login=success")!=-1||window.location.href.indexOf("/subscription")!=-1||window.location.href.indexOf("check_plan_by_uuid_chatgpt_sidebar")!=-1||window.location.href.indexOf("/invited?register=success")!=-1||window.location.href.indexOf("/setup")!=-1)&&(window.history.pushState(null,document.title,window.location.href.split("?")[0]),f.sendMessage("uuid",{data:1})),window.location.href.indexOf("/agents")!=-1&&this.changeStorage("settings.switchbar","agent",!1);let n=!1;if(window.location.href.indexOf("/setup")!=-1){(document.querySelector(".setup_page #pin-step.hidden")==null||document.querySelector(".setup_page #login-step.hidden")==null)&&this.sidebarToggle(!1);var e=!1,a=!1,l=setInterval(()=>{if(n)return;let s=document.querySelector(".setup_page #check_toolbar");(s.value==="false"||s.value===!1)&&f.sendMessage("action.getUserSettings",{},"Helpers.isPinned"),e==!1&&document.querySelector(".setup_page #pin-step.hidden")!=null&&(e=!0,this.sidebarToggle(!1)),a==!1&&document.querySelector(".setup_page #login-step.hidden")!=null&&(a=!0,e=!0,f.sendMessage("uuid",{data:1})),document.querySelector(".setup_page #finish-step.hidden")==null&&n==!1&&(typeof this.storage.Local.ai_setup>"u"&&(this.sidebarToggle(!0),f.Browser().storage.local.set({ai_setup:!0}).then()),n=!0,l&&clearInterval(l))},1e3)}}this.setAppDetailProperty()},finish(){if(this.getPrompts().then(async t=>await this.getPromptSettings(t)).then(()=>{Mt.build(this),this.getAiContextPrompts(),si.build(this)}),this.tabMenuUrl(),this.tabMenu(),this.fullTabMenu(),(typeof this.storage.Local.uuid_hopekey>"u"||typeof this.storage.Local.uuid_search>"u"||typeof this.storage.Local.credit_detail>"u")&&f.sendMessage("uuid",{}),setTimeout(()=>{$e.build(this)},1e3),this.clickListener(),this.clearText(),f.scrollToBottom(),f.onMessageListener(),this.tooltip(),this.constants.build_type=="self"&&(f.Browser().storage.local.set({migration_status:!1}),f.sendMessage("SyncAppAndExtensionOrTabs")),this.constants.mode!="production"&&this.syncLangVar(),this.dropdownUnique(),document&&document.querySelector('[role="presentation"] #zoom')!==null&&document.querySelector("#aitopia-sidebar-opener")!==null){let t=document.querySelector("#aitopia-sidebar-opener"),e={bottom:"160px"};Object.assign(t.style,e),console.log(t.style)}this.SettingsCatchbyCallApi(),this.disabledForThisSite(),f.eventMarkedInText(),this.dragOpenerPosition(),setTimeout(()=>{this.YTResponseBuilder.build(this)},100),this.GroupChat.build(this),setTimeout(()=>{document.querySelectorAll('[id*="-sidebar-opener"]').forEach(t=>{if(t!==document.querySelector("#aitopia-sidebar-opener")){let e=this.settings.sidebar_bottom_position??"70px",a=parseFloat(e.replace("px","")),l=parseFloat(t.style.bottom.replace("px",""));Math.abs(a-l)<60&&this.changeStorage("settings.sidebar_bottom_position",l+60+"px",!1)}})},300),this.speech_record==!0&&this.speechToText("auto_start"),this.chatByAgent(this.ai_chat),this.checkCampaignModal(),window.addEventListener("navigate",()=>{this.campaign_modal_show=!1,this.checkCampaignModal()})},async checkSiteAuthChange(){typeof window<"u"&&window.getCookie("aitopia_check_login")&&this.auth_check==!1&&(V.domain_allows.forEach(e=>{window.setCookie("aitopia_check_login",!1,-1,"."+e),window.eraseCookie("aitopia_check_login","."+e)}),f.sendMessage("uuid",{data:1}),this.auth_check=!0)},changeListener(t="session",e="change",a={},l={},n=!1){if(typeof this[e]<"u"&&(typeof l=="string"&&(l=f.JsonParse(l)),typeof a=="string"&&(a=f.JsonParse(a)),this[e]=a),e=="migration"||e=="migration_status"){e=="migration_status"&&(this.storage.Local.migration_status=this.migrate_status=a);return}e=="ai_wait"&&(this.ai_wait=a),this.checkSiteAuthChange();let s=!1;if(e=="credit_detail"&&(this.credit_details=a,s=!0),e=="credit_detail_visual"&&(this.credit_detail_visual=a,s=!0),e=="email"&&(this.email=a,s=!0),e=="ai_models"&&(this.ai_models=a,console.log("aiModelsChange"),s=!0),e=="ai_type_models"&&(this.ai_type_models=a,s=!0),e.includes("ai_single_")&&(this[e]=a,this.$data[e]=a,this.ai_single==null&&(this.ai_single={}),this.ai_single||(this.ai_single={}),this.ai_single[e.replace("ai_single_","")]=a,s=!0),e=="ai_single"&&(this.ai_single=a,s=!0),e=="ai_workflow_stream"&&(s=!0),e=="ai_workflow"&&(this[e]=null,this.$data[e]=null,this.ai_workflow=X.ai_workflow=null,this[e]=a,this.$data[e]=a,this.ai_workflow=X.ai_workflow=a,s=!0),e=="ai_chat"&&(this.ai_chat=X.ai_chat=a!=null?Object.values(a):[],s=!0),this.constants.debugMode&&console.log(t,e,a),typeof this.storage[t]=="object"&&(this.storage[t][e]=a),typeof this[e]<"u"&&(this[e]=a),e=="settings"&&this.storage.build().then(u=>{this.storage=u,this.changeSettings()}),e=="ai_single"&&($e.change(),s=!0),e=="settings"&&(this.credit_model=f.notUndefined(a,"ai_model"),f.notUndefined(a,"switchbar")!=f.notUndefined(l,"switchbar")&&(this.SettingsCatchbyCallApi(),this.clearText()),f.notUndefined(a,"language")!=f.notUndefined(l,"language")&&this.getLanguages(!0,f.notUndefined(a,"language")),s=!0),e=="settings"&&a==null&&console.error(e,a),e!="start_scrap"&&s&&!this.migration_status&&!n&&this.constants.build_type=="self"){let u={},c=t.toLowerCase();u[c]={},u[c][e]=f.JsonParse(a),u[c].migration=new Date().getTime(),f.Browser().storage.local.set({migration:u[c].migration}),f.sendMessage("SyncAppAndExtensionOrTabs",{data:{storage:u}})}},clickListener(){let t=this;document.addEventListener("click",function(e){let a=e.target;if(a.classList.contains("yt-time")&&a.getAttribute("data-content")!==null&&Number.isInteger(parseInt(a.getAttribute("data-content")))&&document.getElementsByTagName("video")!==null&&typeof document.getElementsByTagName("video")[0]<"u"&&(document.getElementsByTagName("video")[0].currentTime=parseInt(a.getAttribute("data-content"))),t.dropdownInit(e),typeof t.constants!=null){let n=t.constants.click_open_url;Object.keys(n).forEach(s=>{if(a.closest(`.${s}`)&&(a=a.closest(`.${s}`)),Object.values(a.classList).indexOf(s)!=-1){let u=n[s];typeof t.constants[u]<"u"&&(u=t.constants[u]),t.clickOpenPage(u)}})}if(Object.values(a.classList).indexOf("aitopia-ask-search")!=-1)$e.build(t,t.constants.ai_default_model,!0,!0,"click");else if(Object.values(a.classList).indexOf("aitopia-gpt-4")!=-1){let n=a.closest("[data-key]").getAttribute("data-key");if(!f.notUndefined(X.ai_single,`${n}.0.item`))return;let s=f.notUndefined(X.ai_single,`${n}.0.item`);if(s==null)return;let u=f.notUndefined(X.ai_single,`${n}.0.extra_data`)??{};He.build(t,n,s,"GPT-4o",null,null,!1,u)}else if(Object.values(a.classList).indexOf("ait-continue-btn")!==-1){console.log("continue is clicked");let n=a.closest("[data-key]").getAttribute("data-key")??null;n!=null&&(X.ai_extra_key=n),X.ai_single!=null&&typeof X.ai_single[X.ai_extra_key]<"u"&&(typeof X.ai_single[X.ai_extra_key].ai_single<"u"?(t.newChat(X.ai_single[X.ai_extra_key].ai_single),t.sidebarToggle(!0)):(t.newChat(X.ai_single[X.ai_extra_key]),t.sidebarToggle(!0)),t.changeStorage("settings.switchbar","chat",!1))}else Object.values(a.classList).indexOf("ait-action-question")!=-1&&(pt.instance=t,t.aiChat(a.innerText,t.settings.ai_model,"ai_chat","__all",!0,!1));let l=!1;if((Object.values(a.classList).indexOf("aitopia-result-copy")!=-1||a.closest(".aitopia-result-copy")!=null)&&(l=!0),l){let n=a.closest(".ait-response").querySelector(".ai_result").innerText;f.copyClipboard(n)}if(a){if(a.closest(".ait-continue-chat")){let u=a.closest(".ait-continue-chat").id.replace(/ait-continue-chat-/g,""),c="__all";a.closest(".ait-response")!=null&&(c=a.closest(".ait-response").getAttribute("data-key"));let p=a.getAttribute("data-title")??t.__("Continue");pt.instance=t,t.aiChat(p,t.settings.ai_model,u,c,!0,!1,null,!0)}let n=!1;a.getAttribute("class")!=null&&a.getAttribute("class").indexOf("ait-back-pricing")!==-1&&(n=!0),(n||a.closest(".ait-back-pricing")!==null)&&f.sendMessage("tabExtensionPage",{url:t.constants.extension_pricing,filters:{active:!0,lastFocusedWindow:!0}})}if(t.clickOPN(e),!a.closest("[data-ait-modal]")&&Object.values(a.classList).indexOf("data-ait-modal")===-1&&document.querySelectorAll("[data-ait-modal]").forEach(n=>{let s=n.getAttribute("data-ait-modal");t.$data[s]=t[s]=!1}),a.closest("[data-ait-modal-btn]")||Object.values(a.classList).indexOf("data-ait-modal-btn")!==-1){let n=null;a.closest("[data-ait-modal-btn]")?n=a.closest("[data-ait-modal-btn]").getAttribute("data-ait-modal-btn"):n=a.getAttribute("data-ait-modal-btn"),n!==null&&(t[n]=!f.notUndefined(t,n),t.$data[n]=t[n])}})},clickOpenPage(t){return f.sendMessage("openPage",{url:t})},sidebarToggle(t=null,e=null){let a=!1,l=!1;if(!this.constants.is_web_app&&!this.ai_move_logo){if(e){if(e.target.closest("#aitopia-sidepanel")&&!document.querySelector("#aitopia-container.close-sidebar"))l=!0;else if(document.querySelector("#aitopia-sidepanel #aitopia-container.close-sidebar")){document.querySelector("#aitopia-container.close-sidebar").classList.remove("close-sidebar");return}}document.querySelector("#aitopia-sidepanel")&&l?typeof f.Browser().sidePanel<"u"&&f.Browser().sidePanel.setOptions({enabled:!1}):document.querySelector("#aitopia-container")&&document.querySelector("#aitopia-container #aitopia-sidebar")&&(typeof t!="boolean"&&(a=!0),(t==null||typeof t!="boolean")&&(t=this.show_sidebar!=!0),t==!1?setTimeout(()=>{this.show_sidebar=t,this.changeStorage("show_sidebar",t,!1)},1e3):(this.show_sidebar=t,this.changeStorage("show_sidebar",t,!1),setTimeout(()=>f.scrollToBottom(),300)),t==!0?(((document.querySelector("body").getAttribute("id")??"").indexOf("aitopia")==-1||document.querySelector("#aitopia-container.close-sidebar")||a)&&(document.querySelector("#aitopia-container").classList.remove("close-sidebar"),document.querySelector("#aitopia-container").classList.add("show-sidebar")),document.querySelector("#aitopia-sidebar-opener").classList.remove("ait-show"),document.querySelector("#aitopia-sidebar-opener").classList.add("ait-hide")):(document.querySelector("#aitopia-container").classList.remove("show-sidebar"),document.querySelector("#aitopia-container").classList.add("close-sidebar"),this.settings.sidebar_show_icon&&(document.querySelector("#aitopia-sidebar-opener").classList.add("ait-show"),document.querySelector("#aitopia-sidebar-opener").classList.remove("ait-hide")))),this.clearText()}},changeAi(t,e){this.ai_chat[e]={item:t,role:"system"}},elementRemove(t){return document.querySelector(t).remove(),!0},getUri:t=>f.Browser().runtime.getURL(t),emptyMethod:()=>{},html(...t){this.constants.debugMode&&console.log(t)},combinationSet(t,e){t.target&&typeof t.target.value<"u"&&(t.target.value=e.join("+"),t.target.dispatchEvent(new Event("change")))},keyAction(t,e={ctrl:!0,shift:!0,key:"enter"},a=l=>l){t.key=="Escape"&&this.sidebarToggle(!1);let l={};if((t.ctrlKey||t.metaKey)&&(l.ctrl="ctrl"),t.altKey&&(l.alt="alt"),t.altgrKey&&(l.altgr="altgr"),t.shiftKey&&(l.shift="shift"),t.key&&typeof t.key.toLowerCase=="function"){let c=t.key.toLowerCase();c=="control"&&(c="ctrl"),c&&(l[c]=c)}let n=Object.values(l).join("+");Object.keys(this.settings).forEach(c=>{if(c.indexOf("_cmd")!==-1){if(c=="sidebar_cmd"){let p=this.settings[c];p.length>0&&n.toLowerCase()==p.toLowerCase()&&f.Browser().storage.local.get("show_sidebar").then(m=>{this.sidebarToggle(m.show_sidebar!=!0)})}else if(c=="send_cmd"){let p=this.settings[c];if(p.length>0&&n.toLowerCase()==p.toLowerCase()&&t.target!==null&&t.target.closest(".ait-border")!=null){if(t.target.closest(".ait-border").querySelector("#ask")!=null&&!this.GroupChat.is_show){if(String(this.ai_ask).trim().length>2&&this.ai_ask!=""&&this.ai_ask!=null){t.target.closest(".ait-border").classList.remove("input-error"),this.constants.debugMode&&console.log(Date());let m=this;if(m.aa2=0,pt.instance=m,this.storage.Local.page_context)Rt.emit("send_message",!0);else if(this.storage.Local.context_data!=null&&this.type=="ChatWithFile")Rt.emit("send_message_chat_with_file",!0);else{let h={};t.target.getAttribute("agent-id")&&(h.agent_id=t.target.getAttribute("agent-id"));let v=null,g=null;if(Array.isArray(this.attached_files)&&this.attached_files.length>0){const w=this.attached_files.map(C=>({id:C.id,name:C.name,size:C.size,type:C.type})).filter(C=>!!C.id);g=w,v=w.map(C=>C.id)}this.aiChat(m.ai_ask,m.settings.ai_model,"ai_chat","__all",!0,!1,null,!1,h,v||void 0,g||void 0),m.ai_ask=null,Array.isArray(this.attached_files)&&this.attached_files.length>0&&(this.attached_files=[],this.changeStorage("attached_files",[],!1))}}else this.constants.debugMode&&console.log(t.target),t.target.closest(".ait-border").classList.add("input-error");t.preventDefault(),t.stopPropagation()}if(t.target.getAttribute("id")!=null&&t.target.id=="ait-prompt-selection"){let m=t.target;String(m.value).trim().length>2?(m.classList.remove("input-error"),this.constants.debugMode&&console.log(Date()),t.target.closest("#ait-prompt-container").querySelector("#ait-prompt-submit").click()):(this.constants.debugMode&&console.log(t.target),m.classList.add("input-error")),t.preventDefault(),t.stopPropagation()}}}else if(c=="color_mode_cmd"){let p=this.settings[c];p.length>0&&n.toLowerCase()==p.toLowerCase()&&this.changeColorMode(this.settings.color_mode=="light"?"dark":"light")}else if(c=="fullscreen_cmd"){let p=this.settings[c];p.length>0&&n.toLowerCase()==p.toLowerCase()&&f.sendMessage("openPage",{url:`${this.constants.extension_main_dir}/full_screen.html`})}else if(c=="context_menu_shortcut_cmd"){let p=this.settings[c];p.length>0&&n.toLowerCase()==p.toLowerCase()&&si.showContextMenuWithShortcuts(this)}}}),typeof e=="string"&&(e=JSON.parse(e));let s=!0,u=!0;if(e!=null&&e.ctrl&&!t.ctrlKey&&!t.metaKey&&(s=!1),e!=null&&e.shift&&(t.shiftKey||(u=!1)),t.key&&typeof t.key.toLowerCase=="function"&&e.key.toLowerCase()==t.key.toLowerCase()&&s&&u)return typeof a=="function"&&a(t),!0},async changeStorage(t,e,a=!1,l=!1){["settings.language","settings.switchbar"].forEach(p=>{if(t==p){let m=parseInt(Date.now().toString().substring(0,11))-(this.$data[`echo_${p}`]??0);if(this.$data[`echo_${p}`]=parseInt(Date.now().toString().substring(0,11)),console.log(m),m<5)return!1}});let s=!1,u={};if(u=f.treeKeybyValueBuild(t,e,this.storage.Local,"."),this.constants.debugMode&&console.log(t,e,u),t==="selected_agent"&&f.notUndefined(u,"selected_agent")&&(u.selected_agent=this.selected_agent=f.notUndefined(u,"selected_agent")),t=="settings.ai_mode"&&e=="local")u.settings.ai_model=V.ai_default_model,u.selected_agent!==null&&(u.selected_agent=null,this.selected_agent=null);else if(t=="settings.ai_mode"&&e=="api")u.settings.ai_model=V.ai_default_model,u.selected_agent,this.selected_agent=null;else if((t==="settings.ai_model"||t==="selected_agent")&&(t==="settings.ai_model"&&this.selected_agent!==null&&(u.selected_agent=null,this.selected_agent=null,e&&(u.settings=this.settings,u.settings.ai_model=e)),t=="selected_agent"&&this.selected_agent&&(u.settings=this.settings,u.settings.ai_model=this.selected_agent.base_model_id??V.ai_default_model,u.settings.web_access=!1,this.settings.ai_model=u.settings.ai_model,this.settings.web_access=u.settings.web_access,this.show_model_sidebar=!1),Object.keys(this.ai_chat).length<=1)){let p=null;t==="settings.ai_model"?p=e??this.settings.ai_model:p=f.notUndefined(this.selected_agent,"base_model_id")??this.settings.ai_model;let m={item:this.__("Hello, how can I help you today?"),role:"assistant",model:p};f.notUndefined(this.selected_agent,"_listkey")&&(m.extra_data={agent_id:this.selected_agent._listkey}),u.ai_chat=[m]}t==="selected_agent"&&(s=!0),t=="settings.sidebar_show_icon"&&e==!1&&this.sidebarToggle(!1);let c=null;if(l==!1){if(typeof f.Browser().storage>"u"||f.Browser().storage==null)return c;c=await f.Browser().storage.local.set(u).catch(p=>console.log(p)).finally(()=>{a&&this.notify.success(this.__("The transaction has been completed successfully."))})}t=="settings.switchbar"&&(f.notUndefined(u,"settings.switchbar")=="web_search"?this.storage.Local.plan!="Free"&&typeof this.storage.Local.settings.web_access<"u"&&await this.changeStorage("settings.web_access",!0):f.notUndefined(u,"settings.switchbar")=="chat"&&await this.changeStorage("settings.web_access",!1),f.scrollToBottom());try{this.storage.Local=Object.assign(this.storage.Local,u),Object.keys(u).forEach(p=>{typeof this[p]<"u"&&(this[p]=u[p]),typeof this.$data[p]<"u"&&(this.$data[p]=u[p])})}catch{console.log("NotAssign")}return s&&await this.chatByAgent(this.ai_chat),t=="settings.ai_mode"&&setTimeout(()=>{f.sendMessage("uuid",{data:1})},500),this.constants.debugMode&&console.log(t,e,u),c},defaultSettings(t=null){let e=X.settings;return typeof this.storage.Local>"u"&&(this.storage.Local={}),typeof this.storage.Local.settings>"u"||!f.notUndefined(this.storage.Local,"settings")?this.storage.Local.settings=e:Object.keys(e).forEach(a=>{f.notUndefined(this.storage.Local,"settings")||(this.storage.Local.settings={}),typeof this.storage.Local.settings[a]>"u"&&(this.storage.Local.settings[a]=e[a])}),this.settings=this.storage.Local.settings,this.settings},changeSettings(){document.querySelector("#aitopia")!=null&&(document.querySelector("#aitopia").classList.remove("left-format"),f.notUndefined(this.storage.Local.settings,"sidebar_position")=="left"&&document.querySelector("#aitopia").classList.add("left-format")),f.notUndefined(this.storage.Local.settings,"sidebar_show_icon")||document.querySelector("#aitopia #aitopia-sidebar-opener")&&document.querySelector("#aitopia-sidebar-opener").classList.add("ait-hide"),f.notUndefined(this.storage.Local,"settings")&&(this.settings=this.storage.Local.settings),f.notUndefined(this.storage.Local,"settings.color_mode")&&this.changeColorMode(this.storage.Local.settings.color_mode,!1),f.notUndefined(this.storage.Local,"settings.ai_model")&&(this.credit_model=f.notUndefined(this.storage.Local,"settings.switchbar")=="image"?"image":this.storage.Local.settings.ai_model,f.notUndefined(this.storage.Local,"settings.web_access")&&this.credit_model==V.ai_default_model&&(this.credit_model="GPT-4o")),this.fullTabMenu(null)},changeColorMode(t=null,e=!0){if(document.querySelector("#aitopia-setup")!==null||document.querySelector("#aitopia-permission")!==null){document.querySelectorAll(".aitopia").forEach(s=>{s.getAttribute("noColor")===null&&(s.classList.remove("light"),s.classList.remove("dark"),s.classList.add("light"))});return}let a=!1;typeof this.storage.Local.settings>"u"&&(this.storage.Local.settings={}),typeof this.storage.Local.settings.color_mode>"u"&&(this.storage.Local.settings.color_mode=this.settings.color_mode,a=!0),t!=null&&typeof t=="string"&&(this.storage.Local.settings.color_mode=["auto","light","dark"].indexOf(t)!==-1?t:"auto");let l=this.settings.color_mode=this.storage.Local.settings.color_mode,n=!1;return window.matchMedia&&(a==!0||this.storage.Local.settings.color_mode=="auto")&&(window.matchMedia("(prefers-color-scheme: dark)").matches?(l="dark",n=!0):(l="light",n=!0)),t!=null&&typeof t.type<"u"&&t.type!="change"&&l!="auto"&&(l=l=="dark"?"light":"dark"),l!="auto"&&(l=l=="dark"?"dark":"light"),t!=null&&e&&(this.settings.color_mode=n?"auto":l,f.Browser().storage.local.set({settings:this.settings}).catch(s=>console.log(s)),this.storage.Local.settings.color_mode=n?"auto":l),this.storage.Local.settings.color_mode=="auto"?(document.querySelectorAll(".aitopia").forEach(s=>{s.getAttribute("noColor")===null&&(s.classList.remove("light"),s.classList.remove("dark"),s.classList.add(l))}),document.querySelector("#ait-web")!=null&&document.querySelector("#ait-web").getAttribute("noColor")===null&&(document.querySelector("#ait-web").classList.remove("light"),document.querySelector("#ait-web").classList.remove("dark"),document.querySelector("#ait-web").classList.add(l))):(document.querySelectorAll(".aitopia").forEach(s=>{s.getAttribute("noColor")===null&&(s.classList.remove(l=="light"?"dark":"light"),s.classList.add(l))}),document.querySelector("#ait-web")!=null&&document.querySelector("#ait-web").getAttribute("noColor")===null&&(document.querySelector("#ait-web").classList.remove(l=="light"?"dark":"light"),document.querySelector("#ait-web").classList.add(l))),l},__(t,e="tr"){return f.__(t,e)},getLanguages(t=!1,e=null){return f.getLanguages(t,e,this).then(()=>{t==!0&&this.storage.build().then(a=>{this.storage=a,this.changeSettings()})})},syncLangVar(){return f.syncLangVar()},tabMenuUrl(){let e=new URLSearchParams(window.location.search).get("mode");document.querySelectorAll(`[aria-url="${e}"]`).forEach(a=>{let l=a.getAttribute("aria-label");if(l!=null&&(l=l.replace("ait-tab-",""),l)){let n=l.split("-");this.tab_menus[n[0]]=l,this.tabMenu(l)}})},fullTabMenu(t=null){if(t){if(typeof t.target<"u"){let a=t.target.getAttribute("aria-label");if(!a){let s=t.target.parentElement;for(;s&&!s.hasAttribute("aria-label");)s=s.parentElement;a=s.getAttribute("aria-label")}let l=!1;a==="ait-tab-0-pdf"&&(a="ait-tab-0-chat",l=!0),a=a.replace("ait-tab-","");let n=a.split("-");if(this.tab_menus[n[0]]=a,typeof n[1]<"u"&&f.notUndefined(this.settings,"switchbar")!=n[1]&&(this.settings.switchbar=n[1],this.changeStorage("settings.switchbar",n[1],!1)),t.target.getAttribute("aria-url")){let s=new URLSearchParams(window.location.search);s.set("mode",t.target.getAttribute("aria-url"));let u=window.location.href.replace(window.location.search,"");window.history.replaceState({page:document.title??""},document.title??"",`${u}?${s.toString()}`)}f.scrollToBottom(),l&&f.notUndefined(this.settings,"switchbar")!=="chat"&&f.notUndefined(this.settings,"switchbar")!=="pdf"&&setTimeout(()=>{document.querySelector("#ait-pdf-upload-modal")&&(document.querySelector("#ait-pdf-upload-modal").classList.remove("ait-hide"),document.querySelector("#ait-pdf-upload-modal").classList.add("ait-show"))},100)}}else{let a=document.querySelector(`[aria-label*='ait-tab-0-${f.notUndefined(this.settings,"switchbar")}']`);a!=null&&(a.classList.contains("active")||a.dispatchEvent(new Event("click")))}function e(a,l){document.querySelector('[id*="ait-tab-"]')&&document.querySelectorAll(`[id*="ait-tab-${l}-"]`).forEach(u=>u.classList.remove("ait-show")),document.querySelector(`#ait-tab-${a}`)&&document.querySelector(`#ait-tab-${a}`).classList.add("ait-show"),document.querySelector('[aria-label*="ait-tab-"]')&&document.querySelectorAll(`[aria-label*="ait-tab-${l}-"]`).forEach(u=>u.classList.remove("active")),document.querySelector(`[aria-label="ait-tab-${a}"]`)&&document.querySelector(`[aria-label="ait-tab-${a}"]`).classList.add("active");const n=document.getElementById("full-screen-image-settings");if(n)if(a!=="0-image")n.classList.remove("ait-show"),n.classList.add("ait-hide");else{n.classList.add("ait-show");const u=document.getElementById("ait-tab-0-image");u.classList.remove("ait-rounded-r-lg"),u.classList.add("ait-rounded-r-none")}const s=document.getElementById("full-screen-history-sidebar");s&&a!=="0-chat"&&(s.classList.remove("ait-show"),s.classList.add("ait-hide"))}Object.keys(this.tab_menus).forEach(a=>{let l=this.tab_menus[a];e(l,a)})},tabMenu(t=null){if(t){if(typeof t.target<"u"){let a=t.target.getAttribute("aria-label");if(a){if(a=a.replace("ait-tab-",""),t.target.getAttribute("aria-url")){let n=new URLSearchParams(window.location.search);n.set("mode",t.target.getAttribute("aria-url"));let s=window.location.href.replace(window.location.search,"");window.history.replaceState({page:document.title??""},document.title??"",`${s}?${n.toString()}`)}let l=a.split("-");this.tab_menus[l[0]]=a}}else if(typeof t=="string"){let a=t.split("-");return this.tab_menus[a[0]]=t,e(t,a[0])}}function e(a,l){document.querySelector('[id*="ait-tab-"]')&&document.querySelectorAll(`[id*="ait-tab-${l}-"]`).forEach(n=>n.classList.remove("ait-show")),document.querySelector(`#ait-tab-${a}`)&&document.querySelector(`#ait-tab-${a}`).classList.add("ait-show"),document.querySelector('[aria-label*="ait-tab-"]')&&document.querySelectorAll(`[aria-label*="ait-tab-${l}-"]`).forEach(n=>n.classList.remove("active")),document.querySelector(`[aria-label="ait-tab-${a}"]`)&&document.querySelector(`[aria-label="ait-tab-${a}"]`).classList.add("active")}this.tab_menus&&t!=null?Object.keys(this.tab_menus).forEach(a=>{let l=this.tab_menus[a];e(l,a)}):document.querySelectorAll('[id*="ait-tab-"]').forEach(a=>{let l=a.getAttribute("id").replace("ait-tab-",""),n=l.split("-");if(typeof this.tab_menus[n[0]]>"u"){let s=document.querySelector(`[aria-label*="ait-tab-${n[0]}"]:checked, [id*="ait-tab-${n[0]}"]:active, [id*="ait-tab-${n[0]}"].active`);if(s){if(l=s.getAttribute("aria-label"),l==null)return;l=l.replace("ait-tab-",""),n=l.split("-")}this.tab_menus[n[0]]=l,l&&this.tabMenu(l)}})},openAiSession(){},newChat(t=null,e="ai_chat",a=null){let l=f.ChatId(e,a,1);if(e=="ai_single"){if(a!=null){let n={};n[e]=this[e]||{},typeof n[e]=="object"&&typeof n[e][a]<"u"&&(delete n[e][a],Object.values(n[e]).length==0&&(n[e]={}),this[e]=n[e],typeof this.storage.Local[e]<"u"&&(this.storage.Local[e]=this[e]),console.log(n),f.Browser().storage.local.set(n).then(()=>{this.storage.build().then(s=>{this.storage=s,this.changeSettings()})}))}return l}this.ai_send=null,console.log(this.selected_agent),this.ai_chat=[{item:this.__("Hello, how can I help you today?"),role:"assistant",model:this.settings.ai_model}],this.selected_agent!==null&&f.notUndefined(this.selected_agent,"_listkey")&&(this.ai_chat[0].extra_data={agent_id:f.notUndefined(this.selected_agent,"_listkey")}),t!=null&&(t.forEach(n=>{this.ai_chat.push(n)}),this.ai_chat&&(this.ai_chat=Object.values(this.ai_chat))),this.ai_chat_text="",this.ai_ask=null,f.Browser().storage.local.set({ai_chat:this.ai_chat}).then()},dropdownUnique(){if(document.querySelectorAll("[data-ait-dropdown-toggle]")){let t=document.querySelectorAll("[data-ait-dropdown-toggle]"),e=0;for(const a of t){e++;let l=a.getAttribute("data-ait-dropdown-toggle"),n="#"+l+",."+l,s=document.querySelector(n);s!==null&&document.querySelectorAll(n).length>1&&(s.getAttribute("id")==l?(a.setAttribute("data-ait-dropdown-toggle",l+"-"+e),s.setAttribute("id",l+"-"+e)):s.classList.contains(l)&&(a.setAttribute("data-ait-dropdown-toggle",l+"-"+e),s.classList.remove(l),s.classList.add(l+"-"+e)))}}},dropdownInit(t){let e=t.target,a=e.closest("[data-ait-dropdown-toggle],.ait-modal");if(document.querySelectorAll("[data-ait-dropdown-toggle]")&&document.querySelectorAll("[data-ait-dropdown-toggle]").forEach(u=>{let c="#"+u.getAttribute("data-ait-dropdown-toggle")+".ait-show,."+u.getAttribute("data-ait-dropdown-toggle")+".ait-show";if(document.querySelector(c)!==null){let p=null;a!==null&&(p=a.closest(c)),e!=u&&e.closest("[data-ait-dropdown-toggle]")!=u&&document.querySelector(c)!=p&&document.querySelector(c).closest("[data-ait-dropdown-toggle]")!=a?document.querySelector(c)&&(document.querySelector(c).classList.add("ait-hide"),document.querySelector(c).classList.remove("ait-show")):a==null&&(document.querySelector(c).classList.add("ait-hide"),document.querySelector(c).classList.remove("ait-show"))}}),a==null||e.closest(".ait-show")!=null&&e.getAttribute("data-modal-hide")==null&&e.closest("[data-ait-dropdown-toggle]")==null&&(e=e.closest("button"),e==null||e.getAttribute("data-modal-hide")==null))return;if(typeof e.getAttribute>"u"){document.querySelectorAll("[data-ait-dropdown-toggle] ~ .ait-show").forEach(u=>{u.classList.remove("ait-show"),u.classList.remove("ait-hide"),u.classList.add("ait-hide")});return}if(e.getAttribute("data-ait-dropdown-toggle")||(e=e.closest("[data-ait-dropdown-toggle]")),e==null){document.querySelectorAll("[data-ait-dropdown-toggle]").forEach(u=>{let c="#"+u.getAttribute("data-ait-dropdown-toggle")+".ait-show",p=document.querySelector(c);p!=null&&typeof p.classList<"u"&&(p.classList.remove("ait-show"),p.classList.remove("ait-hide"),p.classList.add("ait-hide"))});return}let l="#"+e.getAttribute("data-ait-dropdown-toggle"),n="."+e.getAttribute("data-ait-dropdown-toggle"),s=document.querySelector(l);if(s==null&&(s=e.querySelector(n)),s)if(t.preventDefault(),s.classList.contains("ait-hide")||!s.classList.contains("ait-show")){if(s.classList.remove("ait-hide"),s.classList.add("ait-show"),!s.closest(".aitopia-context-popup-container")&&e.getAttribute("data-placement")){wa(e,s,{placement:e.getAttribute("data-placement"),strategy:"fixed",modifiers:[{name:"flip",options:{allowedAutoPlacements:["top","bottom"],rootBoundary:"viewport"}},{name:"preventOverflow",enabled:!1,options:{altBoundary:!0,rootBoundary:"viewport"}}]});return}if(e.getAttribute("data-ait-dropdown-static")===null){const u=s.clientWidth,c=window.innerWidth,p=e.getBoundingClientRect().left+u;c-p<u?(s.style.right="0",s.style.left="auto"):(s.style.right="auto",s.style.left="0"),s.style.position="absolute";const m=s.clientHeight,h=window.innerHeight,v=e.getBoundingClientRect().top;h-v<m?(s.style.bottom="100%",s.style.top="auto"):(s.style.bottom="auto",s.style.top="100%")}}else s.classList.remove("ait-show"),s.classList.add("ait-hide")},storageExpires(){this.storage.Local.expires!=null&&Object.keys(this.storage.Local.expires).forEach(t=>{let e=Number.parseInt(Date.now().toString().substring(0,10));if(typeof t!=null){let a=Number.parseInt(this.storage.Local.expires[t]);a<e&&(console.log(t,e,a,a-e,a<e),f.Browser().storage.local.remove(t).then(async l=>{if(typeof this.storage.Local.expires[t]<"u"&&delete this.storage.Local.expires[t],await f.Browser().storage.local.set({expires:this.storage.Local.expires}),t.indexOf("ai_single")===-1)return await f.settingsBuild(!0).then(()=>this.getPrompts().then(async n=>(await f.getAiTypeModels(!0),await f.getModelSettings(!0),this.chatByAgent(this.ai_chat),await this.getPromptSettings(n))))}))}})},contactUs(t=null,e=null,a=null,l=null,n=null){if((e=="null"||e==null)&&(e=""),(a=="null"||a==null)&&(a=""),(l=="null"||l==null)&&(l=""),(t=="null"||t==null)&&(t=""),[".ait-contact-title",".ait-ait-contact-description-title",".ait-contact-email"].forEach(u=>{document.querySelector(u)!=null&&(document.querySelector(u).style.borderColor="")}),e.length>5&&a.length>5&&l.length>5)return n!=null&&n.target.setAttribute("disabled","disabled"),f.apiCall("/extensions/app/contact_us",{title:t+":"+e,message:e+`

`+a+`

version:`+this.constants.version,email:l,data:this.storage.Local},"POST").then(()=>{this.notify.success(this.__("Your message is sent. We will get back to you as soon as possible.")),n!=null&&n.target.removeAttribute("disabled")});{let u="";return e.length<6&&document.querySelector(".ait-contact-title")!=null&&(document.querySelector(".ait-contact-title").setAttribute("style","border-color:red!important;"),u="title"),a.length<6&&document.querySelector(".ait-contact-description")!=null&&(document.querySelector(".ait-contact-description").setAttribute("style","border-color:red!important;"),u="details"),l.length<6&&document.querySelector(".ait-contact-email")!=null&&(document.querySelector(".ait-contact-email").setAttribute("style","border-color:red!important;"),u="email"),this.notify.error(this.__("Please enter "+u)),!1}},async getPrompts(t=null){let e={},a={};X.ai_prompts==null&&(X.ai_prompts={});var l=async(n,s=!1)=>{let u={},c={};this.ai_contextPrompts={},Object.keys(n).forEach((m,h)=>{let v=n[m],g=n[m].mode;if(typeof u[g]>"u"&&(u[g]=n[m]),v.settings!=null&&typeof v.settings=="object"&&Object.keys(v.settings)[0]!="0"){let w=[];Object.keys(v.settings).forEach(C=>{let S={};S[C]=v.settings[C],w.push([S])}),n[m].settings=w}g!==null&&(g.indexOf("writing")!==-1||g.indexOf("reading")!==-1)&&(c[m]=this.ai_contextPrompts[m]=n[m])});let p={expires:f.notUndefined(this.storage.Local,"expires"),ai_prompts:JSON.stringify(n)};return Object.keys(c).length>0&&(p.ai_contextPrompts=c),Object.keys(u).length>0&&Object.keys(u).forEach(m=>{f.notUndefined(this.storage.Local,`selected_${m}`)||(this[`selected_${m}`]=p[`selected_${m}`]=u[m])}),s&&Object.keys(p)&&Object.keys(p).forEach(m=>{this[m]=p[m],this.$data[m]=p[m],this.storage.Local[m]=p[m]}),await f.Browser().storage.local.set(p).then(),X.ai_prompts=n,p};return await f.Browser().storage.local.get("ai_prompts").then(async n=>{if(typeof n.ai_prompts<"u"){try{e=JSON.parse(n.ai_prompts)}catch{e=n.ai_prompts}return await l(e)}if(Object.keys(e).length==0)return await f.apiCall("/ai/prompts",null,"POST").then(async s=>{if(!(typeof s>"u")&&s!=null&&!(typeof s.expire>"u"))return typeof s.expire<"u"&&(this.storage.Local.expires==null&&(this.storage.Local.expires={}),s.expire!=null&&(this.storage.Local.expires.ai_prompts=s.expire)),typeof s.prompts<"u"&&(a=s.prompts,e=f.minifierExpand(a,s.schema)),await l(e,!0)})})},async getPromptSettings(t={}){return await new Promise(async(e,a)=>{t=f.JsonParse(t),typeof t.ai_prompts<"u"&&(t=t.ai_prompts),Object.keys(t).length==0&&(t=X.ai_prompts),typeof this.prompt_settings!="object"&&(this.prompt_settings={}),Object.keys(t).forEach(l=>{let n=t[l];f.notUndefined(n,"settings")&&f.notUndefined(n,"settings").forEach((u,c)=>{u.forEach(p=>{Object.keys(p).forEach(m=>{this.prompt_settings[`${m}-_-${n.id}_${c}`]=f.vueDefaultChecker(this,`prompt_settings.${m}-_-${n.id}_${c}`,p[m],p[m],this.prompt_settings[`${m}-_-${n.id}_${c}`],!1)})})})}),this.prompt_settings!=null&&await this.changeStorage("prompt_settings",this.prompt_settings,!1),e(this.prompt_settings)})},clearText(){document.querySelectorAll(".ait-ai-text-item")&&document.querySelectorAll(".ait-ai-text-item").forEach(t=>{if(t){if(t._clearTextInitialized)return;t._clearTextInitialized=!0;const e=s=>{const u=s.closest("div,span");if(u&&(u.querySelectorAll(".clear_selection").forEach(c=>c.remove()),s.value&&s.value.length>0)){const c=document.createElement("button");c.classList.add("clear_selection"),c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" title="'+Qt.__("clear")+'" height="14px" viewBox="0 0 384 512"><path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/></svg>',c.onmousedown=p=>{var h;p.preventDefault(),p.stopPropagation(),(h=window.getSelection())==null||h.removeAllRanges();const m=u.querySelector(".ait-ai-text-item");m&&(m.value="",m.dispatchEvent(new Event("input",{bubbles:!0})),m.dispatchEvent(new Event("change",{bubbles:!0})),m.focus())},t.insertAdjacentElement("afterend",c)}},l=t.tagName.toLowerCase()==="textarea"?HTMLTextAreaElement.prototype:HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(l,"value");n&&Object.defineProperty(t,"value",{get(){var s;return(s=n.get)==null?void 0:s.call(this)},set(s){var u;(u=n.set)==null||u.call(this,s),e(this)},configurable:!0}),t.addEventListener("input",s=>{e(s.target)}),e(t)}})},redirectUrl(t){window.location.href=t},async downloadUrl(t,e){try{const l=await(await fetch(t)).blob(),n=document.createElement("a");n.href=URL.createObjectURL(l),n.download=e,n.click()}catch(a){console.log(a)}},onEditToolsClick(){this.showEditToolUploadModal&&(this.showEditToolUploadModal=!1),localStorage.setItem("reference_edit_tool_image",null),localStorage.setItem("is_edit_modal_redirected_from_painter","1"),this.showEditToolsModal=!0},toggleHistory(){this.showHistorySideBar=!this.showHistorySideBar},tooltip(){if(!document)return;let t="ait-bg-[#0d0d0dd9] ait-max-w-72 ait-absolute ait-text-white ait-px-2 ait-py-1 ait-rounded ait-text-xs ait-shadow-md",e="bottom: 100%; left: 50%; transform: translateY(-100%) translateX(-50%);";document.querySelectorAll("[data-aittooltip]").forEach(a=>{a.onmouseenter=l=>{let n="";if(a.getAttribute("data-aittooltip-class")&&(n=a.getAttribute("data-aittooltip-class")),l.target.querySelector(".ait-tooltip-result")==null){let s=document.createElement("div");s.setAttribute("class","ait-tooltip-result ait-relative");let u=document.createElement("div");u.setAttribute("class",t+" "+n),u.setAttribute("style",e),u.innerText=l.target.getAttribute("data-aittooltip"),s.append(u),l.target.append(s)}},a.onmouseleave=l=>{l.target.querySelector(".ait-tooltip-result")!=null&&l.target.querySelector(".ait-tooltip-result").remove()}})},redirectToUrl(t){window.open(t,"_blank")},showContextWrapperAtPosition(t,e,a,l,n){this.contextTextAreaTarget=t,this.contextWrapperPosition.top=e,this.contextWrapperPosition.left=a,this.contextWrapperSize.width=l,this.contextWrapperSize.height=n,this.showContextWrapper=!0},hideContextWrapper(){this.contextTextAreaTarget=null,this.showContextWrapper=!1,this.showContextMenu=!1},showAiContextPopup(){this.showContextMenu=!this.showContextMenu,this.contextWrapperPosition.top=window.innerHeight/2-100,this.contextWrapperPosition.left=window.innerWidth/2-400},hideAiContextPopup(){this.showContextMenu=!1},showAiWriterPopup(t,e,a){this.aiWriterSelectedTarget=t,this.aiWriterPopupPosition.top=e,this.aiWriterPopupPosition.left=a,this.aiWriterShowPopup=!0},updateAiWriterPopupPosition(t,e){this.aiWriterPopupPosition.top=t,this.aiWriterPopupPosition.left=e},hideAiWriterPopup(){this.aiWriterSelectedTarget=null,this.aiWriterShowPopup=!1},showAiReaderPopup(t,e,a){var l,n,s;return a!==null&&((l=this.settings)==null?void 0:l.context_reading)==!0&&a.length>0?(this.aiReaderPopupPosition.top==0&&this.aiReaderPopupPosition.left==0&&(this.aiReaderPopupPosition.top=(((n=document.scrollingElement)==null?void 0:n.scrollTop)??0)+this.mouse_position.y,this.aiReaderPopupPosition.left=(((s=document.scrollingElement)==null?void 0:s.scrollLeft)??0)+this.mouse_position.x),this.aiReaderSelectedText=a,this.aiReaderShowPopup=!0,this.aiReaderSelectedText):(this.hideAiReaderPopup(),this.aiReaderSelectedText)},hideAiReaderPopup(){this.aiReaderPopupPosition.left=this.aiReaderPopupPosition.top=0,this.aiReaderShowPopup=!1},hideAllPopups(){this.hideAiWriterPopup(),this.hideAiReaderPopup()},getAiContextPrompts(){f.Browser().storage.local.get("ai_pinnedContextPrompts").then(e=>{e.ai_pinnedContextPrompts?this.ai_pinnedContextPrompts={reading:Object.values(e.ai_pinnedContextPrompts.reading).map(Number),writing:Object.values(e.ai_pinnedContextPrompts.writing).map(Number)}:t()});var t=()=>{this.ai_pinnedContextPrompts=V.pinnedContextPrompts,f.Browser().storage.local.set({ai_pinnedContextPrompts:this.ai_pinnedContextPrompts}).then()}},togglePromptToPinnedPrompts(t,e){e==="reading"?this.ai_pinnedContextPrompts.reading.includes(t)?this.ai_pinnedContextPrompts.reading=this.ai_pinnedContextPrompts.reading.filter(a=>a!==t):this.ai_pinnedContextPrompts.reading.push(t):e==="writing"&&(this.ai_pinnedContextPrompts.writing.includes(t)?this.ai_pinnedContextPrompts.writing=this.ai_pinnedContextPrompts.writing.filter(a=>a!==t):this.ai_pinnedContextPrompts.writing.push(t)),f.Browser().storage.local.set({ai_pinnedContextPrompts:this.ai_pinnedContextPrompts}).then()},async SettingsCatchbyCallApi(){let t=!1;if((typeof this.storage.Local.languages>"u"||Object.keys(this.storage.Local.languages??{}).length==0)&&(t=!0),(typeof this.storage.Local.language_variables>"u"||Object.keys(this.storage.Local.language_variables??{}).length==0)&&(t=!0),(typeof this.storage.Local.ai_models>"u"||typeof this.storage.Local.ai_type_models>"u"||Object.keys(this.storage.Local.ai_models??{}).length==0||Object.keys(this.storage.Local.ai_type_models??{}).length==0)&&(t=!0),(typeof this.storage.Local.prompt_settings>"u"||Object.keys(this.storage.Local.prompt_settings??{}).length==0)&&(t=!0),(typeof this.storage.Local.model_settings>"u"||Object.keys(this.storage.Local.model_settings??{}).length==0)&&(t=!0),t==!0)return await f.settingsBuild(!0).then(async()=>await this.getPrompts().then(async e=>(await this.chatByAgent(this.ai_chat),await f.getAiTypeModels(),await f.getVoices(),await this.getPromptSettings(e))))},ModelBySvg(t=null){if(t==null&&Object.keys(Wt).length>0)return"logo";let e=!1;return Object.keys(Wt).forEach(a=>{t===a&&(t=a,e=!0),e==!1&&typeof t.indexOf<"u"&&(t.indexOf(a)!==-1||t.toLowerCase().indexOf(a.toLowerCase())!==-1)&&(t=a,e=!0)}),e==!1&&(t="logo"),t},draggableModalGetStatus(t){if(this.draggable_modal_history)return f.notUndefined(this.draggable_modal_history,`${t}.status`)},draggableModalToggle(t,e=null){this.draggable_modal_history&&this.draggable_modal_history[t]&&(this.draggable_modal_history[t].zindex=2147483647,this.draggable_modal_history[t].status=e??!this.draggable_modal_history[t].status,typeof this.checkScreenCalbration=="function"&&this.checkScreenCalbration(t),this.draggable_modal_history[t].match_ids&&this.draggable_modal_history[t].status==!1&&Object.values(this.draggable_modal_history[t].match_ids).forEach(a=>{f.notUndefined(this.draggable_modal_history,`${a}.status`)==!0&&this.draggableModalToggle(a,!1)}))},getAiSingleResponse(t){return t.indexOf("ai_single_")===-1&&(t=`ai_single_${t}`),this&&typeof this[t]<"u"&&typeof this[t]=="object"&&this[t]!==null&&Object.keys(this[t]).length>0?this[t]:null},popperPanelCalibration(t=0){if(document.querySelector(".ait-panel-calc")==null||typeof window>"u")return;let e=document.querySelector(".ait-panel-calc").getBoundingClientRect(),a=Math.max(-1,Math.min(e.top,window.innerHeight-(e.top+e.height+10)));if(a<=0&&(a=-(e.height+10),document.querySelector(".ait-panel-calc").style.top=a+"px",e=document.querySelector(".ait-panel-calc").getBoundingClientRect(),a=Math.max(-1,Math.min(e.top,window.innerHeight-(e.top+e.height+10))),a<0)){let l=document.querySelector("html,body");l!==null&&(l.style.overflow="auto"),document.querySelector(".ait-panel-calc").style.top=t+"px"}},async disabledForThisSite(t=null,e=null,a=null){if((this.context_black_lists==null||typeof this.context_black_lists>"u")&&(this.context_black_lists=[]),a=a??window.location.hostname,e==null)return this.context_black_lists.indexOf(a)!==-1&&(this.settings.context_writing_input=!1,this.settings.context_writing=!1,this.settings.context_reading=!1),this.context_black_lists.indexOf(a)===-1;this.context_black_lists.indexOf(a)===-1&&e==!1&&this.context_black_lists.push(a),this.context_black_lists.indexOf(a)!==-1&&e==!0&&delete this.context_black_lists[this.context_black_lists.indexOf(a)],await this.changeStorage("context_black_lists",Object.values(this.context_black_lists),!0)},getSinleChat(t=null,e=!1){if(typeof this.ai_single<"u"&&typeof this.ai_single[t]<"u")if(e){let a=Object.keys(this.ai_single[t]),l=a[a.length-1]??"";return f.notUndefined(this.ai_single,`${t}.${l}.item`)}else return this.ai_single[t]},dragOpenerPosition(){if(document.querySelector("#aitopia-sidebar-opener")!==null){const t=n=>{document.querySelector("#aitopia-container").style.display="none";let s=document.querySelector(".aitopia #aitopia-sidebar-opener"),u=window.innerHeight-(this.mouse_position.y+20);u>0&&(s.style.bottom=u+"px");let c=window.innerWidth-(this.mouse_position.x+30);this.settings.sidebar_position=="left"?s.style.left=this.mouse_position.x-30+"px":s.style.right=c+"px",n.stopPropagation(),n.preventDefault()};let e=null;const a=n=>{let s=n.target.closest("#aitopia-sidebar-opener");s!==null&&(e&&window.clearTimeout(e),e=setTimeout(()=>{this.ai_move_logo=!0,s.classList.contains("ai_move_logo")||s.classList.add("ai_move_logo"),window.addEventListener("mousemove",t),window.addEventListener("mouseup",l),n.stopPropagation(),n.preventDefault()},400))},l=n=>{document.querySelector(".ai_move_logo")!==null&&document.querySelector(".ai_move_logo").classList.remove("ai_move_logo"),setTimeout(()=>{this.ai_move_logo=!1},1e3);let s=document.querySelector(".aitopia #aitopia-sidebar-opener"),u=window.innerHeight-(this.mouse_position.y+20);s.style.bottom=u+"px",u>0&&this.changeStorage("settings.sidebar_bottom_position",u+"px",!1);let c=window.innerWidth-(this.mouse_position.x+30);s.style.right=c+"px",window.innerWidth/2<this.mouse_position.x+30?this.changeStorage("settings.sidebar_position","right",!1):this.changeStorage("settings.sidebar_position","left",!1),window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",l),n.stopPropagation(),n.preventDefault(),setTimeout(()=>{document.querySelector("#aitopia-container").style.display=null},800)};window.addEventListener("mousedown",a),window.addEventListener("mouseup",n=>{n.target.closest("#aitopia-sidebar-opener")!==null&&e!=null&&window.clearTimeout(e)})}},async aiChat(t="",e=null,a="ai_chat",l="__all",n=!1,s=!1,u=null,c=!1,p={},m=null,h=null){if(this.GroupChat.check){let v=null;u==null&&(u=t);let g=this.GroupChat.chatBuilder(this,t),w=g.models;t=g.text;let C=0;return await w.forEach((S,A)=>{v=pt.chat(t,S,a,l,n,s,u,c,p,!0,C,m||void 0,h||void 0),C++}),v}else return await pt.chat(t,e,a,l,n,s,u,c,p,!1,0,m||void 0,h||void 0)},setAppDetailProperty(){if(!(this.constants.manuel_extension_id===this.constants.extension_id||this.constants.extension_id==null)&&document){let t=document.createElement("style"),e=[" .hover\\:ait-bg-\\[var\\(--ait-link-color\\)\\]:hover",".opener-logo:hover svg circle, .opener-logo:hover",".tab-menu .active",".ait-bg-\\[var\\(--ait-tab-menu-active-bg-color\\)\\]",".ait-bg-\\[var\\(--ait-link-color\\)\\]",".ait-bg-\\[var\\(--ait-link-color\\)\\]:hover",".hover\\:ait-bg-\\[var\\(--ait-tab-menu-active-bg-color\\)\\]:hover *","#ait-sidebar-opener:hover .ai-opener-close",".dark\\:hover\\:ait-text-white:hover"],a={".ait-peer:checked~.peer-checked\\:after\\:ait-border-white:after":"background-color"},l="",n="",s="";this.app_details.app_main_color!==null&&(t.innerHTML+=`html, :root, .aitopia.light, :host([class=light]) {--ait-main-color: ${this.app_details.app_main_color};}`),this.app_details.app_main_color!==null&&this.app_details.app_main_color.replace(/ /g,"")=="0,0,0"&&(e.forEach(u=>{n.length>0&&(n+=","),u=u.replace(/\,/g,",.aitopia.light "),n+=`.aitopia.light ${u},.aitopia.light ${u} *`,l.length>0&&(l+=","),l+=`.aitopia.light ${u} svg path,.aitopia.light ${u} svg circle`}),Object.keys(a).forEach(u=>{let c=a[u];u=u.replace(/\,/g,",.aitopia.light "),s+=`.aitopia.light ${u}{${c}:#fff!important;}`}),t.innerHTML+=`${n} {color: #fff !important;}`,t.innerHTML+=`${l} {fill: #fff !important;}`,t.innerHTML+=".aitopia.light .light\\:ait-text-neutral-300.hover\\:ait-bg-\\[var\\(--ait-tab-menu-active-bg-color\\)\\]:hover,.aitopia.dark .ait-bg-neutral-900 .ait-text-white {color: #fff !important;}",t.innerHTML+=".aitopia.light .ait-bg-\\[var\\(--ait-link-color\\)\\] .ait-bg-neutral-200 {background: #000 !important;}",t.innerHTML+=`${s}`),this.app_details.app_main_color_dark!==null&&(t.innerHTML+=`.aitopia.dark, :host([class=dark]) {--ait-main-color: ${this.app_details.app_main_color_dark};}`),this.app_details.app_main_color!==null&&this.app_details.app_main_color_dark.replace(/ /g,"")=="255,255,255"&&(l="",n="",e.forEach(u=>{n.length>0&&(n+=","),u=u.replace(/\,/g,",.aitopia.dark "),n+=`.aitopia.dark ${u},.aitopia.dark ${u} *`,l.length>0&&(l+=","),l+=`.aitopia.dark ${u} svg path,.aitopia.dark ${u} svg circle`}),Object.keys(a).forEach(u=>{let c=a[u];u=u.replace(/\,/g,",.aitopia.dark "),s+=`.aitopia.dark ${u}{${c}:#000!important;}`}),t.innerHTML+=`${n} {color: #000 !important;}`,t.innerHTML+=`${l} {fill: #000 !important;}`,t.innerHTML+=".aitopia.dark .dark\\:ait-text-neutral-300.hover\\:ait-bg-\\[var\\(--ait-tab-menu-active-bg-color\\)\\]:hover {color: #000 !important;}",t.innerHTML+=".aitopia.dark .ait-from-\\[\\#28282b\\] * {color: #fff !important;}",t.innerHTML+=".aitopia.dark .ait-bg-\\[var\\(--ait-link-color\\)\\] .dark\\:ait-bg-neutral-950 {background: #fff !important;}",t.innerHTML+='#aitopia svg[class*="close"] {background: unset !important;}',t.innerHTML+=".ait-bg-[var(--ait-tab-menu-active-bg-color)].ait-text-white {color: #fff !important;}",t.innerHTML+=`${s}`),(this.app_details.app_main_color_dark!==null||this.app_details.app_main_color!==null)&&document.body.append(t)}},triggerAction(t){Rt.emit("trigger_action",t)},navigateTo(t,e={}){const a=Object.entries(e).map(([l,n])=>`${l}=${n}`).join("&");(f.notUndefined(window,"location.href")??"").indexOf(`${this.constants.extension_main_dir}`)!==-1?window.location.href=`${this.constants.extension_main_dir}/${t}.html${a?`?${a}`:""}`:f.sendMessage("openPage",{url:`${this.constants.extension_main_dir}/${t}.html${a?`?${a}`:""}`})},clickOPN(t){let e=t.target;if(e.closest(".ait-opn-btn")||e.classList.contains("ait-opn")){let a=e.closest(".ait-opn");a.getAttribute("data-state")=="active"?(a.removeAttribute("data-state"),a.querySelector(".ait-opn-icon").classList.remove("ait-rotate-90"),a.querySelector(".ait-opn-container").classList.remove("ait-show")):(a.setAttribute("data-state","active"),a.querySelector(".ait-opn-icon").classList.add("ait-rotate-90"),a.querySelector(".ait-opn-container").classList.add("ait-show"))}},async chatByAgent(t=null){let e=this;t&&(e.ai_chat=t);let a=Number.parseInt(Date.now().toString().substring(0,10))+600,l=!1;e.ai_chat&&(await Object.keys(e.ai_chat).forEach(async n=>{let s=e.ai_chat[n];f.notUndefined(s,"extra_data.agent_id")&&(f.notUndefined(e.chat_agents,`${f.notUndefined(s,"extra_data.agent_id")}._listkey`)||(l=!0,await yt.get(f.notUndefined(s,"extra_data.agent_id")).then(u=>(e.chat_agents==null&&(e.chat_agents={}),e.chat_agents[u._listkey]=u,this.changeStorage("chat_agents",e.chat_agents),e.chat_agents[u._listkey]))))}),l&&f.Browser().storage.local.get("expires").then(n=>{let s=f.notUndefined(n,"expires")??null;s&&(s.chat_agents=a,f.Browser().storage.local.set({expires:s}))}))},getModelDetails(t){if(typeof t=="object"&&(t=f.notUndefined(t,"model_id")),!t)return{};if(this.ai_models)return f.notUndefined(this.ai_models,t)??t},speechToText(t="auto"){let e=this,a="";if(typeof window<"u"&&(a=f.notUndefined(window,"location.href")),t=="auto_start"&&(this.changeStorage("speech_record",0,!1),this.speech_record=0,a.indexOf("chrome-extension:")===-1))return!1;if(t=="stop"||t=="cancel"){this.changeStorage("speech_record",0,!1),this.speech_record=0,this.Speech.stop();return}if(this.constants.extension_id!=null&&this.constants.is_web_app==!1&&a.indexOf("chrome-extension:")===-1){this.sidebarToggle(!1),this.changeStorage("speech_record",1,!1),this.changeStorage("ai_ask",this.ai_ask,!1),f.sendMessage("action.onSpeech");return}t=="send"&&this.speech_record==1?(e.Speech.record.on("record-end",l=>(e.Speech.blob=new Blob([l],{type:"audio/wav"}),e.ai_ask==null&&(e.ai_ask=""),e.speech_record=2,this.changeStorage("speech_record",2,!1),e.Speech.send().then(n=>{console.log(n),e.ai_ask+=n??null,e.settings.speech_send=="always"&&(e.aiChat(e.ai_ask,e.settings.ai_model),this.changeStorage("ai_ask",this.ai_ask,!1),this.changeStorage("speech_record",0,!1),e.speech_record=0)}),this.blob)),this.Speech.stop()):this.speech_record==1||t=="stop"||t=="cancel"?(this.speech_record=0,this.changeStorage("speech_record",0,!1),this.Speech.stop()):(this.speech_record=1,this.changeStorage("speech_record",1,!1),this.Speech.build(),this.Speech.start().then(l=>{f.notUndefined(l,"message")&&(this.speech_record=0,this.changeStorage("speech_record",0,!1),f.sendMessage("openPage",{url:`${this.constants.extension_main_dir}/microphone_permission.html`}))}))},async TTS(t,e=null){return this.voice_loading=!0,f.apiCall("/ai/tts",{text:t,model:f.notUndefined(this.settings,"voice_id")},"POST").then(a=>{if(f.notUndefined(a,"type")=="limit")return f.notify.error(f.__(f.notUndefined(a,"message"))),setTimeout(()=>{this.clickOpenPage(this.constants.extension_pricing)},2e3),!1;typeof a=="string"&&a.length>0&&(console.log(a),this.voice_url=null,this.voice_url=a)}).finally(()=>(this.voice_loading=!1,f.uuid(1)))},checkCampaignModal(){let t=!1;return f.notUndefined(this.licences,"cycle")=="year"||(this.constants.manuel_extension_id===this.constants.extension_id||this.constants.extension_id==null?t=!0:t=this.app_details.app_campaign_page,!t)||this.campaign_modal_limit>3?!1:new Date().getTime()<=this.campaign_modal_limit_date?(this.changeStorage("campaign_modal_limit",1),!1):(this.campaign_modal_show==!1&&this.campaign_modal_api==!0&&Object.keys(this.campaign_modal_domains).forEach(e=>{window.location.href.indexOf(e)!==-1&&setTimeout(()=>{this.campaign_modal_show=!0,this.campaign_modal_mode=this.campaign_modal_domains[e],this.changeStorage("campaign_modal_limit",(this.campaign_modal_limit??1)+1)},1500)}),this.campaign_modal_show)},startPayCampaign(){window.location.href.indexOf("chatgpt")!==-1&&f.Browser().storage.local.set({price_page_ref:window.location.href})}},Tt={chunkSize:524288,process_ids:[],processFile(t,e=0,a=[],l=n=>{}){document.querySelectorAll(t).forEach(n=>{(Object.values(n.files||{})||[]).forEach(u=>{let c=u;this.upload(c,e,a,l)}),n.value=null})},upload(t,e=0,a=[],l=s=>{},n=null){if(e>0&&t.size>=e)return X.notify.error(f.__("More than the maximum file size, please upload less than")+" "+f.getReadableFileSizeString(e)),!1;if(a.length>0&&a.indexOf(t.type)===-1)return V.debugMode&&console.log(t.type,a),X.notify.error(f.__("Your file type is incorrect. Please install these file types.")+" "+a.join(", ")),!1;let s=f.SHA1(t.name+t.size).toString(),u={name:t.name,size:t.size,type:t.type,progress:0,url:null,key:s,extension:t.name.split(".")[t.name.split(".").length-1],start_time_:new Date().getTime(),chnkPckg:0,chunkSize:Tt.chunkSize,data:"",totalPackage:Math.floor(t.size/Tt.chunkSize),style:"",file:t,path_detail:n};return X.files[s]=u,f.Browser().storage.local.set({files:X.files}).then(),Tt.uploadFile(u,l),!0},fileList(){return f.Browser().storage.local.get(["files","expires"]).then(t=>typeof t.files<"u"?new Promise((e,a)=>e(t.files)):f.apiCall(`${V.cdn_url}/cdn/manager`,{file_list:!0},"POST",12e4).then(e=>{let a=e;if(typeof a.files<"u")return f.Browser().storage.local.set({files:a.files})}))},uploadFile(t,e=a=>{}){let a={name:t.name,size:t.size,type:t.type,progress:t.progress,url:t.url,key:t.key,extension:t.extension,start_time_:t.start_time_},l=new FileReader;t.chunkStart=t.chnkPckg*Tt.chunkSize,t.chunkEnd=(t.chnkPckg+1)*Tt.chunkSize;let n=null;t.totalPackage==t.chnkPckg?n=t.file.slice(t.chunkStart):n=t.file.slice(t.chunkStart,t.chunkEnd),l.readAsDataURL(n),l.onload=function(s){let u=s.target;return t.data=u.result,t.sendSize=u.total,t.lastSize=t.lastSize-u.total,a.start_time_=t._start_time_=new Date().getTime()-t.start_time_,f.apiCall(`${V.cdn_url}/cdn/upload`,t,"POST",12e4).then(c=>{let p=c;if(t.chnkPckg++,t.totalPackage>=t.chnkPckg)return a.progress=t.progress=100/t.totalPackage*t.chnkPckg,X.files[t.key]=a,f.Browser().storage.local.set({files:X.files}).then(),Tt.uploadFile(t,e);a.progress=t.progress=100,a.url=p.url,X.files[t.key]=a,f.Browser().storage.local.set({files:X.files}).then(m=>{if(typeof e=="function")try{return V.debugMode&&console.log(t),e(t)}catch(h){V.debugMode&&console.log(h,"Error")}}),t.chnkPckg++}).catch(c=>{X.notify.error(f.__("We encountered a problem, please try again.")),delete X.files[t.key],f.Browser().storage.local.set({files:X.files}).then()})}},uploadBlob(t,e,a=n=>{},l={}){let n=f.SHA1(e+t.size).toString(),s={name:e,size:t.size,type:t.type,progress:0,url:null,key:n,extension:e.split(".")[e.split(".").length-1],start_time_:new Date().getTime(),chnkPckg:0,chunkSize:Tt.chunkSize,data:"",totalPackage:Math.floor(t.size/Tt.chunkSize),style:"",file:t,path_detail:l};return X.files[n]=s,f.Browser().storage.local.set({files:X.files}).then(),Tt.uploadFile(s,a),!0}},vo={async search(t=null,e=1){let a=await f.apiCall("/files/search",{page:e,search:t},"POST",6e4,"json",0);return{data:a.data,pages:a._pages,recordsFiltered:a.recordsFiltered,recordsTotal:a.recordsTotal}},async get(t){return await f.apiCall(`/files/get/id/${t}`)},async set(t,e=null,a=null){return t===null?f.notify.error(f.__("Please check your file.")):(e===null&&(e=t.name),await f.apiCall("/files/create",{file:t,title:e,description:a},"POST",6e4,"file").then(l=>(f.notify.success(f.__("Added File")),l)))},async update(t,e,a=null,l=null){return a===null&&(a=e.name),await f.apiCall(`/files/update/id/${t}`,{file:e,title:a,description:l},"POST",6e4,"file").then(n=>{f.notify.success(f.__("Updated File"))})},async delete(t){return await f.apiCall(`/files/delete/id/${t}`).then(e=>{f.notify.warning(f.__("Deleted File"))})}},bo={Agents:{async search(t=null,e=[],a=1,l,n){let s=await f.apiCall("/markets/agents",{page:a,search:t,sort:l,desc:n,columns:e},"POST",6e4,"json",0);return{data:s.data,pages:s._pages,recordsFiltered:s.recordsFiltered,recordsTotal:s.recordsTotal}},async get(t){return await f.apiCall(`/markets/agents/get/id/${t}`)},async subscription(t,e=1){return await f.apiCall(`/markets/agents/subscription/id/${t}`,{set:e},"POST").then(a=>(e==1?f.notify.success(f.__("Subscription Agent")):f.notify.warning(f.__("Unsubscription Agent")),a))}}};let oi=!1,ni=!1,li=!1;const O=rt({computed:{Skills(){return ce},Files(){return vo},Agent(){return yt},Categories(){return Ae},Markets(){return bo}},props:["type"],setup(t){typeof t.type<"u"&&t.type!==null&&t.type=="FullScreen"&&(V.is_web_app=!0),V.debugMode&&console.log(t)},data(){return X.Uploader=Tt,X},async beforeCreate(){},beforeMount(){(oi??!1)||(oi=!0,this.init(),this.AiApi.instance=this)},created(){ni||(ni=!0,window&&window.location.hostname==V.extension_id&&(this.this_page=window.location.pathname.replace("/src/html/","").replace(".html","")),this.AiApi.instance=this,this.$watch(()=>this.ai_chat,(t,e)=>{this.$nextTick(()=>{setTimeout(()=>{f.scrollToBottom(V.scroll_tolerance,"#ai-message-container",null)},100)})},{immediate:!0,deep:!0}),this.$watch(()=>this.context_data,t=>{t&&Object.keys(t).length>0&&this.changeStorage("context_data",t,!1)},{deep:!0,immediate:!0}),this.$watch(()=>this.ai_single,(t,e)=>{setTimeout(()=>{f.scrollToBottom(V.scroll_tolerance,"#aitopia-prompt-response,#ait-prompt-container,#ai-message-container",null)},100)}),this.settings=this.storage.Local.settings,this.$watch(()=>this.constants,Qt.emptyMethod),this.show_sidebar=this.storage.Local.show_sidebar??!1)},mounted(){var t,e;(this.context_data??null)!==null&&this.changeStorage("context_data",null,!1),(this.extra_data??null)!==null&&this.changeStorage("extra_data",null,!1),!li&&(li=!0,this.finish(),this.constants.disallow_pages.indexOf(window.location.hostname)!=-1&&((t=document.querySelector("#aitopia #aitopia-container"))==null||t.classList.remove("show-sidebar"),(e=document.querySelector("#aitopia #aitopia-container"))==null||e.classList.add("close-sidebar")))},methods:Qt}),R=(t,e)=>{const a=t.__vccOpts||t;for(const[l,n]of e)a[l]=n;return a},wo={id:"aitopia-sidebar"},yo={id:"ai-sidebar",class:"ait-flex ait-w-full ait-h-full ait-overflow-hidden"},xo={key:0,class:"ait-flex ait-flex-col ait-w-[calc(100%_-_60px)]",id:"ait-sidebar-chat"},ko={key:1,class:"ait-flex ait-flex-col ait-w-[calc(100%_-_60px)]",id:"ait-sidebar-ask"},Co={key:2,class:"ait-flex ait-flex-col ait-w-[calc(100%_-_60px)]",id:"ait-sidebar-write"},$o={key:3,class:"ait-flex ait-flex-col ait-w-[calc(100%_-_60px)]",id:"ait-sidebar-painter"},Lo={key:4,class:"ait-flex ait-flex-col ait-w-[calc(100%_-_60px)]",id:"ait-sidebar-web_search"},So={key:5,class:"ait-flex ait-flex-col ait-w-[calc(100%_-_60px)]",id:"ait-sidebar-agent"},Mo={class:"sidebar-container"},To={key:1,style:{display:"none"}};function Ho(t,e,a,l,n,s){const u=y("EditToolsModal"),c=y("EditToolsUploadModal"),p=y("navigation"),m=y("InnerContentView"),h=y("prompts"),v=y("make-a-review"),g=y("write"),w=y("painter"),C=y("FullScreenBotsSection"),S=y("HistorySideBar"),A=y("switchbar"),x=y("MakeAReviewModal"),I=y("InviteFriends"),Y=y("AppLogo"),ot=y("font-awesome-icon"),K=y("HoverPopover"),ct=y("SearchResponse"),H=y("ContextWrapper"),z=y("AiReply"),mt=y("YTResponse"),ut=y("CampaignModal");return o(),r(L,null,[b(u),b(c),this.settings.sidebar_show_icon==!0||this.this_page=="side_panel"?(o(),r("div",{key:0,id:"aitopia-container",class:$(this.this_page=="side_panel"?"":"close-sidebar")},[i("div",wo,[i("div",yo,[this.settings.switchbar=="chat"?(o(),r("div",xo,[b(p,{mode:"chat"}),b(m,{headerMode:"example"})])):_("",!0),this.settings.switchbar=="ask"?(o(),r("div",ko,[b(p,{mode:"ask"}),b(h),b(v)])):_("",!0),this.settings.switchbar=="write"?(o(),r("div",Co,[b(p,{mode:"write"}),b(g),b(v)])):_("",!0),this.settings.switchbar=="image"?(o(),r("div",$o,[b(p,{mode:"image"}),b(w),b(v)])):_("",!0),this.settings.switchbar=="web_search"?(o(),r("div",Lo,[b(p,{mode:"search"}),b(m,{headerMode:"search",needUpgrade:this.storage.Local.plan=="Free"},null,8,["needUpgrade"])])):_("",!0),this.settings.switchbar=="agent"?(o(),r("div",So,[this.settings.switchbar=="agent"?(o(),E(C,{key:0,mode:""})):_("",!0)])):_("",!0),this.show_history_sidebar?(o(),E(S,{key:6,id:"full-screen-history-sidebar"})):_("",!0),b(A)]),b(x),b(I)])],2)):_("",!0),i("div",Mo,[i("div",{id:"aitopia-sidebar-opener",class:$(["ait-cursor-pointer",this.settings.sidebar_show_icon===!1||this.this_page=="side_panel"?"ait-hide":"ait-show"]),style:Q("bottom:"+(this.settings.sidebar_bottom_position??"70px")+"; "+(this.settings.sidebar_position=="left"?"left:0px":"right:0px"))},[i("div",{class:"ai-opener-close ait-rounded-lg ait-bg-neutral-800 ait-text-white dark:ait-bg-neutral-200 dark:ait-text-neutral-800 ait-size-4 ait-text-center ait-align-middle ait-text-[10px] ait-font-bold",onClick:e[0]||(e[0]=et=>this.elementRemove("#aitopia-sidebar-opener"))}," x "),i("div",{class:"opener-logo",onClick:e[1]||(e[1]=et=>this.sidebarToggle(!0,et))},[b(Y,{name:"logo",className:"ait-w-[45px] ait-h-[45px]"})])],6),i("div",{class:"ait-fixed ait-flex-col ait-items-center ait-bg-[--ait-main-color] dark:ait-bg-[--ait-option-card-bg-color] ait-p-1.5 ait-shadow-lg ait-quick-action-container",style:Q("bottom:"+(parseInt(this.settings.sidebar_bottom_position??"70")+44)+"px; "+(this.settings.sidebar_position=="left"?"left:0px":"right:0px"))},[b(K,{left:"0px","break-word":!0,"popover-text":t.__("Summarize Page")},{default:D(()=>[i("button",{onClick:e[2]||(e[2]=et=>this.triggerAction({type:"ReadPageAction",params:{mode:"summarize"}})),class:"ait-cursor-pointer ait-p-1 ait-rounded-full ait-flex ait-items-center ait-justify-center ait-border ait-transition-all"},[b(ot,{icon:"fa-solid fa-book",class:"ait-w-4 ait-h-4"})])]),_:1},8,["popover-text"])],4)]),this.settings.search_ask_mode?(o(),r("div",To,[b(ct)])):_("",!0),b(H),e[3]||(e[3]=i("textarea",{id:"ait_clipboard",style:{position:"fixed",bottom:"-10px","z-index":"-1",height:"1px",width:"1px","font-size":"0.1px"}},null,-1)),this.settings.email_assistant?(o(),E(z,{key:2})):_("",!0),b(mt),this.campaign_modal_show?(o(),E(ut,{key:3})):_("",!0)],64)}const Ao=R(O,[["render",Ho]]),Po={async artifacts_run(t,e,a,l=[]){const n={language:t,files:e,entrypoint:a,args:l};return await f.apiCall("/ai/execute/artifacts_run",n,"POST",6e4,"json",0)},async tasks(t,e,a=!0,l,n){const s={stream:a,title:t};return e&&(s.steps=e),n&&(s.prompt=n),l!==void 0&&(s.step_duration_ms=l),await f.apiCall("/ai/execute/tasks",s,"POST",6e4,"json",0)},async tasks_get(t){return await f.apiCall(`/ai/execute/tasks_get?id=${t}`,{},"GET",6e4,"json",0)},async tasks_delete(t){return await f.apiCall("/ai/execute/tasks_delete",{id:t},"DELETE",6e4,"json",0)}},Io={class:"artifact-viewer"},Uo=["innerHTML"],Eo=["innerHTML"],jo=["srcdoc"],Ro={key:3,class:"artifact-content code-content"},Bo=rt({__name:"ArtifactViewer",props:{artifact:{}},setup(t){const e=t,a=lt(()=>{if(e.artifact.type!=="markdown")return"";try{const n=ui.parse(e.artifact.content);return mi.sanitize(n)}catch{return e.artifact.content}}),l=lt(()=>{var s;if(!((s=e.artifact)!=null&&s.content))return"<!DOCTYPE html><html><body><p>No content available</p></body></html>";let n=e.artifact.content.trim();return n.startsWith("```")&&(n=n.replace(/^```[\w-]*\n?/,"").replace(/```$/,"").trim()),n=n.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"'),n.toLowerCase().includes("<!doctype")||n.toLowerCase().includes("<html")?n:`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${e.artifact.title||"Preview"}</title>
</head>
<body>
${n}
</body>
</html>`});return(n,s)=>(o(),r("div",Io,[n.artifact.type==="markdown"?(o(),r("div",{key:0,class:"artifact-content markdown-body",innerHTML:a.value},null,8,Uo)):n.artifact.type==="svg"?(o(),r("div",{key:1,class:"artifact-content svg-content",innerHTML:n.artifact.content},null,8,Eo)):n.artifact.type==="html"||n.artifact.type==="code"?(o(),r("iframe",{key:2,title:"artifact-preview",srcdoc:l.value,sandbox:"allow-scripts allow-same-origin allow-forms allow-modals allow-popups",class:"artifact-iframe",onLoad:s[0]||(s[0]=u=>u.target.style.opacity=1)},null,40,jo)):(o(),r("pre",Ro,[i("code",null,d(n.artifact.content),1)]))]))}}),vi=R(Bo,[["__scopeId","data-v-2694923f"]]),Do={class:"artifacts-panel"},Oo={class:"artifacts-header"},zo={key:0,class:"artifact-subtitle"},Vo={class:"artifacts-actions"},Fo=["disabled"],qo={key:0,class:"artifacts-tabs"},No=["onClick"],Zo={key:1,class:"artifact-body"},Wo={key:0,class:"artifact-run"},Go={class:"artifact-run-meta"},Ko={key:0},Yo={key:0,class:"artifact-run-error"},Qo={key:0,class:"artifact-run-stdout"},Xo={key:1,class:"artifact-run-stderr"},Jo=["srcDoc"],tn={key:3,class:"artifact-output-files"},en=["href","download"],an={class:"output-file-meta"},sn=rt({__name:"ArtifactsPanel",props:{artifacts:{},selectedId:{},onSelect:{type:Function},onClose:{type:Function},onRun:{type:Function},runStatus:{}},setup(t){const e=t,a=lt(()=>e.artifacts.find(c=>c.id===e.selectedId)||e.artifacts[0]),l=lt(()=>{var c;return a.value?(c=e.runStatus)==null?void 0:c[a.value.id]:void 0}),n=c=>c.type!=="code"?!1:c.language==="python"?!0:c.language==="javascript"||!c.language?!s(c.content):!1,s=c=>[/\bdocument\./,/\bwindow\./,/\bDOM\b/,/\bgetElementById\b/,/\bquerySelector/,/\baddEventListener\b/,/\blocalStorage\b/,/\bsessionStorage\b/,/\bfetch\(/,/\bXMLHttpRequest\b/,/\bcanvas\b/i,/\bgetContext\(/,/\brequestAnimationFrame\b/,/\bsetInterval\b.*draw/i,/\balert\(/,/\bconfirm\(/,/\bprompt\(/].some(m=>m.test(c)),u=c=>{if(c===0)return"0 B";const p=1024,m=["B","KB","MB","GB"],h=Math.floor(Math.log(c)/Math.log(p));return parseFloat((c/Math.pow(p,h)).toFixed(1))+" "+m[h]};return(c,p)=>{var m,h,v;return o(),r("div",Do,[i("div",Oo,[i("div",null,[p[2]||(p[2]=i("h3",null,"Artifacts",-1)),a.value?(o(),r("p",zo,d(a.value.type.toUpperCase())+"  "+d(a.value.title),1)):_("",!0)]),i("div",Vo,[a.value&&c.onRun&&n(a.value)?(o(),r("button",{key:0,onClick:p[0]||(p[0]=g=>c.onRun(a.value)),disabled:((m=l.value)==null?void 0:m.state)==="running"},d(((h=l.value)==null?void 0:h.state)==="running"?"Running":"Run"),9,Fo)):_("",!0),i("button",{onClick:p[1]||(p[1]=(...g)=>c.onClose&&c.onClose(...g))},"Close")])]),c.artifacts.length>1?(o(),r("div",qo,[(o(!0),r(L,null,B(c.artifacts,g=>{var w;return o(),r("button",{key:g.id,class:$({active:g.id===((w=a.value)==null?void 0:w.id)}),onClick:C=>c.onSelect(g.id)},d(g.title||g.type),11,No)}),128))])):_("",!0),a.value?(o(),r("div",Zo,[b(vi,{artifact:a.value},null,8,["artifact"]),l.value&&!((v=l.value.result)!=null&&v.browserPreview)?(o(),r("div",Wo,[i("div",Go,[i("span",null,"Status: "+d(l.value.state),1),l.value.result?(o(),r("span",Ko," Exit "+d(l.value.result.exitCode)+"  "+d(l.value.result.durationMs)+"ms ",1)):_("",!0)]),l.value.error?(o(),r("pre",Yo,d(l.value.error),1)):_("",!0),l.value.result?(o(),r(L,{key:1},[l.value.result.stdout?(o(),r("pre",Qo,d(l.value.result.stdout),1)):_("",!0),l.value.result.stderr?(o(),r("pre",Xo,d(l.value.result.stderr),1)):_("",!0),l.value.result.html?(o(),r("iframe",{key:2,title:"artifact-output",srcDoc:l.value.result.html,sandbox:"allow-scripts",class:"artifact-iframe"},null,8,Jo)):_("",!0),l.value.result.output_files&&l.value.result.output_files.length>0?(o(),r("div",tn,[p[3]||(p[3]=i("h4",null,"Generated Files",-1)),i("ul",null,[(o(!0),r(L,null,B(l.value.result.output_files,g=>(o(),r("li",{key:g.file_id},[i("a",{href:g.download_url,download:g.filename,class:"output-file-link"},"  "+d(g.filename),9,en),i("span",an," ("+d(u(g.size))+") ",1)]))),128))])])):_("",!0)],64)):_("",!0)])):_("",!0)])):_("",!0)])}}}),on=R(sn,[["__scopeId","data-v-2264dc19"]]),nn={class:"task-progress-card"},ln={class:"task-progress-header"},rn={class:"task-progress-title"},dn={class:"task-progress-subtitle"},cn={class:"task-progress-actions"},un={class:"task-progress-bar"},hn={class:"task-progress-steps"},pn={class:"task-step-status"},gn={class:"task-step-body"},fn={class:"task-step-row"},mn={class:"task-step-label"},_n={key:0,class:"task-step-percent"},vn={key:1,class:"task-step-percent"},bn={key:0,class:"task-step-note"},wn={key:0,class:"task-step task-step-running"},yn={key:0,class:"task-result"},xn=["innerHTML"],kn=rt({__name:"TaskProgressCard",props:{plan:{},steps:{},status:{},isStreaming:{type:Boolean},result:{},onCancel:{type:Function},onRetry:{type:Function}},setup(t){const e=t,a=c=>c==="done"?"":c==="running"?"":c==="error"?"":"",l=lt(()=>{var p;const c=e.steps||((p=e.plan)==null?void 0:p.steps)||[];return Array.isArray(c)?c.length:0}),n=lt(()=>{const c=e.steps||[];return Array.isArray(c)?c.filter(p=>p.status==="done").length:0}),s=lt(()=>{if(!l.value)return 0;const c=e.steps||[];return!Array.isArray(c)||c.length===0?0:Math.min(100,Math.round(c.reduce((p,m)=>typeof m.percent=="number"?p+m.percent:m.status==="done"?p+100:p,0)/l.value))}),u=lt(()=>{if(!e.result)return"";try{const c=ui.parse(e.result);return mi.sanitize(c)}catch{return e.result}});return(c,p)=>{var m;return o(),r("div",nn,[i("div",ln,[i("div",null,[p[2]||(p[2]=i("p",{class:"task-progress-eyebrow"},"Task Progress",-1)),i("h3",rn,d(((m=c.plan)==null?void 0:m.title)||"Task Plan"),1),i("p",dn,d(n.value)+"/"+d(l.value||"?")+" Complete ",1)]),i("div",cn,[c.status==="running"&&c.onCancel?(o(),r("button",{key:0,class:"task-progress-btn ghost",onClick:p[0]||(p[0]=(...h)=>c.onCancel&&c.onCancel(...h)),type:"button"}," Cancel ")):_("",!0),c.status==="error"&&c.onRetry?(o(),r("button",{key:1,class:"task-progress-btn ghost",onClick:p[1]||(p[1]=(...h)=>c.onRetry&&c.onRetry(...h)),type:"button"}," Retry ")):_("",!0)])]),i("div",un,[i("div",{class:"task-progress-bar-fill",style:Q({width:`${s.value}%`})},null,4)]),i("div",hn,[(o(!0),r(L,null,B(c.steps,h=>(o(),r("div",{key:h.id,class:$(["task-step",`task-step-${h.status}`])},[i("div",pn,d(a(h.status)),1),i("div",gn,[i("div",fn,[i("span",mn,d(h.label||`Step: ${h.id}`),1),typeof h.percent=="number"&&h.percent<100?(o(),r("span",_n,d(Math.round(h.percent))+"% ",1)):_("",!0),h.status==="done"?(o(),r("span",vn,"100%")):_("",!0)]),h.status==="running"&&!h.detail?(o(),r("p",bn," Processing ")):_("",!0),h.detail?(o(),r("p",{key:1,class:$(["task-step-note",{error:h.status==="error"}])},d(h.detail),3)):_("",!0)])],2))),128)),c.status==="running"&&c.isStreaming&&c.steps.length===0?(o(),r("div",wn,p[3]||(p[3]=[Vt('<div class="task-step-status" data-v-1ae764a6></div><div class="task-step-body" data-v-1ae764a6><div class="task-step-row" data-v-1ae764a6><span class="task-step-label" data-v-1ae764a6>Planning steps</span></div><p class="task-step-note" data-v-1ae764a6>Waiting for plan to stream in.</p></div>',2)]))):_("",!0)]),c.result?(o(),r("div",yn,[p[4]||(p[4]=i("p",{class:"task-result-title"},"Result",-1)),i("div",{class:"task-result-body markdown",innerHTML:u.value},null,8,xn)])):_("",!0)])}}}),Cn=R(kn,[["__scopeId","data-v-1ae764a6"]]),$n={extends:O,components:{ArtifactsPanel:on,ArtifactViewer:vi,TaskProgressCard:Cn},data(){return{isHovered:{},showArtifactsForMessage:{},artifactsPanelOpen:!1,currentArtifacts:null,selectedArtifactId:null,artifactsViewMode:"preview",artifactsPanelWidth:50,isResizing:!1,runStatus:{}}},methods:{slugifyFilename(t){return((t||"").toString().trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").replace(/-+/g,"-")||"artifact").slice(0,64)},getArtifactFilename(t){if(!t)return"artifact.txt";const e=(t.type||"").toString().toLowerCase(),a=(t.language||"").toString().toLowerCase(),l=(t.title||"").toString();let n="txt";return e==="html"?n="html":e==="svg"?n="svg":e==="markdown"?n="md":e==="code"&&(a==="python"||a==="py"?n="py":a==="typescript"||a==="ts"?n="ts":a==="javascript"||a==="js"||!a?n="js":n=a.replace(/[^a-z0-9]/g,"")||"txt"),`${this.slugifyFilename(l||"artifact")}.${n}`},downloadSelectedArtifact(){const t=this.selectedArtifact;if(!(t!=null&&t.content))return;const e=this.getArtifactFilename(t),a=(t.type||"").toString().toLowerCase();let l="text/plain;charset=utf-8";a==="html"?l="text/html;charset=utf-8":a==="svg"?l="image/svg+xml;charset=utf-8":a==="markdown"&&(l="text/markdown;charset=utf-8");const n=new Blob([t.content],{type:l}),s=URL.createObjectURL(n),u=document.createElement("a");u.href=s,u.download=e,document.body.appendChild(u),u.click(),u.remove(),URL.revokeObjectURL(s)},async askOriginal(t){this.changeStorage("settings.web_access",!1),await this.aiChat(t,this.settings.ai_model),this.changeStorage("settings.web_access",!0)},toggleArtifacts(t){this.$set(this.showArtifactsForMessage,t,!this.showArtifactsForMessage[t])},getFinalArtifact(t){if(!t||t.length===0)return null;if(t.length===1)return t[0];const e=t.find(l=>{var n,s,u,c;return((n=l.title)==null?void 0:n.toLowerCase().includes("complete"))||((s=l.title)==null?void 0:s.toLowerCase().includes("final"))||((u=l.title)==null?void 0:u.toLowerCase().includes("combined"))||((c=l.title)==null?void 0:c.toLowerCase().includes("full"))});return e||t[t.length-1]},openArtifactsPanel(t){const e=this.getFinalArtifact(t);if(!e){console.warn("No artifacts to display");return}const a=[e];this.currentArtifacts=a,this.selectedArtifactId=e.id,this.artifactsPanelOpen=!0,this.artifactsViewMode=this.isExtensionUI?"code":"preview",this.ensureValidArtifactsViewMode(),document.addEventListener("mousemove",this.handleResize),document.addEventListener("mouseup",this.stopResize),document.addEventListener("keydown",this.handleEscKey)},closeArtifactsPanel(){this.artifactsPanelOpen=!1,this.currentArtifacts=null,this.selectedArtifactId=null,this.artifactsViewMode="preview",document.removeEventListener("mousemove",this.handleResize),document.removeEventListener("mouseup",this.stopResize),document.removeEventListener("keydown",this.handleEscKey)},handleEscKey(t){},selectArtifact(t){var a;if(this.selectedArtifactId=t,this.isExtensionUI){this.artifactsViewMode="code";return}const e=(a=this.currentArtifacts)==null?void 0:a.find(l=>l.id===t);this.artifactsViewMode=e&&this.isRunnable(e)?"code":"preview"},switchViewMode(t){this.isExtensionUI&&(t==="preview"||t==="output"&&!this.selectedRunnable)||t==="preview"&&this.selectedRunnable||t==="output"&&!this.selectedRunnable||(this.artifactsViewMode=t)},ensureValidArtifactsViewMode(){if(this.isExtensionUI){this.artifactsViewMode==="preview"&&(this.artifactsViewMode="code"),this.artifactsViewMode==="output"&&!this.selectedRunnable&&(this.artifactsViewMode="code");return}this.selectedRunnable?this.artifactsViewMode==="preview"&&(this.artifactsViewMode="code"):this.artifactsViewMode==="output"&&(this.artifactsViewMode="preview")},startResize(t){this.isResizing=!0,t.preventDefault()},handleResize(t){if(!this.isResizing)return;t.preventDefault(),t.stopPropagation();const e=window.innerWidth,a=10;let l;l=(e-t.clientX-a)/e*100,l>=30&&l<=80&&(this.artifactsPanelWidth=l)},stopResize(){this.isResizing=!1},copyArtifactCode(){var e;const t=(e=this.currentArtifacts)==null?void 0:e.find(a=>a.id===this.selectedArtifactId);t&&t.content&&navigator.clipboard.writeText(t.content).then(()=>{}).catch(a=>{console.error("Failed to copy:",a)})},formatFileSize(t){if(!t)return"0 B";const e=1024,a=["B","KB","MB","GB"],l=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,l)).toFixed(1))+" "+a[l]},async runArtifactFromModal(){var e,a,l,n,s,u,c;const t=this.currentArtifacts&&this.currentArtifacts.find(p=>p.id===this.selectedArtifactId)||null;if(!t){console.warn("No artifact selected to run");return}if(!this.isRunnable(t)){console.warn("Selected artifact is not runnable");return}this.artifactsViewMode="output",this.runStatus||(this.runStatus={}),this.runStatus={...this.runStatus,[t.id]:{state:"running"}};try{const p=(t.language||"javascript").toLowerCase(),h=p==="python"?"main.py":"index.js",v=await Po.artifacts_run(p,[{path:h,content:t.content}],h,[]),g=((e=v==null?void 0:v.data_raw)==null?void 0:e.output)??(v==null?void 0:v.data)??((a=v==null?void 0:v.data_raw)==null?void 0:a.stdout)??"",w=((l=v==null?void 0:v.data_raw)==null?void 0:l.stderr)??(v==null?void 0:v.error)??(v==null?void 0:v.server_message)??"",C=((n=v==null?void 0:v.data_raw)==null?void 0:n.response_time)??0;let S=0;const A=(s=v==null?void 0:v.data_raw)==null?void 0:s.summary;if(A){const I=A.match(/exit\s+(\d+)/i);if(I&&I[1]){const Y=parseInt(I[1],10);Number.isNaN(Y)||(S=Y)}}const x={stdout:g,stderr:w,exitCode:S,durationMs:C,html:(u=v==null?void 0:v.data_raw)==null?void 0:u.html,error:(v==null?void 0:v.error)||(v==null?void 0:v.server_message),browserPreview:!1,message:A||(v==null?void 0:v.server_message),output_files:(c=v==null?void 0:v.data_raw)==null?void 0:c.output_files};this.runStatus={...this.runStatus,[t.id]:{state:"done",result:x}}}catch(p){this.runStatus={...this.runStatus,[t.id]:{state:"error",error:(p==null?void 0:p.message)||String(p)}},console.error("Artifact run error",p)}},isRunnable(t){if(!t||t.type!=="code")return!1;const e=(t.language||"").toLowerCase();return e==="python"?!0:!t.language||e==="javascript"||e==="ts"?!this.isBrowserCode(t.content||""):!1},isBrowserCode(t){return t?[/\bdocument\./,/\bwindow\./,/\bDOM\b/,/\bgetElementById\b/,/\bquerySelector/,/\baddEventListener\b/,/\blocalStorage\b/,/\bsessionStorage\b/,/\bfetch\(/,/\bXMLHttpRequest\b/,/\bcanvas\b/i,/\bgetContext\(/,/\brequestAnimationFrame\b/,/\bsetInterval\b.*draw/i,/\balert\(/,/\bconfirm\(/,/\bprompt\(/].some(a=>a.test(t)):!1},isPageContextMessage(t){var e,a;try{if(!(t!=null&&t.item))return!1;if(((a=(e=t.extra_data)==null?void 0:e.contextData)==null?void 0:a.mode)==="pagecontext")return!0;if(typeof t.item=="string"&&t.item.startsWith("{")&&t.item.endsWith("}")){const l=JSON.parse(t.item);return(l==null?void 0:l.type)==="pagecontext"}return!1}catch{return!1}},getPageContextData(t){var e,a;try{return((a=(e=t.extra_data)==null?void 0:e.contextData)==null?void 0:a.mode)==="pagecontext"?JSON.parse(t.extra_data.contextData):JSON.parse(t.item)}catch{return null}},formatPageContextMessage(t){try{const e=this.getPageContextData(t);return e&&e.response||t.item}catch{return t.item}},getGeneratedImageForMessage(t){var l;if(!this.ai_chat||t===null||t===void 0)return null;const e=String(t),a=f.notUndefined(this.ai_chat,`${e}.events`);if(!a)return null;for(const n of Object.values(a)){const s=n,u=f.notUndefined(s,"action"),c=f.notUndefined(s,"event_type");if(u==="generate_image"&&(c==="output"||c==="on_tool_end")){const p=(l=s.event_data)==null?void 0:l.output;if(!p)continue;if(p.images&&p.images[0])return p.images[0];if(p.attachments&&p.attachments[0])return p.attachments[0].url}}return null},filterImageUrlsFromText(t,e){return this.getGeneratedImageForMessage(e)?t.replace(/<img[^>]*src=["']([^"']+)["'][^>]*>/gi,(n,s)=>{try{const c=new URL(s).hostname.toLowerCase();return["cdn.aitopia.ai","placehold.co"].some(h=>c===h||c.endsWith("."+h))?n:""}catch{return""}}):t}},mounted(){this.chatByAgent()},computed:{isExtensionUI(){var t;try{return(((t=window.location)==null?void 0:t.protocol)||"")==="chrome-extension:"}catch{return!1}},selectedArtifact(){return!this.currentArtifacts||!this.selectedArtifactId?null:this.currentArtifacts.find(e=>e.id===this.selectedArtifactId)||null},selectedRunState(){return!this.selectedArtifact||!this.runStatus?null:this.runStatus[this.selectedArtifact.id]||null},selectedRunnable(){return this.selectedArtifact?this.isRunnable(this.selectedArtifact):!1}}},Ln={key:0,class:"ait-h-full",id:"aitopia-message"},Sn=["aria-details","onMouseover","onMouseout"],Mn={key:0,class:"ait-px-6 ait-py-4"},Tn={class:"ait-border ait-rounded-lg ait-bg-neutral-100 dark:ait-bg-neutral-800 ait-p-3"},Hn={class:"ait-flex ait-flex-col ait-gap-2"},An={class:"ait-flex ait-items-center ait-justify-between"},Pn={class:"ait-flex ait-items-center ait-gap-2"},In={class:"ait-text-sm ait-font-medium"},Un={class:"ait-flex ait-items-center ait-gap-2 ait-mt-2"},En=["src"],jn={class:"ait-flex ait-flex-col"},Rn={class:"ait-text-sm ait-font-medium"},Bn=["href"],Dn={class:"ait-text-xs ait-text-neutral-500 ait-mt-2"},On={key:0,class:"ait-border ait-rounded-lg ait-bg-neutral-100 dark:ait-bg-neutral-800 ait-p-3 ait-mt-2"},zn={class:"ait-flex ait-items-center ait-gap-3"},Vn={class:"ait-flex ait-items-center ait-gap-1.5 ait-px-2.5 ait-py-1 ait-rounded-full ait-bg-neutral-500"},Fn={class:"ait-text-xs ait-font-medium ait-text-white ait-text-nowrap"},qn={class:"ait-text-xs ait-text-neutral-500"},Nn={class:"ait-flex ait-p-2 ait-text-[10px] dark:ait-text-gray-200 ait-flex-col ait-items-start ait-justify-start ait-gap-2"},Zn={class:"ait-flex ait-items-center ait-space-x-2"},Wn={key:0,class:"ait-px-6"},Gn={class:"ait-text-xs ait-flex ait-justify-start ait-items-start ait-gap-2"},Kn={class:"ait-flex ait-justify-center ait-items-center ait-gap-2"},Yn={class:"ait-text-gray-600 dark:ait-text-gray-400 ait-whitespace-nowrap"},Qn={class:"ait-text-gray-900 dark:ait-text-gray-100 ait-break-words"},Xn={class:"dark:ait-bg-neutral-900 ait-px-6 ait-py-4 ai_result_container"},Jn={class:"ait-flex ait-flex-col"},tl={key:0,class:"ait-my-1 ait-w-full ait-max-w-xl"},el={class:"ait-flex ait-flex-row ait-items-center"},il=["innerHTML"],al={key:0,class:"ait-ml-6 ait-flex ait-items-end"},sl={key:0},ol={key:1,class:"dots"},nl={key:2},ll={key:3,class:"dots"},rl={key:1,class:"ait-mt-4 ait-overflow-hidden"},dl=["src"],cl={key:2,class:"ai-question-container ait-grid ait-grid-cols-2 ait-items-start ait-gap-3 ait-mt-3"},ul={class:"ait-text-sm ait-font-semibold ait-text-neutral-900 dark:ait-text-gray-200 ait-col-span-2"},hl=["data-question"],pl={key:3,class:"ait-mt-3"},gl=["onClick"],fl={class:"ait-flex-shrink-0 ait-w-8 ait-h-8 ait-rounded-lg ait-bg-[rgba(var(--ait-main-color),0.2)] dark:ait-bg-[rgba(var(--ait-main-color),0.25)] ait-flex ait-items-center ait-justify-center"},ml={class:"ait-flex-1 ait-min-w-0"},_l={class:"ait-font-semibold ait-text-sm ait-text-[var(--ait-primary-text-color)] ait-truncate"},vl={class:"ait-text-xs ait-text-[var(--ait-secondary-text-color)] ait-mt-0.5"},bl={key:0,class:"ait-flex-shrink-0 ait-inline-flex ait-items-center ait-justify-center ait-min-w-[22px] ait-h-[22px] ait-px-2 ait-rounded-full ait-text-[11px] ait-font-bold ait-bg-[rgba(var(--ait-main-color),0.3)] dark:ait-bg-[rgba(var(--ait-main-color),0.35)] ait-text-[var(--ait-primary-text-color)]"},wl={key:1,class:"ait-pl-2"},yl=["onClick"],xl={key:2,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200"},kl={class:"ait-w-2/3 ait-py-4 ait-ml-auto ait-text-right"},Cl={type:"button",class:"ait-text-white ait-bg-green-700 hover:ait-opacity-90 focus:ait-outline-none focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-full ait-text-sm ait-px-5 ait-py-1 ait-text-center ait-ml-5 ait-mr-2 dark:ait-bg-green-600 dark:hover:ait-bg-green-700 dark:focus:ait-ring-green-800 aitopia-pricing"},$l={key:3,class:"ait-py-1 [&_*]:ait-text-red-800 dark:[&_*]:ait-text-red-200 [&_*]:ait-bg-neutral-100 dark:[&_*]:ait-bg-neutral-900"},Ll=["innerHTML"],Sl={key:4,class:"ait-p-2"},Ml={class:"ait-flex ait-items-center ait-justify-between ait-p-3 ait-space-x-3 ait-border ait-border-neutral-200 dark:ait-border-neutral-600 ait-rounded-xl ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200"},Tl=["innerHTML"],Hl=["src"],Al={key:0,class:"ait-w-2/3 ait-py-4 ait-ml-auto ait-text-right"},Pl={class:"ait-flex ait-items-center ait-gap-2 ait-overflow-hidden"},Il={class:"ait-w-9 ait-h-9 ait-rounded-md ait-bg-[var(--ait-link-color)] ait-flex ait-items-center ait-justify-center ait-text-white ait-text-xs ait-font-semibold"},Ul={class:"ait-flex ait-flex-col ait-overflow-hidden"},El={class:"ait-text-xs ait-font-medium ait-truncate ait-max-w-[220px]"},jl={class:"ait-text-[11px] ait-text-neutral-500"},Rl=["src"],Bl={key:0,class:"ait-absolute -ait-bottom-2.5 ait-right-2"},Dl={class:"ait-flex ait-flex-row ait-items-center ait-justify-center ait-gap-1"},Ol=["onClick"],zl={key:6,id:"ait-continue-chat-ai_chat",class:"ait-continue-chat ait-flex ait-items-center ait-justify-center ait-absolute ait-w-full"},Vl=["data-title"],Fl={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-justify-center"},ql={key:7,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 ait-text-red-800 dark:ait-text-red-200"},Nl={class:"ait-py-4 ait-text-center ait-text-red-800 dark:ait-text-red-200"},Zl={href:"https://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter",class:"ait-text-blue-800 dark:ait-text-blue-400 hover:ait-text-blue-600",style:{"text-decoration":"underline"},target:"_blank"},Wl={class:"ait-flex ait-items-center ait-text-white ait-px-5 ait-py-2.5 ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 ait-font-medium ait-text-sm ait-rounded-lg ait-transition-all ait-duration-200 ait-cursor-pointer"},Gl={class:"ait-text-white"},Kl={class:"artifacts-panel-header"},Yl={class:"artifacts-header-left"},Ql={class:"artifacts-title-row"},Xl={class:"artifacts-title"},Jl={class:"artifacts-header-right"},tr={class:"artifacts-mode-toggle"},er=["disabled","title"],ir={key:0,class:"artifacts-run-spinner","aria-hidden":"true"},ar=["title"],sr=["title"],or={key:0,class:"artifacts-panel-tabs"},nr=["onClick"],lr={class:"artifacts-panel-content"},rr={key:0,class:"artifact-preview"},dr={key:1,class:"artifact-code-view"},cr={class:"code-header"},ur={class:"code-language"},hr={class:"artifact-source-code"},pr={key:2,class:"artifact-output-view"},gr={key:0,class:"artifact-output-empty"},fr={class:"artifact-output-empty-title"},mr={class:"artifact-output-empty-subtitle"},_r={key:1,class:"artifact-run"},vr={class:"artifact-run-meta"},br={key:0,class:"artifact-pill artifact-pill-neutral"},wr={key:0,class:"artifact-run-error"},yr={key:0,class:"artifact-log"},xr={class:"artifact-run-stdout"},kr={key:1,class:"artifact-log"},Cr={class:"artifact-run-stderr"},$r=["srcdoc"],Lr={key:3,class:"artifact-output-files"},Sr=["href","download"],Mr={class:"output-file-meta"},Tr={key:1,class:"artifacts-panel-empty"},Hr=["src"];function Ar(t,e,a,l,n,s){var S,A;const u=y("font-awesome-icon"),c=y("AgentLogo"),p=y("ModelLogo"),m=y("AiEvents"),h=y("TaskProgressCard"),v=y("ResponseTools"),g=y("file-button"),w=y("HoverPopover"),C=y("ArtifactViewer");return o(),r(L,null,[t.ai_chat?(o(),r("div",Ln,[(o(!0),r(L,null,B(t.ai_chat||[],(x,I)=>{var Y,ot,K,ct,H,z,mt,ut,et,N,vt,$t,kt,wt,xt,Ut,Dt,Et,St,Xt,Ot,Lt;return o(),r(L,null,[x!=null?(o(),r("div",{"aria-details":`chat-key-${I}`,class:$({"ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-gray-200 ait-mt-[2px] ait-mb-[2px]":x.role=="system"||x.role=="assistant"}),onMouseover:bt=>n.isHovered[I]=!0,onMouseout:bt=>n.isHovered[I]=!1,key:I},[s.isPageContextMessage(x)&&x.role=="user"?(o(),r("div",Mn,[i("div",Tn,[i("div",Hn,[i("div",An,[i("div",Pn,[b(u,{icon:"fa-solid fa-book",class:"ait-w-4 ait-h-4 ait-text-neutral-500"}),i("span",In,d(t.__("Page Content")),1)])]),i("div",Un,[(ot=(Y=x.extra_data)==null?void 0:Y.contextData)!=null&&ot.favicon?(o(),r("img",{key:0,src:(ct=(K=x.extra_data)==null?void 0:K.contextData)==null?void 0:ct.favicon,class:"ait-w-4 ait-h-4",alt:"Page favicon"},null,8,En)):_("",!0),i("div",jn,[i("span",Rn,d(((z=(H=x.extra_data)==null?void 0:H.contextData)==null?void 0:z.title)||""),1),i("a",{href:(ut=(mt=x.extra_data)==null?void 0:mt.contextData)==null?void 0:ut.url,target:"_blank",rel:"noopener noreferrer",class:"ait-text-xs ait-text-[var(--ait-link-color)] hover:ait-underline ait-truncate ait-max-w-[300px] ait-cursor-pointer ait-flex ait-items-center ait-gap-1"},[U(d(((N=(et=x.extra_data)==null?void 0:et.contextData)==null?void 0:N.url)||"")+" ",1),b(u,{icon:"fa-solid fa-external-link",class:"ait-w-3 ait-h-3"})],8,Bn)])]),i("div",Dn,d(($t=(vt=s.getPageContextData(x))==null?void 0:vt.contextData)==null?void 0:$t.prompt),1)])]),(wt=(kt=x.extra_data)==null?void 0:kt.contextData)!=null&&wt.actionType?(o(),r("div",On,[i("div",zn,[i("div",Vn,[i("span",Fn,"  "+d(t.__(x.extra_data.contextData.actionType.label)),1)]),i("div",qn,d(x.extra_data.contextData.actionType.description||t.__("No description available")),1)])])):_("",!0)])):x.role=="system"||x.role=="assistant"?(o(),r(L,{key:1},[i("div",Nn,[i("div",Zn,[t.Helpers.notUndefined(t.chat_agents||{},t.Helpers.notUndefined(x,"extra_data.agent_id"))?(o(),r(L,{key:0},[b(c,{agent:t.Helpers.notUndefined(t.chat_agents||{},t.Helpers.notUndefined(x,"extra_data.agent_id")),class:"ait-text-md ait-max-w-[16px] ait-max-h-[16px]"},null,8,["agent"]),i("span",null,d(t.Helpers.notUndefined(t.chat_agents||{},`${t.Helpers.notUndefined(x,"extra_data.agent_id")}.title`)),1)],64)):(o(),r(L,{key:1},[b(p,{class:"ait-w-[16px] ait-h-[16px]",model:x.model,check_logo:!0},null,8,["model"]),i("span",null,d(x.model),1)],64))]),t.Helpers.notUndefined(x.extra_data,"search.questions")?(o(),r("div",Wn,[i("div",Gn,[i("div",Kn,[b(u,{icon:"fa fa-search",class:"ait-w-3 ait-h-3"}),i("span",Yn,d(t.__("Searched for: ")),1)]),i("p",Qn,d(t.Helpers.cleanTextEmpty(x.extra_data.search.original_ask)),1)])])):_("",!0)]),i("div",Xn,[i("div",Jn,[b(m,{chat_key:I==null?void 0:I.toString()},null,8,["chat_key"]),x.task&&x.task.plan?(o(),r("div",tl,[b(h,{plan:x.task.plan,steps:x.task.steps||[],status:x.task.status||"idle",isStreaming:x.loading||!1,result:x.task.result},null,8,["plan","steps","status","isStreaming","result"])])):_("",!0),i("div",el,[i("div",{class:$(`ai_result ${x.loading?"ai_loading":""}`),innerHTML:s.filterImageUrlsFromText(t.AiApi.prefixify(t.AiApi.linkify(s.isPageContextMessage(x)?s.formatPageContextMessage(x):x.item)).replace(/\n/,"<br>"),I)},null,10,il),x.loading&&!x.item?(o(),r("div",al,[x.model.indexOf("Vision")!==-1?(o(),r("span",sl,d(t.__("Analyzing")),1)):_("",!0),x.model.indexOf("Vision")!==-1?(o(),r("span",ol)):_("",!0),(((xt=t.getModelDetails(x.model))==null?void 0:xt.use_think)??0)==1?(o(),r("span",nl,d(t.__("Thinking")),1)):_("",!0),(((Ut=t.getModelDetails(x.model))==null?void 0:Ut.use_think)??0)==1?(o(),r("span",ll)):_("",!0)])):_("",!0)]),s.getGeneratedImageForMessage(I)?(o(),r("div",rl,[i("img",{src:s.getGeneratedImageForMessage(I),alt:"Generated image",class:"ait-w-full ait-max-w-[384px] ait-aspect-square ait-object-cover ait-rounded-lg"},null,8,dl)])):_("",!0),t.Helpers.notUndefined(x.extra_data,"search.questions")&&((St=(Et=(Dt=x.extra_data)==null?void 0:Dt.search)==null?void 0:Et.questions)==null?void 0:St.length)>0?(o(),r("div",cl,[i("span",ul,d(t.__("Related Questions"))+":",1),(o(!0),r(L,null,B(t.Helpers.notUndefined(x.extra_data,"search.questions"),(bt,Ht)=>(o(),r("div",{class:"ait-action-question ait-flex ait-cursor-pointer ait-flex-col ait-leading-1.5 ait-p-2 hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-white ait-text-xs ait-font-normal ait-text-neutral-900 dark:ait-text-gray-200 ait-border-neutral-200 ait-bg-neutral-200 ait-rounded-e-xl ait-rounded-es-xl dark:ait-bg-neutral-700 ait-transition-all","data-question":bt},d(bt),9,hl))),256))])):_("",!0),x.extra_data&&x.extra_data.artifacts&&x.extra_data.artifacts.length>0&&!x.loading?(o(),r("div",pl,[i("div",{onClick:bt=>s.openArtifactsPanel(x.extra_data.artifacts),class:"ait-cursor-pointer ait-w-full ait-flex ait-items-center ait-gap-3 ait-p-3 ait-rounded-xl ait-bg-[rgba(var(--ait-main-color),0.08)] hover:ait-bg-[rgba(var(--ait-main-color),0.15)] dark:ait-bg-[rgba(var(--ait-main-color),0.1)] dark:hover:ait-bg-[rgba(var(--ait-main-color),0.18)] ait-transition-all"},[i("div",fl,[b(u,{icon:"fa fa-code",class:"ait-w-4 ait-h-4 ait-text-[rgb(var(--ait-main-color))]"})]),i("div",ml,[i("div",_l,d(((Xt=x.extra_data.artifacts[0])==null?void 0:Xt.title)||t.__("Artifact")),1),i("div",vl,d(t.__("Click to open the artwork.")),1)]),x.extra_data.artifacts.length>1?(o(),r("div",bl,d(x.extra_data.artifacts.length),1)):_("",!0)],8,gl)])):_("",!0),i("div",{class:$(["ait-relative ait-z-[999] ait-mt-3 ait-flex ait-items-center ait-float-right ait-cursor-pointer ait-gap-2",{"ait-opacity-100":n.isHovered[I],"ait-opacity-0":!n.isHovered[I]&&I!=t.ai_chat.length-1}])},[x?(o(),E(v,{key:0,value:x},null,8,["value"])):_("",!0),t.Helpers.notUndefined(x.extra_data,"search.questions")?(o(),r("div",wl,[i("button",{type:"button",onClick:bt=>s.askOriginal(x.extra_data.search.original_ask),class:"ait-cursor-pointer ait-w-full ait-font-semibold ait-text-[var(--ait-link-color)] ait-text-xs ait-py-1 ait-px-2 ait-rounded-full ait-flex ait-items-center ait-gap-1 ait-justify-center ait-bg-transparent hover:ait-bg-neutral-200 dark:hover:ait-bg-neutral-700 ait-transition-all"},[b(u,{icon:"fa fa-search",class:"ait-w-3 ait-h-3"}),U(" "+d(t.__("Ask original"))+" "+d(((Ot=t.settings)==null?void 0:Ot.ai_model)||""),1)],8,yl)])):_("",!0)],2),e[11]||(e[11]=i("div",{class:"ait-clear-both"},null,-1))])])],64)):x.role=="limit"?(o(),r("div",xl,[i("div",kl,[U(d(t.__("Your usage limit has been reached. Please upgrade your plan to continue using."))+" ",1),i("button",Cl,d(t.__("Upgrade")),1)])])):x.role=="error"?(o(),r("div",$l,[i("div",{class:"ait-px-3 ait-py-4 [&_*]:ait-text-center",innerHTML:t.AiApi.prefixify(t.AiApi.linkify(x.item)).replace(/\n/g,"<br/>")},null,8,Ll)])):x.role=="image"?(o(),r("div",Sl,[i("div",Ml,[i("div",null,[i("div",{class:$(`ai_result ${x.loading?"ai_loading":""}`),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(x.item)).replace(/\n/g,"<br/>")},null,10,Tl),x.images?(o(!0),r(L,{key:0},B(x.images,bt=>(o(),r("div",null,[bt.url?(o(),r("img",{key:0,src:bt.url},null,8,Hl)):_("",!0)]))),256)):_("",!0)])])])):(o(),r("div",{key:5,class:$(`ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200 ${t.Helpers.notUndefined(x.extra_data,"ai_image_url")?"ait-py-4":" ait-py-1"}`)},[t.Helpers.notUndefined(x,"title")?(o(),r("div",Al,[i("div",null,[t.Helpers.notUndefined(t.Helpers.filenameByFaIcon(x.title,null),"name")=="lines"?(o(),r(L,{key:0},[U(d(x.title),1)],64)):(o(),E(g,{key:1,title:x.title},null,8,["title"]))]),i("div",{class:$(["ait-relative ait-z-[999] ait-mt-3 ait-flex ait-items-center ait-float-right ait-cursor-pointer ait-gap-2 ait-divide-x-[0.5px] ait-divide-neutral-300 dark:ait-divide-neutral-700",{"ait-opacity-100":n.isHovered[I],"ait-opacity-0":!n.isHovered[I]}])},[x?(o(),E(v,{key:0,value:x},null,8,["value"])):_("",!0)],2)])):(o(),r("div",{key:1,class:$(`ait-flex ait-flex-col ait-gap-1 ait-w-1/2 ait-ml-auto ait-py-4 ${t.Helpers.notUndefined(x.extra_data,"ai_image_url")?"ait-px-4 ait-rounded-md ait-w-[250px] ait-rounded-tr-none ait-bg-[var(--ait-link-color)]":""}`)},[x.attachments&&Array.isArray(x.attachments)&&x.attachments.length?(o(!0),r(L,{key:0},B(x.attachments,bt=>{var Ht;return o(),r("div",{key:bt.id,class:"ait-flex ait-items-center ait-justify-between ait-gap-2 ait-px-3 ait-py-2 ait-mb-1 ait-rounded-md ait-bg-[var(--ait-switchbar-bg-color)] ait-border ait-border-[var(--ait-border-color)]"},[i("div",Pl,[i("div",Il,d(((Ht=(bt.name||"").split(".").pop())==null?void 0:Ht.toUpperCase().slice(0,3))||"FILE"),1),i("div",Ul,[i("span",El,d(bt.name),1),i("span",jl,d((bt.size/1024).toFixed(1))+" KB ",1)])])])}),128)):_("",!0),t.Helpers.notUndefined(x.extra_data,"ai_image_url")?(o(),r(L,{key:1},[x.extra_data.ai_image_url?(o(),r("img",{key:0,src:x.extra_data.ai_image_url,class:"ait-rounded-md"},null,8,Rl)):_("",!0)],64)):_("",!0),i("div",null,[i("div",{class:$(`${t.Helpers.notUndefined(x.extra_data,"ai_image_url")?"ait-text-white ait-text-left":"ait-text-right"}`)},d(s.isPageContextMessage(x)?(Lt=s.getPageContextData(x))==null?void 0:Lt.context:x.item),3),t.Helpers.notUndefined(x.extra_data,"ai_image_url")?(o(),r("div",Bl,[i("template",Dl,[i("div",{class:$(`ait-bg-neutral-200 dark:ait-bg-neutral-950 ait-p-1 ait-rounded-md ait-justify-center ait-flex ait-items-center ait-float-right ait-cursor-pointer ${n.isHovered[I]?"ait-opacity-100":"ait-opacity-0"}`),onClick:bt=>t.Helpers.setAIImageURL(x.extra_data.ai_image_url)},[b(w,{"popover-text":t.__("Quote")},{default:D(()=>[b(u,{icon:"fa-solid fa-quote-right",class:"ait-w-3 ait-h-3"})]),_:1},8,["popover-text"])],10,Ol)])])):_("",!0),i("div",{class:$(["ait-relative ait-z-[999] ait-mt-3 ait-flex ait-items-center ait-float-right ait-cursor-pointer ait-gap-2 ait-divide-x-[0.5px] ait-divide-neutral-300 dark:ait-divide-neutral-700",{"ait-opacity-100":n.isHovered[I],"ait-opacity-0":!n.isHovered[I]}])},[x?(o(),E(v,{key:0,value:x},null,8,["value"])):_("",!0)],2)])],2))],2)),t.Helpers.notUndefined(x,"finish_reason")=="length"?(o(),r("div",zl,[i("button",{"data-title":t.__("Continue"),class:"ait-text-white hover:ait-opacity-90 ait-font-small ait-text-md ait-px-3 ait-py-1.5 ait-my-2 ait-rounded-md dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-items-center ait-justify-center"},[i("div",Fl,[b(u,{icon:"fa-solid fa-play",class:"ait-h-4 ait-w-4"}),U(" "+d(t.__("Continue generating")),1)])],8,Vl)])):_("",!0),t.Helpers.notUndefined(x,"finish_reason")=="content_filter"?(o(),r("div",ql,[i("div",Nl,[U(d(t.__("Response is stopped due to Content Filtering Policy. Please try again later by obeying the"))+" ",1),i("a",Zl,d(t.__("Content Filtering Policy")),1)])])):_("",!0)],42,Sn)):_("",!0)],64)}),256)),i("div",{id:"ait-stop-chat-ai_chat",class:$(["ait-stop-chat ait-items-center ait-justify-center ait-sticky ait-top-0 ait-w-full ait-py-2 ait-z-50 ait-bg-white/80 dark:ait-bg-neutral-900/80 ait-backdrop-blur-sm",{"ait-hide":!(t.ai_wait??!1),"ait-flex":t.ai_wait??!1}])},[i("button",Wl,[b(u,{icon:"fa-solid fa-stop",class:"ait-w-4 ait-h-4 ait-mr-3"}),i("span",Gl,d(t.__("Stop generating")),1)])],2)])):_("",!0),n.artifactsPanelOpen?(o(),r("div",{key:1,class:$(["artifacts-modal-overlay",[{"is-resizing":n.isResizing},"artifacts-panel-right"]])},[i("div",{class:"artifacts-modal-panel",style:Q({width:n.artifactsPanelWidth+"%"}),onClick:e[8]||(e[8]=J(()=>{},["stop"]))},[i("div",{class:"artifacts-resize-handle resize-handle-left",onMousedown:e[0]||(e[0]=(...x)=>s.startResize&&s.startResize(...x))},e[12]||(e[12]=[i("div",{class:"resize-handle-line"},null,-1)]),32),i("div",Kl,[i("div",Yl,[i("div",Ql,[i("h3",Xl,d(n.currentArtifacts&&((S=n.currentArtifacts.find(x=>x.id===n.selectedArtifactId))==null?void 0:S.title)||t.__("Artifact")),1)])]),i("div",Jl,[i("div",tr,[!s.selectedRunnable&&!s.isExtensionUI?(o(),r("button",{key:0,class:$([{active:n.artifactsViewMode==="preview"},"artifacts-mode-btn"]),onClick:e[1]||(e[1]=x=>s.switchViewMode("preview")),type:"button"},d(t.__("Preview")),3)):_("",!0),i("button",{class:$([{active:n.artifactsViewMode==="code"},"artifacts-mode-btn"]),onClick:e[2]||(e[2]=x=>s.switchViewMode("code")),type:"button"},d(t.__("Code")),3),s.selectedRunnable?(o(),r("button",{key:1,class:$([{active:n.artifactsViewMode==="output"},"artifacts-mode-btn"]),onClick:e[3]||(e[3]=x=>s.switchViewMode("output")),type:"button"},d(t.__("Run")),3)):_("",!0)]),s.selectedRunnable?(o(),r("button",{key:0,class:"artifacts-settings-btn",type:"button",disabled:s.selectedRunState&&s.selectedRunState.state==="running",title:t.__("Run artifact in sandbox"),onClick:e[4]||(e[4]=(...x)=>s.runArtifactFromModal&&s.runArtifactFromModal(...x))},[s.selectedRunState&&s.selectedRunState.state==="running"?(o(),r("span",ir)):(o(),E(u,{key:1,icon:"fa fa-play"}))],8,er)):_("",!0),s.selectedArtifact&&s.selectedArtifact.content?(o(),r("button",{key:1,class:"artifacts-settings-btn",type:"button",title:t.__("Download"),onClick:e[5]||(e[5]=(...x)=>s.downloadSelectedArtifact&&s.downloadSelectedArtifact(...x))},[b(u,{icon:"fa-solid fa-arrow-down"})],8,ar)):_("",!0),i("button",{class:"artifacts-close-btn",onClick:e[6]||(e[6]=(...x)=>s.closeArtifactsPanel&&s.closeArtifactsPanel(...x)),type:"button",title:t.__("Close")},[b(u,{icon:"fa fa-times"})],8,sr)])]),n.currentArtifacts&&n.currentArtifacts.length>1?(o(),r("div",or,[(o(!0),r(L,null,B(n.currentArtifacts,x=>(o(),r("button",{key:x.id,class:$([{active:n.selectedArtifactId===x.id},"artifacts-tab-btn"]),onClick:I=>s.selectArtifact(x.id),type:"button"},d(x.title||t.__("Untitled")),11,nr))),128))])):_("",!0),i("div",lr,[n.currentArtifacts&&n.selectedArtifactId?(o(),r(L,{key:0},[n.artifactsViewMode==="preview"?(o(),r("div",rr,[b(C,{artifact:n.currentArtifacts.find(x=>x.id===n.selectedArtifactId)},null,8,["artifact"])])):n.artifactsViewMode==="code"?(o(),r("div",dr,[i("div",cr,[i("span",ur,d((n.currentArtifacts.find(x=>x.id===n.selectedArtifactId)||{}).language||"text"),1),i("button",{class:"code-copy-btn",onClick:e[7]||(e[7]=(...x)=>s.copyArtifactCode&&s.copyArtifactCode(...x)),type:"button"},[b(u,{icon:"fa fa-copy"}),U(" "+d(t.__("Copy")),1)])]),i("pre",hr,d((n.currentArtifacts.find(x=>x.id===n.selectedArtifactId)||{}).content),1)])):(o(),r("div",pr,[s.selectedRunState?s.selectedRunState&&!((A=s.selectedRunState.result)!=null&&A.browserPreview)?(o(),r("div",_r,[i("div",vr,[i("span",{class:$(["artifact-pill",`state-${s.selectedRunState.state}`])},d(t.__("Status"))+": "+d(s.selectedRunState.state),3),s.selectedRunState.result?(o(),r("span",br,d(t.__("Exit"))+" "+d(s.selectedRunState.result.exitCode)+"  "+d(s.selectedRunState.result.durationMs)+"ms ",1)):_("",!0)]),s.selectedRunState.error?(o(),r("pre",wr,d(s.selectedRunState.error),1)):_("",!0),s.selectedRunState.result?(o(),r(L,{key:1},[s.selectedRunState.result.stdout?(o(),r("div",yr,[e[13]||(e[13]=i("div",{class:"artifact-log-header"},"STDOUT",-1)),i("pre",xr,d(s.selectedRunState.result.stdout),1)])):_("",!0),s.selectedRunState.result.stderr?(o(),r("div",kr,[i("pre",Cr,d(s.selectedRunState.result.stderr),1)])):_("",!0),s.selectedRunState.result.html?(o(),r("iframe",{key:2,title:"artifact-output",srcdoc:s.selectedRunState.result.html,sandbox:"allow-scripts",class:"artifact-iframe"},null,8,$r)):_("",!0),s.selectedRunState.result.output_files&&s.selectedRunState.result.output_files.length>0?(o(),r("div",Lr,[e[14]||(e[14]=i("h4",null,"Generated Files",-1)),i("ul",null,[(o(!0),r(L,null,B(s.selectedRunState.result.output_files,x=>(o(),r("li",{key:x.file_id},[i("a",{href:x.download_url,download:x.filename,class:"output-file-link"},"  "+d(x.filename),9,Sr),i("span",Mr," ("+d(s.formatFileSize(x.size))+") ",1)]))),128))])])):_("",!0)],64)):_("",!0)])):_("",!0):(o(),r("div",gr,[i("div",fr,d(t.__("No output yet")),1),i("div",mr,d(t.__("Click Run to execute this artifact.")),1)]))]))],64)):(o(),r("div",Tr,d(t.__("No artifact selected")),1))])],4)],2)):_("",!0),t.voice_url?(o(),r("audio",{key:2,autoplay:"",class:"ait-max-h-auto ait-hidden ait-max-w-xs",onEnded:e[9]||(e[9]=x=>{t.voice_url=null,t.voice_play=!1}),onPlay:e[10]||(e[10]=x=>t.voice_play=!0)},[i("source",{src:t.voice_url||""},null,8,Hr),e[15]||(e[15]=U("Your browser does not support the video tag. "))],32)):_("",!0)],64)}const Pr=R($n,[["render",Ar],["__scopeId","data-v-1387abef"]]),Ir={name:"AgentLogo",extends:O,props:{agent:{type:Object,required:!0},type:{type:String,default:"list"}},mounted(){}},Ur=["src"];function Er(t,e,a,l,n,s){var c;const u=y("font-awesome-icon");return t.Helpers.simpleSymbols(t.Helpers.notUndefined(a.agent,"icon"))?(o(),r("span",Ct({key:0,class:t.$attrs.class?"":"ait-text-2xl"},t.$attrs),d(t.Helpers.notUndefined(a.agent,"icon")),17)):((c=t.Helpers.notUndefined(a.agent,"icon"))==null?void 0:c.toString().indexOf("fa-"))!==-1?(o(),E(u,Ct({key:1,icon:t.Helpers.notUndefined(a.agent,"icon")||"fa-solid fa-robot",class:"ait-text-white ait-w-4 ait-h-4"},t.$attrs),null,16,["icon"])):t.Helpers.notUndefined(a.agent,"icon")?(o(),r("img",Ct({key:2,src:t.Helpers.notUndefined(a.agent,"icon"),class:"ait-text-white ait-w-16"},t.$attrs),null,16,Ur)):(o(),E(u,Ct({key:3,icon:"fa-solid fa-robot",class:"ait-w-4 ait-h-4"},t.$attrs),null,16))}const bi=R(Ir,[["render",Er]]),jr={components:{AgentLogo:bi},extends:O,data(){return{isHovered:{}}},props:{selected_agent:{type:Object,required:!1,default:null}},methods:{async askOriginal(t){this.changeStorage("settings.web_access",!1),await this.aiChat(t,this.settings.ai_model),this.changeStorage("settings.web_access",!0)},isPageContextMessage(t){var e,a;try{if(!(t!=null&&t.item))return!1;if(((a=(e=t.extra_data)==null?void 0:e.contextData)==null?void 0:a.mode)==="pagecontext")return!0;if(typeof t.item=="string"&&t.item.startsWith("{")&&t.item.endsWith("}")){const l=JSON.parse(t.item);return(l==null?void 0:l.type)==="pagecontext"}return!1}catch{return!1}},getPageContextData(t){var e,a;try{return((a=(e=t.extra_data)==null?void 0:e.contextData)==null?void 0:a.mode)==="pagecontext"?JSON.parse(t.extra_data.contextData):JSON.parse(t.item)}catch{return null}},formatPageContextMessage(t){try{const e=this.getPageContextData(t);return e&&e.response||t.item}catch{return t.item}}}},Rr={key:0,class:"ait-h-full",id:"aitopia-message"},Br=["aria-details","onMouseover","onMouseout"],Dr={key:0,class:"ait-px-6 ait-py-4"},Or={class:"ait-border ait-rounded-lg ait-bg-neutral-100 dark:ait-bg-neutral-800 ait-p-3"},zr={class:"ait-flex ait-flex-col ait-gap-2"},Vr={class:"ait-flex ait-items-center ait-justify-between"},Fr={class:"ait-flex ait-items-center ait-gap-2"},qr={class:"ait-text-sm ait-font-medium"},Nr={class:"ait-flex ait-items-center ait-gap-2 ait-mt-2"},Zr=["src"],Wr={class:"ait-flex ait-flex-col"},Gr={class:"ait-text-sm ait-font-medium"},Kr=["href"],Yr={class:"ait-text-xs ait-text-neutral-500 ait-mt-2"},Qr={key:0,class:"ait-border ait-rounded-lg ait-bg-neutral-100 dark:ait-bg-neutral-800 ait-p-3 ait-mt-2"},Xr={class:"ait-flex ait-items-center ait-gap-3"},Jr={class:"ait-flex ait-items-center ait-gap-1.5 ait-px-2.5 ait-py-1 ait-rounded-full ait-bg-neutral-500"},td={class:"ait-text-xs ait-font-medium ait-text-white ait-text-nowrap"},ed={class:"ait-text-xs ait-text-neutral-500"},id={class:"ait-flex ait-p-2 ait-text-[10px] dark:ait-text-gray-200 ait-flex-col ait-items-start ait-justify-start ait-gap-2"},ad={class:"ait-flex ait-items-center ait-space-x-2"},sd={key:0,class:"ait-px-6"},od={class:"ait-text-xs ait-flex ait-justify-start ait-items-start ait-gap-2"},nd={class:"ait-flex ait-justify-center ait-items-center ait-gap-2"},ld={class:"ait-text-gray-600 dark:ait-text-gray-400 ait-whitespace-nowrap"},rd={class:"ait-text-gray-900 dark:ait-text-gray-100 ait-break-words"},dd={class:"dark:ait-bg-neutral-900 ait-px-6 ait-py-4 ai_result_container"},cd={class:"ait-flex ait-flex-col"},ud={class:"ait-flex ait-flex-row ait-items-center"},hd=["innerHTML"],pd={key:0,class:"ait-ml-6 ait-flex ait-items-end"},gd={key:0},fd={key:1,class:"dots"},md={key:2},_d={key:3,class:"dots"},vd={key:0,class:"ai-question-container ait-grid ait-grid-cols-2 ait-items-start ait-gap-3 ait-mt-3"},bd={class:"ait-text-sm ait-font-semibold ait-text-neutral-900 dark:ait-text-gray-200 ait-col-span-2"},wd=["data-question"],yd={key:1,class:"ait-pl-2"},xd=["onClick"],kd={key:2,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200"},Cd={class:"ait-w-2/3 ait-py-4 ait-ml-auto ait-text-right"},$d={type:"button",class:"ait-text-white ait-bg-green-700 hover:ait-opacity-90 focus:ait-outline-none focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-full ait-text-sm ait-px-5 ait-py-1 ait-text-center ait-ml-5 ait-mr-2 dark:ait-bg-green-600 dark:hover:ait-bg-green-700 dark:focus:ait-ring-green-800 aitopia-pricing"},Ld={key:3,class:"ait-py-1 [&_*]:ait-text-red-800 dark:[&_*]:ait-text-red-200 [&_*]:ait-bg-neutral-100 dark:[&_*]:ait-bg-neutral-900"},Sd=["innerHTML"],Md={key:4,class:"ait-p-2"},Td={class:"ait-flex ait-items-center ait-justify-between ait-p-3 ait-space-x-3 ait-border ait-border-neutral-200 dark:ait-border-neutral-600 ait-rounded-xl ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200"},Hd=["innerHTML"],Ad=["src"],Pd={key:0,class:"ait-w-2/3 ait-py-4 ait-ml-auto ait-text-right"},Id=["src"],Ud={key:0,class:"ait-absolute -ait-bottom-2.5 ait-right-2"},Ed={class:"ait-flex ait-flex-row ait-items-center ait-justify-center ait-gap-1"},jd=["onClick"],Rd={key:6,id:"ait-continue-chat-ai_chat",class:"ait-continue-chat ait-flex ait-items-center ait-justify-center ait-absolute ait-w-full"},Bd=["data-title"],Dd={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-justify-center"},Od={key:7,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 ait-text-red-800 dark:ait-text-red-200"},zd={class:"ait-py-4 ait-text-center ait-text-red-800 dark:ait-text-red-200"},Vd={href:"https://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter",class:"ait-text-blue-800 dark:ait-text-blue-400 hover:ait-text-blue-600",style:{"text-decoration":"underline"},target:"_blank"},Fd={class:"ait-flex ait-items-center ait-text-white ait-px-5 ait-py-2.5 ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 ait-font-medium ait-text-sm ait-rounded-lg ait-transition-all ait-duration-200 ait-cursor-pointer"},qd={class:"ait-text-white"},Nd=["src"];function Zd(t,e,a,l,n,s){const u=y("font-awesome-icon"),c=y("AgentLogo"),p=y("AiEvents"),m=y("ResponseTools"),h=y("file-button"),v=y("HoverPopover");return o(),r(L,null,[this.ai_chat?(o(),r("div",Rr,[(o(!0),r(L,null,B(this.ai_chat,(g,w)=>{var C,S,A,x,I,Y,ot,K,ct,H,z,mt,ut,et,N,vt,$t,kt,wt;return o(),r(L,null,[g!=null?(o(),r("div",{"aria-details":`chat-key-${w}`,class:$({"ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-gray-200 ait-mt-[2px] ait-mb-[2px]":g.role=="system"||g.role=="assistant"}),onMouseover:xt=>n.isHovered[w]=!0,onMouseout:xt=>n.isHovered[w]=!1,key:w},[s.isPageContextMessage(g)&&g.role=="user"?(o(),r("div",Dr,[i("div",Or,[i("div",zr,[i("div",Vr,[i("div",Fr,[b(u,{icon:"fa-solid fa-book",class:"ait-w-4 ait-h-4 ait-text-neutral-500"}),i("span",qr,d(t.__("Page Content")),1)])]),i("div",Nr,[(S=(C=g.extra_data)==null?void 0:C.contextData)!=null&&S.favicon?(o(),r("img",{key:0,src:(x=(A=g.extra_data)==null?void 0:A.contextData)==null?void 0:x.favicon,class:"ait-w-4 ait-h-4",alt:"Page favicon"},null,8,Zr)):_("",!0),i("div",Wr,[i("span",Gr,d(((Y=(I=g.extra_data)==null?void 0:I.contextData)==null?void 0:Y.title)||""),1),i("a",{href:(K=(ot=g.extra_data)==null?void 0:ot.contextData)==null?void 0:K.url,target:"_blank",rel:"noopener noreferrer",class:"ait-text-xs ait-text-[var(--ait-link-color)] hover:ait-underline ait-truncate ait-max-w-[300px] ait-cursor-pointer ait-flex ait-items-center ait-gap-1"},[U(d(((H=(ct=g.extra_data)==null?void 0:ct.contextData)==null?void 0:H.url)||"")+" ",1),b(u,{icon:"fa-solid fa-external-link",class:"ait-w-3 ait-h-3"})],8,Kr)])]),i("div",Yr,d((mt=(z=s.getPageContextData(g))==null?void 0:z.contextData)==null?void 0:mt.prompt),1)])]),(et=(ut=g.extra_data)==null?void 0:ut.contextData)!=null&&et.actionType?(o(),r("div",Qr,[i("div",Xr,[i("div",Jr,[i("span",td,"  "+d(t.__(g.extra_data.contextData.actionType.label)),1)]),i("div",ed,d(g.extra_data.contextData.actionType.description||t.__("No description available")),1)])])):_("",!0)])):g.role=="system"||g.role=="assistant"?(o(),r(L,{key:1},[i("div",id,[i("div",ad,[a.selected_agent?(o(),E(c,{key:0,agent:a.selected_agent,class:"ait-text-xl ait-w-6"},null,8,["agent"])):_("",!0),i("span",null,d((N=a.selected_agent)==null?void 0:N.title),1)]),t.Helpers.notUndefined(g.extra_data,"search.questions")?(o(),r("div",sd,[i("div",od,[i("div",nd,[b(u,{icon:"fa fa-search",class:"ait-w-3 ait-h-3"}),i("span",ld,d(t.__("Searched for: ")),1)]),i("p",rd,d(t.Helpers.cleanTextEmpty(g.extra_data.search.original_ask)),1)])])):_("",!0)]),i("div",dd,[i("div",cd,[b(p,{chat_key:w==null?void 0:w.toString()},null,8,["chat_key"]),i("div",ud,[i("div",{class:$(`ai_result ${g.loading?"ai_loading":""}`),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(s.isPageContextMessage(g)?s.formatPageContextMessage(g):g.item)).replace(/\n/,"<br>")},null,10,hd),g.loading&&!g.item?(o(),r("div",pd,[g.model.indexOf("Vision")!==-1?(o(),r("span",gd,d(t.__("Analyzing")),1)):_("",!0),g.model.indexOf("Vision")!==-1?(o(),r("span",fd)):_("",!0),(this.getModelDetails(g.model).use_think??0)==1?(o(),r("span",md,d(t.__("Thinking")),1)):_("",!0),(this.getModelDetails(g.model).use_think??0)==1?(o(),r("span",_d)):_("",!0)])):_("",!0)]),t.Helpers.notUndefined(g.extra_data,"search.questions")&&((kt=($t=(vt=g.extra_data)==null?void 0:vt.search)==null?void 0:$t.questions)==null?void 0:kt.length)>0?(o(),r("div",vd,[i("span",bd,d(t.__("Related Questions"))+":",1),(o(!0),r(L,null,B(t.Helpers.notUndefined(g.extra_data,"search.questions"),(xt,Ut)=>(o(),r("div",{class:"ait-action-question ait-flex ait-cursor-pointer ait-flex-col ait-leading-1.5 ait-p-2 hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-white ait-text-xs ait-font-normal ait-text-neutral-900 dark:ait-text-gray-200 ait-border-neutral-200 ait-bg-neutral-200 ait-rounded-e-xl ait-rounded-es-xl dark:ait-bg-neutral-700 ait-transition-all","data-question":xt},d(xt),9,wd))),256))])):_("",!0),i("div",{class:$(["ait-relative ait-z-[999] ait-mt-3 ait-flex ait-items-center ait-float-right ait-cursor-pointer ait-gap-2 ait-divide-x-[0.5px] ait-divide-neutral-300 dark:ait-divide-neutral-700",{"ait-opacity-100":n.isHovered[w],"ait-opacity-0":!n.isHovered[w]&&w!=t.ai_chat.length-1}])},[g?(o(),E(m,{key:0,value:g},null,8,["value"])):_("",!0),t.Helpers.notUndefined(g.extra_data,"search.questions")?(o(),r("div",yd,[i("button",{type:"button",onClick:xt=>s.askOriginal(g.extra_data.search.original_ask),class:"ait-cursor-pointer ait-w-full ait-font-semibold ait-text-[var(--ait-link-color)] ait-text-xs ait-py-1 ait-px-2 ait-rounded-full ait-flex ait-items-center ait-gap-1 ait-justify-center ait-bg-transparent hover:ait-bg-neutral-200 dark:hover:ait-bg-neutral-700 ait-transition-all"},[b(u,{icon:"fa fa-search",class:"ait-w-3 ait-h-3"}),U(" "+d(t.__("Ask original"))+" "+d(this.settings.ai_model),1)],8,xd)])):_("",!0)],2),e[2]||(e[2]=i("div",{class:"ait-clear-both"},null,-1))])])],64)):g.role=="limit"?(o(),r("div",kd,[i("div",Cd,[U(d(t.__("Your usage limit has been reached. Please upgrade your plan to continue using."))+" ",1),i("button",$d,d(t.__("Upgrade")),1)])])):g.role=="error"?(o(),r("div",Ld,[i("div",{class:"ait-px-3 ait-py-4 [&_*]:ait-text-center",innerHTML:t.AiApi.prefixify(t.AiApi.linkify(g.item)).replace(/\n/g,"<br/>")},null,8,Sd)])):g.role=="image"?(o(),r("div",Md,[i("div",Td,[i("div",null,[i("div",{class:$(`ai_result ${g.loading?"ai_loading":""}`),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(g.item)).replace(/\n/g,"<br/>")},null,10,Hd),g.images?(o(!0),r(L,{key:0},B(g.images,xt=>(o(),r("div",null,[xt.url?(o(),r("img",{key:0,src:xt.url},null,8,Ad)):_("",!0)]))),256)):_("",!0)])])])):(o(),r("div",{key:5,class:$(`ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200 ${t.Helpers.notUndefined(g.extra_data,"ai_image_url")?"ait-py-4":" ait-py-1"}`)},[t.Helpers.notUndefined(g,"title")?(o(),r("div",Pd,[i("div",null,[t.Helpers.notUndefined(t.Helpers.filenameByFaIcon(g.title,null),"name")=="lines"?(o(),r(L,{key:0},[U(d(g.title),1)],64)):(o(),E(h,{key:1,title:g.title},null,8,["title"]))]),i("div",{class:$(["ait-relative ait-z-[999] ait-mt-3 ait-flex ait-items-center ait-float-right ait-cursor-pointer ait-gap-2 ait-divide-x-[0.5px] ait-divide-neutral-300 dark:ait-divide-neutral-700",{"ait-opacity-100":n.isHovered[w],"ait-opacity-0":!n.isHovered[w]}])},[g?(o(),E(m,{key:0,value:g},null,8,["value"])):_("",!0)],2)])):(o(),r("div",{key:1,class:$(`ait-flex ait-flex-col ait-gap-1 ait-w-1/2 ait-ml-auto ait-py-4 ${t.Helpers.notUndefined(g.extra_data,"ai_image_url")?"ait-px-4 ait-rounded-md ait-w-[250px] ait-rounded-tr-none ait-bg-[var(--ait-link-color)]":""}`)},[t.Helpers.notUndefined(g.extra_data,"ai_image_url")?(o(),r(L,{key:0},[g.extra_data.ai_image_url?(o(),r("img",{key:0,src:g.extra_data.ai_image_url,class:"ait-rounded-md"},null,8,Id)):_("",!0)],64)):_("",!0),i("div",null,[i("div",{class:$(`${t.Helpers.notUndefined(g.extra_data,"ai_image_url")?"ait-text-white ait-text-left":"ait-text-right"}`)},d(s.isPageContextMessage(g)?(wt=s.getPageContextData(g))==null?void 0:wt.context:g.item),3),t.Helpers.notUndefined(g.extra_data,"ai_image_url")?(o(),r("div",Ud,[i("template",Ed,[i("div",{class:$(`ait-bg-neutral-200 dark:ait-bg-neutral-950 ait-p-1 ait-rounded-md ait-justify-center ait-flex ait-items-center ait-float-right ait-cursor-pointer ${n.isHovered[w]?"ait-opacity-100":"ait-opacity-0"}`),onClick:xt=>this.Helpers.setAIImageURL(g.extra_data.ai_image_url)},[b(v,{"popover-text":t.__("Quote")},{default:D(()=>[b(u,{icon:"fa-solid fa-quote-right",class:"ait-w-3 ait-h-3"})]),_:1},8,["popover-text"])],10,jd)])])):_("",!0),i("div",{class:$(["ait-relative ait-z-[999] ait-mt-3 ait-flex ait-items-center ait-float-right ait-cursor-pointer ait-gap-2 ait-divide-x-[0.5px] ait-divide-neutral-300 dark:ait-divide-neutral-700",{"ait-opacity-100":n.isHovered[w],"ait-opacity-0":!n.isHovered[w]}])},[g?(o(),E(m,{key:0,value:g},null,8,["value"])):_("",!0)],2)])],2))],2)),t.Helpers.notUndefined(g,"finish_reason")=="length"?(o(),r("div",Rd,[i("button",{"data-title":t.__("Continue"),class:"ait-text-white hover:ait-opacity-90 ait-font-small ait-text-md ait-px-3 ait-py-1.5 ait-my-2 ait-rounded-md dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-items-center ait-justify-center"},[i("div",Dd,[b(u,{icon:"fa-solid fa-play",class:"ait-h-4 ait-w-4"}),U(" "+d(t.__("Continue generating")),1)])],8,Bd)])):_("",!0),t.Helpers.notUndefined(g,"finish_reason")=="content_filter"?(o(),r("div",Od,[i("div",zd,[U(d(t.__("Response is stopped due to Content Filtering Policy. Please try again later by obeying the"))+" ",1),i("a",Vd,d(t.__("Content Filtering Policy")),1)])])):_("",!0)],42,Br)):_("",!0)],64)}),256)),i("div",{id:"ait-stop-chat-ai_chat",class:$(["ait-stop-chat ait-items-center ait-justify-center ait-sticky ait-top-0 ait-w-full ait-py-2 ait-z-50 ait-bg-white/80 dark:ait-bg-neutral-900/80 ait-backdrop-blur-sm",{"ait-hide":!this.ai_wait,"ait-flex":this.ai_wait}])},[i("button",Fd,[b(u,{icon:"fa-solid fa-stop",class:"ait-w-4 ait-h-4 ait-mr-3"}),i("span",qd,d(t.__("Stop generating")),1)])],2)])):_("",!0),this.voice_url?(o(),r("audio",{key:1,autoplay:"",class:"ait-max-h-auto ait-hidden ait-max-w-xs",onEnded:e[0]||(e[0]=g=>{this.voice_url=null,this.voice_play=!1}),onPlay:e[1]||(e[1]=g=>this.voice_play=!0)},[i("source",{src:this.voice_url},null,8,Nd),e[3]||(e[3]=U("Your browser does not support the video tag. "))],32)):_("",!0)],64)}const Wd=R(jr,[["render",Zd]]),Gd={extends:O,data(){return{isHovered:{},responseTransitioning:!1}},computed:{isInitialized(){var t;return((t=this.ai_single)==null?void 0:t[f.SHA1("chat_with_file")])!==void 0}},methods:{async askOriginal(t){this.changeStorage("settings.web_access",!1),await this.aiChat(t,this.settings.ai_model),this.changeStorage("settings.web_access",!0)}}},Kd=["aria-details","onMouseover","onMouseout"],Yd={class:"ait-flex ait-p-2 ait-text-[10px] dark:ait-text-gray-200 ait-flex-col ait-items-start ait-justify-start ait-gap-2 ait-transition-all"},Qd={class:"ait-flex ait-items-center ait-space-x-2"},Xd={key:0,class:"ait-px-6"},Jd={class:"ait-text-xs ait-flex ait-justify-start ait-items-start ait-gap-2"},t1={class:"ait-flex ait-justify-center ait-items-center ait-gap-2"},e1={class:"ait-text-gray-600 dark:ait-text-gray-400 ait-whitespace-nowrap"},i1={class:"ait-text-gray-900 dark:ait-text-gray-100 ait-break-words"},a1={class:"dark:ait-bg-neutral-900 ait-px-6 ait-py-4 ai_result_container"},s1={class:"ait-flex ait-flex-col"},o1={class:"ait-flex ait-flex-row ait-items-start"},n1={class:"ait-flex-1 ait-min-h-[20px]"},l1=["innerHTML"],r1={key:0,class:"ait-ml-4 ait-flex ait-items-center ait-h-[20px]"},d1={key:0},c1={key:1},u1={key:0,class:"ai-question-container ait-grid ait-grid-cols-2 ait-items-start ait-gap-3 ait-mt-3"},h1={class:"ait-text-sm ait-font-semibold ait-text-neutral-900 dark:ait-text-gray-200 ait-col-span-2"},p1=["data-question"],g1={key:1,class:"ait-pl-2"},f1=["onClick"],m1={key:1,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200"},_1={class:"ait-w-2/3 ait-py-4 ait-ml-auto ait-text-right"},v1={type:"button",class:"ait-text-white ait-bg-green-700 hover:ait-bg-green-800 focus:ait-outline-none focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-full ait-text-sm ait-px-5 ait-py-1 ait-text-center ait-ml-5 ait-mr-2 dark:ait-bg-green-600 dark:hover:ait-bg-green-700 dark:focus:ait-ring-green-800 aitopia-pricing"},b1={key:2,class:"ait-py-1 [&_*]:ait-text-red-800 dark:[&_*]:ait-text-red-200 [&_*]:ait-bg-neutral-100 dark:[&_*]:ait-bg-neutral-900"},w1=["innerHTML"],y1={key:3,class:"ait-p-2"},x1={class:"ait-flex ait-items-center ait-justify-between ait-p-3 ait-space-x-3 ait-border ait-border-neutral-200 dark:ait-border-neutral-600 ait-rounded-xl ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200"},k1=["innerHTML"],C1=["src"],$1={key:0,class:"ait-w-2/3 ait-py-4 ait-ml-auto ait-text-right"},L1=["src"],S1=["innerHTML"],M1={key:0,class:"ait-absolute -ait-bottom-2.5 ait-right-2"},T1={class:"ait-flex ait-flex-row ait-items-center ait-justify-center ait-gap-1"},H1=["onClick"],A1={key:5,id:"ait-continue-chat-ai_chat",class:"ait-continue-chat ait-flex ait-items-center ait-justify-center ait-absolute ait-w-full"},P1=["data-title"],I1={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-justify-center"},U1={key:6,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 ait-text-red-800 dark:ait-text-red-200"},E1={class:"ait-py-4 ait-text-center ait-text-red-800 dark:ait-text-red-200"},j1={href:"https://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter",class:"ait-text-blue-800 dark:ait-text-blue-400 hover:ait-text-blue-600",style:{"text-decoration":"underline"},target:"_blank"},R1={key:0,id:"ait-stop-chat-ai_chat",class:"ait-stop-chat ait-flex ait-items-center ait-justify-center ait-sticky ait-top-0 ait-w-full ait-py-2 ait-z-50 ait-bg-white/80 dark:ait-bg-neutral-900/80 ait-backdrop-blur-sm"},B1={class:"ait-flex ait-items-center ait-text-white ait-px-5 ait-py-2.5 ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 ait-font-medium ait-text-sm ait-rounded-lg ait-transition-all ait-duration-200 ait-cursor-pointer"},D1={class:"ait-text-white"};function O1(t,e,a,l,n,s){const u=y("ModelLogo"),c=y("font-awesome-icon"),p=y("ResponseTools"),m=y("file-button"),h=y("HoverPopover");return s.isInitialized?(o(),r("div",{key:0,class:$(["ait-h-full",{"ait-opacity-0":!s.isInitialized,generating:this.ai_wait}]),id:"aitopia-message"},[(o(!0),r(L,null,B(this.ai_single[t.Helpers.SHA1("chat_with_file")],(v,g)=>{var w,C,S,A,x;return o(),r(L,null,[v!=null?(o(),r("div",{key:0,"aria-details":`chat-key-${g}`,class:$(v.role=="system"||v.role=="assistant"?"ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-gray-200 ait-mt-[2px] ait-mb-[2px]":""),onMouseover:I=>n.isHovered[g]=!0,onMouseout:I=>n.isHovered[g]=!1},[v.role=="system"||v.role=="assistant"?(o(),r(L,{key:0},[i("div",Yd,[i("div",Qd,[b(u,{class:"ait-w-[16px] ait-h-[16px]",model:v.model,check_logo:!0},null,8,["model"]),i("span",null,d(v.model),1)]),t.Helpers.notUndefined(v==null?void 0:v.extra_data_data,"search.questions")?(o(),r("div",Xd,[i("div",Jd,[i("div",t1,[b(c,{icon:"fa fa-search",class:"ait-w-3 ait-h-3"}),i("span",e1,d(t.__("Searched for: ")),1)]),i("p",i1,d(t.Helpers.cleanTextEmpty(v==null?void 0:v.extra_data_data.search.original_ask)),1)])])):_("",!0)]),i("div",a1,[i("div",s1,[i("div",o1,[i("div",n1,[i("div",{class:$(`ai_result ${v.loading?"ai_loading":""}`),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(v.item)).replace(/\n/g,"<br>")},null,10,l1)]),v.loading&&!v.item?(o(),r("div",r1,[v.model.indexOf("Vision")!==-1?(o(),r("span",d1,[U(d(t.__("Analyzing")),1),e[0]||(e[0]=i("span",{class:"dots"},null,-1))])):_("",!0),(this.getModelDetails(v).use_think??0)==1?(o(),r("span",c1,[U(d(t.__("Thinking")),1),e[1]||(e[1]=i("span",{class:"dots"},null,-1))])):_("",!0)])):_("",!0)]),t.Helpers.notUndefined(v==null?void 0:v.extra_data_data,"search.questions")&&((S=(C=(w=v==null?void 0:v.extra_data_data)==null?void 0:w.search)==null?void 0:C.questions)==null?void 0:S.length)>0?(o(),r("div",u1,[i("span",h1,d(t.__("Related Questions"))+":",1),(o(!0),r(L,null,B(t.Helpers.notUndefined(v==null?void 0:v.extra_data_data,"search.questions"),(I,Y)=>(o(),r("div",{class:"ait-action-question ait-flex ait-cursor-pointer ait-flex-col ait-leading-1.5 ait-p-2 hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-white ait-text-xs ait-font-normal ait-text-neutral-900 dark:ait-text-gray-200 ait-border-neutral-200 ait-bg-neutral-200 ait-rounded-e-xl ait-rounded-es-xl dark:ait-bg-neutral-700 ait-transition-all","data-question":I},d(I),9,p1))),256))])):_("",!0),i("div",{class:$(["ait-relative ait-z-[999] ait-mt-3 ait-flex ait-items-center ait-float-right ait-cursor-pointer ait-gap-2 ait-divide-x-[0.5px] ait-divide-neutral-300 dark:ait-divide-neutral-700",{"ait-opacity-100":n.isHovered[g],"ait-opacity-0":!n.isHovered[g]&&g!=t.ai_chat.length-1}])},[v?(o(),E(p,{key:0,value:v},null,8,["value"])):_("",!0),t.Helpers.notUndefined(v==null?void 0:v.extra_data_data,"search.questions")?(o(),r("div",g1,[i("button",{type:"button",onClick:I=>s.askOriginal(v==null?void 0:v.extra_data_data.search.original_ask),class:"ait-cursor-pointer ait-w-full ait-font-semibold ait-text-[var(--ait-link-color)] ait-text-xs ait-py-1 ait-px-2 ait-rounded-full ait-flex ait-items-center ait-gap-1 ait-justify-center ait-bg-transparent hover:ait-bg-neutral-200 dark:hover:ait-bg-neutral-700 ait-transition-all"},[b(c,{icon:"fa fa-search",class:"ait-w-3 ait-h-3"}),U(" "+d(t.__("Ask original"))+" "+d(this.settings.ai_model),1)],8,f1)])):_("",!0)],2),e[2]||(e[2]=i("div",{class:"ait-clear-both"},null,-1))])])],64)):v.role=="limit"?(o(),r("div",m1,[i("div",_1,[U(d(t.__("Your usage limit has been reached. Please upgrade your plan to continue using."))+" ",1),i("button",v1,d(t.__("Upgrade")),1)])])):v.role=="error"?(o(),r("div",b1,[i("div",{class:"ait-px-3 ait-py-4 [&_*]:ait-text-center",innerHTML:t.AiApi.prefixify(t.AiApi.linkify(v.item)).replace(/\n/g,"<br/>")},null,8,w1)])):v.role=="image"?(o(),r("div",y1,[i("div",x1,[i("div",null,[i("div",{class:$(`ai_result ${v.loading?"ai_loading":""}`),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(v.item)).replace(/\n/g,"<br/>")},null,10,k1),v.images?(o(!0),r(L,{key:0},B(v.images,I=>(o(),r("div",null,[I.url?(o(),r("img",{key:0,src:I.url},null,8,C1)):_("",!0)]))),256)):_("",!0)])])])):(o(),r("div",{key:4,class:$(`ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200 ${t.Helpers.notUndefined(v==null?void 0:v.extra_data_data,"ai_image_url")?"ait-py-4":" ait-py-1"}`)},[t.Helpers.notUndefined(v,"title")?(o(),r("div",$1,[i("div",null,[t.Helpers.notUndefined(t.Helpers.filenameByFaIcon(v.title,null),"name")=="lines"?(o(),r(L,{key:0},[U(d(v.title),1)],64)):(o(),E(m,{key:1,title:v.title},null,8,["title"]))]),i("div",{class:$(["ait-relative ait-z-[999] ait-mt-3 ait-flex ait-items-center ait-float-right ait-cursor-pointer ait-gap-2 ait-divide-x-[0.5px] ait-divide-neutral-300 dark:ait-divide-neutral-700",{"ait-opacity-100":n.isHovered[g],"ait-opacity-0":!n.isHovered[g]}])},[v?(o(),E(p,{key:0,value:v},null,8,["value"])):_("",!0)],2)])):(o(),r("div",{key:1,class:$(`ait-flex ait-flex-col ait-gap-1 ait-w-2/3 ait-ml-auto ait-py-4 ${t.Helpers.notUndefined(v==null?void 0:v.extra_data_data,"ai_image_url")?"ait-px-4 ait-rounded-md ait-w-[250px] ait-rounded-tr-none ait-bg-[var(--ait-link-color)]":""}`)},[t.Helpers.notUndefined(v==null?void 0:v.extra_data_data,"ai_image_url")?(o(),r(L,{key:0},[(A=v==null?void 0:v.extra_data)!=null&&A.ai_image_url?(o(),r("img",{key:0,src:(x=v==null?void 0:v.extra_data)==null?void 0:x.ai_image_url,class:"ait-rounded-md"},null,8,L1)):_("",!0)],64)):_("",!0),i("div",null,[i("div",{class:$(`${t.Helpers.notUndefined(v==null?void 0:v.extra_data_data,"ai_image_url")?"ait-text-white ait-text-left":"ait-text-right"}`),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(v.item)).replace(/\n/,"<br>")},null,10,S1),t.Helpers.notUndefined(v==null?void 0:v.extra_data_data,"ai_image_url")?(o(),r("div",M1,[i("template",T1,[i("div",{class:$(`ait-bg-neutral-200 dark:ait-bg-neutral-950 ait-p-1 ait-rounded-md ait-justify-center ait-flex ait-items-center ait-float-right ait-cursor-pointer ${n.isHovered[g]?"ait-opacity-100":"ait-opacity-0"}`),onClick:I=>this.Helpers.setAIImageURL(v==null?void 0:v.extra_data_data.ai_image_url)},[b(h,{"popover-text":t.__("Quote")},{default:D(()=>[b(c,{icon:"fa-solid fa-quote-right",class:"ait-w-3 ait-h-3"})]),_:1},8,["popover-text"])],10,H1)])])):_("",!0),i("div",{class:$(["ait-relative ait-z-[999] ait-mt-3 ait-flex ait-items-center ait-float-right ait-cursor-pointer ait-gap-2 ait-divide-x-[0.5px] ait-divide-neutral-300 dark:ait-divide-neutral-700",{"ait-opacity-100":n.isHovered[g],"ait-opacity-0":!n.isHovered[g]}])},[v?(o(),E(p,{key:0,value:v},null,8,["value"])):_("",!0)],2)])],2))],2)),t.Helpers.notUndefined(v,"finish_reason")=="length"?(o(),r("div",A1,[i("button",{"data-title":t.__("Continue"),class:"ait-text-white hover:ait-bg-green-800 ait-font-small ait-text-md ait-px-3 ait-py-1.5 ait-my-2 ait-rounded-md dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-items-center ait-justify-center"},[i("div",I1,[b(c,{icon:"fa-solid fa-play",class:"ait-h-4 ait-w-4"}),U(" "+d(t.__("Continue generating")),1)])],8,P1)])):_("",!0),t.Helpers.notUndefined(v,"finish_reason")=="content_filter"?(o(),r("div",U1,[i("div",E1,[U(d(t.__("Response is stopped due to Content Filtering Policy. Please try again later by obeying the"))+" ",1),i("a",j1,d(t.__("Content Filtering Policy")),1)])])):_("",!0)],42,Kd)):_("",!0)],64)}),256)),this.ai_wait?(o(),r("div",R1,[i("button",B1,[b(c,{icon:"fa-solid fa-stop",class:"ait-w-4 ait-h-4 ait-mr-3"}),i("span",D1,d(t.__("Stop generating")),1)])])):_("",!0)],2)):_("",!0)}const z1=R(Gd,[["render",O1],["__scopeId","data-v-3b4b1677"]]),V1={extends:O,props:["mode"]},F1={class:"ait-header ait-flex-shrink"},q1={class:"ait-w-full ait-bg-[transparent]"},N1={class:"ait-flex ait-items-center ait-w-full ait-p-0"},Z1={class:"ait-flex ait-items-center ait-justify-between ait-w-full"},W1={class:"ait-flex ait-items-center ait-justify-between"},G1={class:"ait-self-center ait-text-base ait-text-black ait-ml-2 dark:ait-text-gray-200 ait-whitespace-nowrap"},K1={class:"ait-flex ait-items-center ait-max-h-[50px]"},Y1={class:"ait-text-sm dark:ait-text-gray-200"},Q1={key:1,class:"ait-flex ait-items-center ait-space-x-2 ait-bg-[transparent]ait-rounded-full ait-p-1 ait-px-2"};function X1(t,e,a,l,n,s){const u=y("AppLogo"),c=y("SvgLogo");return o(),r("div",F1,[i("nav",q1,[i("div",N1,[i("div",Z1,[i("div",W1,[b(u,{name:"logo",className:"ait-w-8 ait-h-8 "}),i("div",G1,d(t.__(a.mode).toFirstUpperCase()),1)]),i("div",K1,[a.mode==null||a.mode=="chat"||a.mode=="search"?(o(),r("button",{key:0,onClick:e[0]||(e[0]=p=>this.newChat()),class:"ait-flex ait-items-center ait-space-x-2 ait-bg-transparent hover:ait-bg-[var(--ait-link-color)] ait-transition-all ait-rounded-full ait-p-1 ait-px-2"},[e[3]||(e[3]=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hide":"true",class:"ait-w-4 ait-h-4 dark:ait-text-gray-200"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)),i("span",Y1,d(t.__("New Conversation")),1)])):a.mode=="image"?(o(),r("button",Q1,[e[4]||(e[4]=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hide":"true",class:"ait-w-4 ait-h-4 dark:ait-text-gray-200"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)),i("span",{class:"ait-text-sm dark:ait-text-gray-200",onClick:e[1]||(e[1]=p=>this.newChat(null,"ai_single",t.Helpers.SHA1("image")))},d(t.__("New Conversation")),1)])):_("",!0),a.mode=="image"||a.mode==null||a.mode=="chat"||a.mode=="search"?(o(),r("button",{key:2,type:"button",class:"ait-ml-2 svg-logo",onClick:e[2]||(e[2]=p=>this.show_history_sidebar=!0)},[b(c,{name:"history_icon",className:"ait-h-6 ait-w-6"})])):_("",!0)])])])])])}const J1=R(V1,[["render",X1]]),tc=["innerHTML"],Pe=rt({__name:"SvgLogo",props:{name:{},className:{}},setup(t){return(e,a)=>ft(Wt)[e.name]?(o(),r("span",{key:0,innerHTML:String(ft(Wt)[e.name]??ft(Wt).logo).replace("<svg ",`<svg class="${e.className??""} ait-${e.name??""}" `)??""},null,8,tc)):_("",!0)}}),ec={components:{SvgLogo:Pe},extends:O},ic={class:"ait-switchbar ait-w-[60px] ait-min-w-[60px] ait-bg-[var(--ait-switchbar-bg-color)] ait-py-2 ait-flex ait-flex-col ait-items-center ait-gap-4 ait-h-full ait-flex-grow ait-overflow-x-hidden",style:{"box-shadow":"none"}},ac={class:"ait-w-8 ait-h-8 ait-flex ait-items-center ait-justify-center ait-rounded-lg ait-cursor-pointer text-[var(--ait-secondary-text-color)] hover:bg-[var(--ait-switchbar-btn-hover-bg-color)] !w-[30px] !h-[30px]"},sc={class:"ait-flex ait-flex-col ait-gap-2 ait-justify-center"},oc={class:"ait-pt-2 ait-text-[10px]"},nc={class:"ait-pt-2 ait-text-[10px]"},lc={class:"ait-pt-2 ait-text-[10px]"},rc={class:"ait-pt-2 ait-text-[10px]"},dc={class:"ait-pt-2 ait-text-[10px]"},cc={class:"ait-pt-2 ait-text-[10px]"},uc={class:"ait-pt-2 ait-text-[10px]"},hc={class:"ait-pt-2 ait-text-[10px]"},pc={class:"bottom-area ait-mt-auto ait-flex ait-flex-col ait-justify-center ait-items-center ait-gap-2 ait-mb-4"},gc={class:"ait-flex ait-flex-col ait-w-full ait-gap-1 ait-cursor-pointer"},fc={class:"ait-cursor-pointer",style:{"font-size":"8px"}},mc={key:0,class:"ait-flex ait-flex-col ait-w-full ait-gap-1 ait-cursor-pointer"},_c={class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-items-center ait-flex ait-flex-col ait-cursor-pointer","data-ait-dropdown-toggle":"ait-invite-friends"},vc={class:"ait-cursor-pointer ait-text-center ait-text-balance",style:{"font-size":"8px"}},bc={class:"ait-flex ait-flex-col ait-gap-1 ait-w-full ait-cursor-pointer"},wc={class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-cursor-pointer ait-items-center ait-flex ait-flex-col ait-min-h-[36px] ait-justify-center"},yc={class:"ait-flex ait-flex-col ait-gap-1 ait-w-full ait-cursor-pointer"},xc={class:"ait-flex ait-flex-col ait-gap-1 ait-w-full ait-cursor-pointer"},kc=["data-placement"];function Cc(t,e,a,l,n,s){const u=y("svg-logo"),c=y("font-awesome-icon"),p=y("UserDropdown");return o(),r(L,null,[i("div",ic,[this.constants.runtime_id!=null?(o(),r("div",{key:0,onClick:e[0]||(e[0]=m=>t.sidebarToggle(!1,m))},[i("div",ac,[b(u,{className:"ait-w-4.5 ait-h-4.5",name:"collapse_sidebar_icon"})])])):_("",!0),i("div",sc,[i("div",{class:$("ait-switchbar-tab-item ait-rounded-lg ait-p-2 ait-cursor-pointer ait-arc-edge ait-flex ait-flex-col ait-items-center "+(this.settings.switchbar=="chat"?" active ":"")),onClick:e[1]||(e[1]=m=>this.changeStorage("settings.switchbar","chat",!1))},[i("span",null,[b(u,{className:"ait-w-5 ait-h-5",name:"chat_icon"})]),i("span",oc,d(t.__("chat").toCapitalizeCase()),1)],2),i("div",{class:$("ait-switchbar-tab-item ait-rounded-lg ait-p-2 ait-cursor-pointer ait-arc-edge ait-flex ait-flex-col ait-items-center "+(this.settings.switchbar=="ask"?" active ":"")),onClick:e[2]||(e[2]=m=>this.changeStorage("settings.switchbar","ask",!1))},[i("span",null,[b(u,{className:"ait-w-5 ait-h-5",name:"ask_icon"})]),i("span",nc,d(t.__("ask").toCapitalizeCase()),1)],2),i("div",{class:$("ait-switchbar-tab-item ait-rounded-lg ait-p-2 ait-cursor-pointer ait-arc-edge ait-flex ait-flex-col ait-items-center "+(this.settings.switchbar=="web_search"?" active ":"")),onClick:e[3]||(e[3]=m=>this.changeStorage("settings.switchbar","web_search",!1))},[i("span",null,[b(c,{icon:"fa-solid fa-search",class:"ait-h-5 ait-w-5"})]),i("span",lc,d(t.__("Search").toCapitalizeCase()),1)],2),i("div",{class:$("ait-switchbar-tab-item ait-rounded-lg ait-p-2 ait-cursor-pointer ait-arc-edge ait-flex ait-flex-col ait-items-center "+(this.settings.switchbar=="write"?" active ":"")),onClick:e[4]||(e[4]=m=>this.changeStorage("settings.switchbar","write",!1))},[i("span",null,[b(c,{icon:"fa-solid fa-square-pen",class:"ait-h-5 ait-w-5"})]),i("span",rc,d(t.__("write").toCapitalizeCase()),1)],2),i("div",{class:$("ait-switchbar-tab-item ait-rounded-lg ait-p-2 ait-cursor-pointer ait-arc-edge ait-flex ait-flex-col ait-items-center "+(this.settings.switchbar=="image"?" active ":"")),onClick:e[5]||(e[5]=m=>this.changeStorage("settings.switchbar","image",!1))},[i("span",null,[b(c,{icon:"fa-solid fa-image",class:"ait-h-5 ait-w-5"})]),i("span",dc,d(t.__("image").toCapitalizeCase()),1)],2),i("div",{class:"ait-switchbar-tab-item ait-rounded-lg ait-p-2 ait-cursor-pointer ait-arc-edge ait-flex ait-flex-col ait-items-center","data-ait-dropdown-toggle":"ait-pdf-upload-modal",onClick:e[6]||(e[6]=m=>this.changeStorage("settings.switchbar","chat",!1))},[b(u,{className:"ait-w-5 ait-h-5",name:"chat_with_file_icon"}),i("span",cc,d(t.__("ChatFile")),1)]),i("div",{class:"ait-switchbar-tab-item ait-rounded-lg ait-p-2 ait-cursor-pointer ait-arc-edge ait-flex ait-flex-col ait-items-center","data-ait-dropdown-toggle":"ait-image-vision-modal",onClick:e[7]||(e[7]=m=>this.changeStorage("settings.switchbar","chat",!1))},[i("span",null,[b(c,{icon:"fa-solid fa-eye",class:"ait-h-5 ait-w-5"})]),i("span",uc,d(t.__("vision").toCapitalizeCase()),1)]),i("div",{class:$("ait-switchbar-tab-item ait-rounded-lg ait-p-2 ait-cursor-pointer ait-arc-edge ait-flex ait-flex-col ait-items-center "+(this.settings.switchbar=="agent"?" active ":"")),onClick:e[8]||(e[8]=m=>this.changeStorage("settings.switchbar","agent",!1))},[i("span",null,[b(c,{icon:"fa-solid fa-robot",class:"ait-h-5 ait-w-5"})]),i("span",hc,d(t.__("agent").toCapitalizeCase()),1)],2)]),e[12]||(e[12]=i("div",{class:"divider w-[70%] ait-mx-auto h-[1px] bg-[var(--ait-switchbar-btn-hover-bg-color)]"},null,-1)),i("div",pc,[i("div",gc,[i("div",{class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-cursor-pointer ait-items-center ait-flex ait-flex-col",onClick:e[9]||(e[9]=m=>t.Helpers.sendMessage("openPage",{url:`${this.constants.extension_main_dir}/full_screen.html`}))},[b(u,{className:"ait-w-4 ait-h-4",name:"full_screen_icon"}),i("label",fc,d(t.__("Full Page")),1)])]),this.constants.manuel_extension_id==this.constants.extension_id||this.constants.extension_id==null?(o(),r("div",mc,[i("div",_c,[b(u,{className:"ait-w-4 ait-h-4",name:"gift_icon"}),i("label",vc,d(t.__(`Invite &
            Earn`)),1)])])):_("",!0),i("div",bc,[i("div",wc,[b(c,{icon:"fa-solid fa-envelope",class:"ait-h-4 ait-w-4 aitopia-contact"})])]),i("div",yc,[i("div",{class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-cursor-pointer ait-items-center ait-flex ait-flex-col ait-min-h-[36px] ait-justify-center aitopia-options",onClick:e[10]||(e[10]=J(m=>t.clickOpenPage(t.constants.click_open_url["aitopia-options"]),["stop"]))},[b(c,{icon:"fa-solid fa-gear",class:"ait-h-4 ait-w-4"})])]),i("div",xc,[i("div",{"data-ait-dropdown-toggle":"ait-user-dropdown","data-placement":this.settings.sidebar_position=="left"?"top-start":"top-end",onClick:e[11]||(e[11]=m=>t.Helpers.uuid()),class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-cursor-pointer ait-items-center ait-flex ait-flex-col ait-min-h-[36px] ait-justify-center"},[b(c,{icon:"fa-solid fa-user",class:"ait-h-4 ait-w-4"})],8,kc)])])]),b(p)],64)}const $c=R(ec,[["render",Cc]]),Lc={extends:O,props:["model"],data(){return{get_credit_model:(t=null)=>(t==null&&(this.settings.switchbar=="image"?t=f.notUndefined(this.settings,"ai_image_model"):t=f.notUndefined(this.settings,"ai_model")),this.credit_model=t??this.credit_model??null,typeof this.credit_details[this.credit_model]>"u"&&Object.keys(this.credit_details).forEach(e=>{this.credit_details[e].model.indexOf(this.credit_model)!==-1&&(this.credit_model=e)}),this.credit_model),get_credit_details:(t=null)=>this.credit_details!==null&&typeof this.credit_details[this.get_credit_model(t)]<"u"?this.credit_details[this.get_credit_model(t)]:this.credit_details[this.get_credit_model(t)]}},computed:{gemIconClass(){if(!this.credit_detail_visual||!Array.isArray(this.credit_detail_visual))return"ait-gem-icon-default";const t=this.get_credit_model(this.model);if(!t)return"ait-gem-icon-default";const e=this.credit_detail_visual.find(l=>(l==null?void 0:l.models)&&Object.keys(l.models).includes(t));if(!e)return"ait-gem-icon-default";const a=(e.name||"").toLowerCase();return a.includes("advanced")?"ait-gem-icon-purple":a.includes("fast")||a.includes("basic")?"ait-gem-icon-green":"ait-gem-icon-default"}},methods:{getGemIconClassForItem(t){if(!t||!t.models)return"ait-gem-icon-default";const e=t.models||{},a=Object.keys(e);if(a.length>0){const n=e[a[0]],s=((n==null?void 0:n.cost_type)||"").toLowerCase();if(s.includes("advanced"))return"ait-gem-icon-purple";if(s.includes("fast")||s.includes("basic"))return"ait-gem-icon-green"}const l=(t.name||"").toLowerCase();return l.includes("advanced")?"ait-gem-icon-purple":l.includes("fast")||l.includes("basic")?"ait-gem-icon-green":"ait-gem-icon-default"},selectCreditType(t){const e=this.settings.switchbar==="image",a=t.models||{},l=Object.keys(a);let n={};if(e?l.forEach(c=>{var m;const p=(m=this.credit_details)==null?void 0:m[c];p&&p.type==="image"&&(n[c]=a[c])}):l.forEach(c=>{var m;const p=(m=this.credit_details)==null?void 0:m[c];(!p||p.type!=="image")&&(n[c]=a[c])}),Object.keys(n).length===0)return;const s=f.ObjectSorting(n,!0,"priority"),u=Object.keys(s)[0];u&&(e?this.changeStorage("settings.ai_image_model",u):this.changeStorage("settings.ai_model",u),this.credit_model=u,this.$nextTick(()=>{const c=document.getElementById("ait-credit-dropdown");c&&(c.classList.remove("ait-show"),c.classList.add("ait-hide"))}))}},mounted(){}},Sc={class:"ait-flex ait-items-center ait-relative ait-space-x-1 ait-grid-flow-row lg:ait-gap-4"},Mc=["title"],Tc={key:1,class:"ait-text-sm"},Hc={key:0,type:"button",id:"aitopia-pricing",class:"ait-flex ait-items-center ait-text-[11px] ait-font-semibold ait-text-[var(--ait-link-color)] hover:ait-opacity-70 focus:ait-outline-none aitopia-pricing"},Ac={id:"ait-credit-dropdown",class:"ait-z-[9999] ait-absolute ait-left-0 ait-bottom-[40px] ait-hide ait-w-full ait-max-w-[220px] ait-bg-white ait-divide-y ait-divide-neutral-100 ait-rounded-lg ait-shadow dark:ait-bg-neutral-900 dark:ait-divide-neutral-700"},Pc={class:"ait-block ait-px-3 ait-py-3 ait-font-medium ait-text-center ait-text-neutral-700 ait-rounded-t-lg ait-bg-neutral-50 dark:ait-bg-neutral-950 dark:ait-text-white"},Ic={class:"ait-font-bold"},Uc={key:0,type:"button",class:"ait-text-white ait-bg-green-700 hover:ait-opacity-90 focus:ait-outline-none focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-full ait-text-sm ait-px-5 ait-py-1 ait-text-center ait-ml-5 ait-mr-2 dark:ait-bg-green-600 dark:hover:ait-bg-green-700 dark:focus:ait-ring-green-800 aitopia-pricing"},Ec={class:"ait-divide-y ait-divide-neutral-100 dark:ait-divide-neutral-700"},jc=["onClick"],Rc={class:"ait-grid ait-grid-cols-4 ait-gap-4 ait-text-neutral-900 dark:ait-text-white ait-text-sm ait-mb-1.5 dark:ait-text-neutral-400"},Bc={class:"ait-col-span-3"},Dc={class:"ait-text-[10px] ait-text-neutral-500 ait-pt-2 dark:ait-text-neutral-400"},Oc={class:"ait-text-right ait-flex ait-items-center ait-justify-end ait-gap-1"},zc={key:0,class:"ait-text-sm"},Vc={key:1,class:"ait-text-sm"};function Fc(t,e,a,l,n,s){var u,c;return o(),r(L,null,[i("div",Sc,[i("button",{"data-ait-dropdown-toggle":"ait-credit-dropdown",class:$(["ait-flex ait-items-center ait-justify-center ait-relative dark:ait-text-neutral-200 ait-border ait-rounded-full ait-h-6 lg:ait-h-7",this.storage.Local.plan!="Premium"?" ait-w-[45px] ":""])},[(o(),r("svg",{width:"16",height:"16",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",class:$(["ait-w-[14px] ait-h-[14px] lg:ait-w-[16px] lg:ait-h-[16px] ait-mr-0.5 ait-flex-shrink-0 ait-transition-all",s.gemIconClass])},e[0]||(e[0]=[Vt('<path d="M41 4H23L2 20.1L32 60l30-39.9z"></path><g style="opacity:0.7;"><path d="M32 60l12.5-39.9H18.8z"></path><path d="M9.5 9.5L2 20.1h16.8L23 4z"></path><path d="M54.5 9.5L41 4l3.5 16.1H62z"></path></g>',2)]),2)),(t.Helpers.notUndefined(this.get_credit_details(a.model)??[],"credit")??0)==-999?(o(),r("span",{key:0,class:"ait-text-sm",title:t.Helpers.notUndefined(this.get_credit_details(a.model)??[],"balance")},"",8,Mc)):(o(),r("div",Tc,d(t.Helpers.notUndefined(this.get_credit_details(a.model)??[],"balance")??"-"),1))],2),((c=(u=this.storage)==null?void 0:u.Local)==null?void 0:c.plan)!="Premium"?(o(),r("button",Hc,d(t.__("Upgrade")),1)):_("",!0)]),i("div",Ac,[i("div",Pc,[i("span",Ic,d(this.storage.Local.plan)+" "+d(t.__("Plan")),1),this.storage.Local.plan!="Premium"?(o(),r("button",Uc,d(t.__("Upgrade")),1)):_("",!0)]),i("div",Ec,[(o(!0),r(L,null,B(this.credit_detail_visual,(p,m)=>(o(),r("div",{class:"ait-flex ait-px-3 ait-py-3 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700",key:m},[i("div",{class:"ait-w-full ait-px-1 ait-cursor-pointer",onClick:J(h=>s.selectCreditType(p),["stop"])},[i("div",Rc,[i("div",Bc,[U(d(p.name)+" ",1),i("div",Dc,d(Object.keys(t.Helpers.ObjectSorting(p.models,!0,"priority")).join(", ")),1)]),i("div",Oc,[(o(),r("svg",{width:"14",height:"14",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",class:$(["ait-w-[14px] ait-h-[14px] ait-flex-shrink-0 ait-transition-all",s.getGemIconClassForItem(p)])},e[1]||(e[1]=[Vt('<path d="M41 4H23L2 20.1L32 60l30-39.9z"></path><g style="opacity:0.7;"><path d="M32 60l12.5-39.9H18.8z"></path><path d="M9.5 9.5L2 20.1h16.8L23 4z"></path><path d="M54.5 9.5L41 4l3.5 16.1H62z"></path></g>',2)]),2)),p.credit==-999?(o(),r("span",zc,"")):(o(),r("span",Vc,d(p.credit??10),1))])])],8,jc)]))),128))])])],64)}const qc=R(Lc,[["render",Fc]]),Nc={extends:O,props:["model"],data(){return{showDropdown:!1,get_model_details:(t=null)=>(t==null&&(this.settings.switchbar=="image"?t=f.notUndefined(this.settings,"ai_image_model"):t=f.notUndefined(this.settings,"ai_model")),this.getModelDetails(t)),capabilities:[{key:"web_search",name:"Web Search",description:"Fetches live information beyond the model training data."},{key:"web_crawl",name:"Web Crawl",description:"Fetches and reads full content from specific URLs (docs, articles, Reddit)."},{key:"image_generation",name:"Image Generation",description:"Uses OpenAI Images to create visuals from text prompts."},{key:"data_analysis",name:"Data Analysis",description:"Runs lightweight analysis over uploaded data files."},{key:"think",name:"Think Mode",description:"Adds deeper reasoning before the final reply."},{key:"artifacts",name:"Artifacts",description:"Allow the model to create rich artifacts (code/HTML/etc)."},{key:"task_progress",name:"Task Progress",description:"Show progress tracking for complex multi-step tasks."}]}},computed:{isFreePlan(){var a,l,n,s;const t=((l=(a=this.storage)==null?void 0:a.Local)==null?void 0:l.licences)??null;if(Array.isArray(t))return t.length===0;const e=((s=(n=this.storage)==null?void 0:n.Local)==null?void 0:s.plan)??(t&&typeof t=="object"?t.plan_type:null);return String(e??"").toLowerCase().trim()==="free"},currentModel(){return this.get_model_details(this.model)},hasControls(){return this.currentModel&&this.settings.chat_controls===!0},capabilitySettings(){return this.settings.capabilities||{web_search:!1,web_crawl:!1,image_generation:!1,data_analysis:!1,think:!1,artifacts:!1,task_progress:!1}},activeCapabilitiesCount(){const t=this.capabilitySettings;return this.capabilities.reduce((e,a)=>{const l=this.isCapabilitySupported(a.key)&&this.isFreePlan!==!0;return e+(l&&t[a.key]?1:0)},0)}},methods:{getCapabilityDisabledReason(t){return this.isCapabilitySupported(t)?this.isFreePlan===!0?this.__("Upgrade plan to enable."):"":this.__("Not supported.")},isCapabilitySelectable(t){return this.isCapabilitySupported(t)&&this.isFreePlan!==!0},syncCapabilitiesWithModel(){const t={...this.capabilitySettings};let e=!1;this.capabilities.forEach(a=>{!this.isCapabilitySupported(a.key)&&t[a.key]&&(t[a.key]=!1,e=!0)}),e&&this.changeStorage("settings.capabilities",t)},isCapabilitySupported(t){const e=this.currentModel;if(!e)return!0;const l={web_search:"web_search",web_crawl:"web_crawl",image_generation:"image_generation",data_analysis:"data_analysis",think:"use_think",artifacts:"artifacts",task_progress:"task_progress"}[t];return l?e[l]==="1":!0},toggleDropdown(){this.showDropdown=!this.showDropdown},closeDropdown(){this.showDropdown=!1},toggleCapability(t){if(!this.isCapabilitySelectable(t))return;const e={...this.capabilitySettings};e[t],e[t]=!e[t],this.changeStorage("settings.capabilities",e)},resetCapabilities(){this.changeStorage("settings.capabilities",{web_search:!1,web_crawl:!1,image_generation:!1,data_analysis:!1,think:!1,artifacts:!1,task_progress:!1})}},watch:{currentModel:{handler(){this.syncCapabilitiesWithModel()},immediate:!0}},mounted(){document.addEventListener("click",t=>{const e=this.$refs.controlsDropdown,a=this.$refs.controlsButton;e&&a&&!e.contains(t.target)&&!a.contains(t.target)&&this.closeDropdown()})}},Zc={key:0,class:"ait-flex ait-items-center ait-relative"},Wc=["title"],Gc={class:"ait-w-[16px] ait-h-[16px]",style:{transform:"rotate(90deg)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Kc={key:0,class:"ait-absolute ait-top-[-4px] ait-right-[-4px] ait-min-w-[14px] ait-h-[14px] ait-rounded-full ait-bg-[var(--ait-link-color)] ait-text-[9px] ait-text-white ait-flex ait-items-center ait-justify-center ait-font-semibold"},Yc={ref:"controlsDropdown",class:"ait-z-[99999] ait-absolute ait-right-0 ait-bottom-[40px] ait-w-full ait-min-w-[280px] ait-max-w-[300px] ait-h-[360px] ait-max-h-[55vh] ait-overflow-y-auto ait-bg-white ait-divide-y ait-divide-neutral-100 ait-rounded-lg ait-shadow-xl dark:ait-bg-neutral-900 dark:ait-divide-neutral-700 ait-border dark:ait-border-neutral-700"},Qc={class:"ait-py-1.5"},Xc={class:"ait-px-3 ait-py-1.5"},Jc={class:"ait-text-lg ait-mb-1.5 ait-font-semibold"},t0={class:"ait-flex ait-flex-col ait-gap-1 ait-px-2.5"},e0={class:"ait-flex-1 ait-min-w-0"},i0={class:"ait-font-semibold ait-text-xs dark:ait-text-white"},a0={class:"ait-text-[10px] ait-mt-0.5 ait-break-words ait-text-neutral-500 dark:ait-text-neutral-400 ait-opacity-80"},s0=["onClick"],o0={class:"ait-px-3 ait-py-1.5 ait-mt-1.5 ait-flex ait-justify-center ait-items-center"};function n0(t,e,a,l,n,s){const u=y("HoverPopover");return s.hasControls&&s.currentModel?(o(),r("div",Zc,[i("button",{ref:"controlsButton",onClick:e[0]||(e[0]=(...c)=>s.toggleDropdown&&s.toggleDropdown(...c)),class:"ait-flex ait-items-center ait-justify-center ait-relative dark:ait-text-neutral-200 ait-border ait-rounded-full ait-h-7 ait-w-7 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-800 ait-transition-colors",title:t.__("Model Capabilities")},[(o(),r("svg",Gc,e[2]||(e[2]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"},null,-1)]))),s.activeCapabilitiesCount>0?(o(),r("span",Kc,d(s.activeCapabilitiesCount),1)):_("",!0)],8,Wc),F(i("div",Yc,[i("div",Qc,[i("div",Xc,[i("div",Jc,d(t.__("Capabilities")),1)]),i("div",t0,[(o(!0),r(L,null,B(n.capabilities,c=>(o(),r("label",{key:c.key,class:$(["ait-flex ait-justify-between ait-items-center ait-gap-2 ait-p-2 ait-rounded-lg ait-transition-colors",s.isCapabilitySelectable(c.key)?"ait-cursor-pointer hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-800":"ait-opacity-40 ait-cursor-not-allowed"])},[i("div",e0,[i("div",i0,d(t.__(c.name)),1),i("p",a0,d(t.__(c.description)),1)]),s.isCapabilitySelectable(c.key)?(o(),r("div",{key:0,onClick:p=>s.toggleCapability(c.key),class:"ait-relative ait-inline-flex ait-w-7 ait-h-4 ait-rounded-full ait-transition-all ait-duration-200 ait-flex-shrink-0",style:Q({background:s.capabilitySettings[c.key]?"var(--ait-link-color)":"rgb(209 213 219)"})},[i("span",{class:"ait-absolute ait-w-3 ait-h-3 ait-top-0.5 ait-left-0.5 ait-rounded-full ait-transition-all ait-duration-200 ait-bg-white ait-shadow-sm ait-border ait-border-neutral-300",style:Q({transform:s.capabilitySettings[c.key]?"translateX(12px)":"translateX(0px)"})},null,4)],12,s0)):(o(),E(u,{key:1,position:"y","offset-x":12,"popover-text":s.getCapabilityDisabledReason(c.key)},{default:D(()=>e[3]||(e[3]=[i("div",{class:"ait-relative ait-inline-flex ait-w-7 ait-h-4 ait-rounded-full ait-transition-all ait-duration-200 ait-flex-shrink-0",style:{background:"rgb(209 213 219)"}},[i("span",{class:"ait-absolute ait-w-3 ait-h-3 ait-top-0.5 ait-left-0.5 ait-rounded-full ait-transition-all ait-duration-200 ait-bg-white ait-shadow-sm ait-border ait-border-neutral-300",style:{transform:"translateX(0px)"}})],-1)])),_:2,__:[3]},1032,["popover-text"]))],2))),128))]),i("div",o0,[i("button",{onClick:e[1]||(e[1]=(...c)=>s.resetCapabilities&&s.resetCapabilities(...c)),class:"ait-flex ait-items-center ait-gap-1 ait-text-xs ait-px-1.5 ait-py-0.5 ait-rounded ait-transition-colors ait-whitespace-nowrap"},[e[4]||(e[4]=i("svg",{class:"ait-w-3 ait-h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),U(" "+d(t.__("Reset All")),1)])])])],512),[[Gt,n.showDropdown]])])):_("",!0)}const l0=R(Nc,[["render",n0]]),r0={props:{title:String,detail:String,id:String,className:String,headless:Boolean,is_show:Boolean}},d0=["id"],c0=["aria-hide"],u0={class:"ait-relative ait-w-full lg:ait-max-w-screen-xl ait-max-h-full"},h0={class:"ait-relative ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-800"},p0={key:0,class:"ait-px-6 ait-py-4 ait-border-b ait-rounded-t dark:ait-border-neutral-600"},g0=["innerHTML"],f0={key:1};function m0(t,e,a,l,n,s){return o(),r("div",{id:a.id,class:$(a.is_show?"ait-show":"ait-hide")},[i("div",{tabindex:"-1","aria-hide":!a.is_show,class:$(["ait-fixed !ait-z-[999999] ait-modal ait-m-0 ait-bg-[rgba(0,0,0,.5)] ait-top-0 ait-left-0 ait-bottom-0 ait-right-0 ait-w-full ait-p-4 ait-overflow-x-hidden ait-overflow-y-auto lg:ait-inset-0 h-[calc(100%)] ait-max-h-full ait-justify-center ait-flex",a.className]),"data-modal-hide":""},[i("div",u0,[i("div",h0,[!a.headless&&a.title?(o(),r("div",p0,[i("h3",{class:"ait-text-base ait-font-semibold ait-text-neutral-900 lg:ait-text-lg dark:ait-text-white ait-text-center",innerHTML:a.title},null,8,g0),e[0]||(e[0]=i("button",{type:"button",class:"ait-absolute ait-top-3 ait-right-2.5 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":""},[i("svg",{class:"ait-w-3 ait-h-3","aria-hide":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})]),i("span",{class:"ait-sr-only"},"Close modal")],-1))])):(o(),r("div",f0,e[1]||(e[1]=[i("button",{type:"button",class:"ait-absolute ait-top-3 ait-right-2.5 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":""},[i("svg",{class:"ait-w-3 ait-h-3","aria-hide":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})]),i("span",{class:"ait-sr-only"},"Close modal")],-1)]))),Kt(t.$slots,"default"),a.detail?(o(),r(L,{key:2},[],64)):_("",!0)])])],10,c0)],10,d0)}const _0=R(r0,[["render",m0]]),v0={extends:O,props:["mode"],data(){return{selectedPromptId:null}},computed:{availablePrompts(){if(!this.ai_prompts)return[];let t=this.ai_prompts;if(typeof t=="string")try{t=JSON.parse(t)}catch{return[]}return Object.values(t||{}).filter(a=>{if(!a)return!1;const l=a.mode;return a.match==null&&l==="ask"})},selectedPromptIdComputed:{get(){var t;return((t=this.selected_ask)==null?void 0:t.id)||null},set(t){t&&this.ai_prompts[`id_${t}`]&&this.changeStorage("selected_ask",this.ai_prompts[`id_${t}`],!1)}}},methods:{getLanguageOptions(t){const e=[],a=this.Helpers.notUndefined(t,"placeholder")||"Select language";e.push({value:"",label:this.__(a),html:this.__(a)});const l=this.Helpers.notUndefined(this,this.Helpers.notUndefined(t,"model"));if(l)for(const[n,s]of Object.entries(l)){const u=this.Helpers.notUndefined(s,this.Helpers.notUndefined(t,"model_prefix")),c=this.Helpers.notUndefined(s,this.Helpers.notUndefined(t,"model_element")),p=this.Helpers.notUndefined(s,this.Helpers.notUndefined(t,"model_element_before"))??"",h=this.Helpers.notUndefined(t,"no_translate")?c:this.__(c),v=p?p+" "+h:h;e.push({value:u,label:v,html:v})}return e},handleLanguageSelect(t,e,a,l){const n=`${t}-_-${this.selected_ask.id}_${e}`;this.prompt_settings[n]=l,this.changeStorage(`prompt_settings.${n}`,l,!1)}}},b0={id:"ait-prompt-container",class:"ait-m-3 ait-h-full"},w0={class:"ait-col-span-2"},y0=["for","innerHTML"],x0=["type","placeholder","name","onUpdate:modelValue","onChange"],k0=["name","onUpdate:modelValue","placeholder","onChange"],C0={key:0,class:"ait-flex ait-flex-wrap ait-gap-[6px] ait-mt-1 ait-py-[4px] ait-rounded-md"},$0={key:0,class:"ait-relative"},L0={class:"ait-flex ait-items-center ait-gap-1 ait-leading-none ait-cursor-pointer ait-transition-all ait-duration-200"},S0=["value","name","onUpdate:modelValue","id","onChange"],M0=["for","innerHTML"],T0={key:0,class:"ait-flex ait-mt-3"},H0=["placeholder"],A0={key:1,class:"ait-flex ait-relative ait-mt-3"},P0=["placeholder"],I0={key:2,class:"ait-flex ait-mt-3 grid-flow-row ait-mb-2"};function U0(t,e,a,l,n,s){const u=y("Dropdown"),c=y("ChooseModel"),p=y("single-response");return o(),r(L,null,[e[5]||(e[5]=i("div",{class:"ait-hide ait-grid-cols-2 ait-grid-cols-3 ait-col-span-2 ait-col-span-1 ait-col-span-3"},null,-1)),i("div",b0,[i("div",{class:$("ait-flex ait-grid ait-gap-2  ait-grid-cols-"+(t.Helpers.notUndefined(this.$data,"selected_ask.settings")!=null?"3":"2"))},[i("div",w0,[b(u,{modelValue:s.selectedPromptIdComputed,"onUpdate:modelValue":e[0]||(e[0]=m=>s.selectedPromptIdComputed=m),options:s.availablePrompts,"display-key":"name","value-key":"id",placeholder:this.__("Select a prompt"),"display-function":m=>this.__(m.name).toFirstUpperCase(),"translate-function":m=>this.__(m)},null,8,["modelValue","options","placeholder","display-function","translate-function"])]),t.Helpers.notUndefined(this.$data,"selected_ask.settings")!=null?(o(!0),r(L,{key:0},B(this.selected_ask.settings,(m,h)=>(o(),r(L,null,[(o(!0),r(L,null,B(m,v=>(o(),r(L,null,[(o(!0),r(L,null,B(v,(g,w,C)=>(o(),r("div",{class:$(["ait-col-span-1 ait-relative",C==0?"ait-col-span-1":"ait-col-span-3"])},[t.Helpers.notUndefined(g,"label")||t.Helpers.notUndefined(g,"label_before")?(o(),r("label",{key:0,for:`${w}-_-${this.selected_ask.id}_${h}`,class:"ait-inline-flex ait-items-center ait-justify-between ait-gap-2 ait-p-1 ait-m-1 ait-text-neutral-500 dark:ait-text-neutral-200",innerHTML:(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(g,"label"))?(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(g,"label_before"))?t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(g,"label_before"))+" ":"")+t.__(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(g,"label"))):(t.Helpers.notUndefined(g,"label_before")?t.Helpers.notUndefined(g,"label_before")+" ":"")+t.__(t.Helpers.notUndefined(g,"label")))+":"},null,8,y0)):_("",!0),t.Helpers.notUndefined(g,"type")=="select"?(o(),E(u,{key:1,modelValue:this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`],"onUpdate:modelValue":S=>this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]=S,options:s.getLanguageOptions(g),"display-key":"label","value-key":"value",placeholder:this.__(t.Helpers.notUndefined(g,"placeholder")||"Select"),"display-function":S=>S.html||this.__(S.label),"translate-function":S=>this.__(S),onSelect:(S,A)=>s.handleLanguageSelect(w,h,S,A)},null,8,["modelValue","onUpdate:modelValue","options","placeholder","display-function","translate-function","onSelect"])):t.Helpers.notUndefined(g,"type")=="input"?F((o(),r("input",{key:2,type:t.Helpers.notUndefined(g,"input_type")??"text",placeholder:t.__(t.Helpers.notUndefined(g,"placeholder")),name:`${w}-_-${this.selected_ask.id}_${h}`,"onUpdate:modelValue":S=>this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]=S,onChange:S=>{this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]=S.target.value,this.changeStorage(`prompt_settings.${w}-_-${this.selected_ask.id}_${h}`,this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`],!1)},class:$((t.Helpers.notUndefined(g,"class")??"")+" ait-block ait-w-full ait-p-2 ait-text-md ait-text-neutral-900 ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-neutral-100 focus:ait-border-green-500 dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:ait-focus:border-green-500")},null,42,x0)),[[Me,this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]]]):t.Helpers.notUndefined(g,"type")=="textarea"?F((o(),r("textarea",{key:3,name:`${w}-_-${this.selected_ask.id}_${h}`,"onUpdate:modelValue":S=>this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]=S,placeholder:t.__(t.Helpers.notUndefined(g,"placeholder")),onChange:S=>{this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]=S.target.value,this.changeStorage(`prompt_settings.${w}-_-${this.selected_ask.id}_${h}`,this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`],!1)},class:$((t.Helpers.notUndefined(g,"class")??"")+" ait-h-[112px] ait-resize-none ait-block ait-p-2.5 ait-w-full ait-text-xs ait-text-neutral-900 ait-bg-neutral-50 ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-[var(--ait-tab-menu-active-bg-color)] dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-border-[var(--ait-tab-menu-active-bg-color)]"),rows:"4"},null,42,k0)),[[tt,this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]]]):_("",!0),t.Helpers.notUndefined(g,"type")==="radio"?(o(),r(L,{key:4},[t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(g,"model"))?(o(),r("div",C0,[(o(!0),r(L,null,B(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(g,"model")),(S,A)=>(o(),r(L,null,[!t.Helpers.notUndefined(g,"indexof")||Object.values(t.Helpers.notUndefined(g,"indexof")??{}).indexOf(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_prefix")))!==-1?(o(),r("div",$0,[i("div",L0,[F(i("input",{type:"radio",class:"ait-hidden ait-peer",required:"",value:t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_prefix")),name:`${w}-_-${this.selected_ask.id}_${h}`,"onUpdate:modelValue":x=>this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]=x,id:`${w}-_-${this.selected_ask.id}_${h}_${t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_prefix"))}`,onChange:x=>{this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]=x.target.value,this.changeStorage(`prompt_settings.${w}-_-${this.selected_ask.id}_${h}`,this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`],!1)}},null,40,S0),[[le,this.prompt_settings[`${w}-_-${this.selected_ask.id}_${h}`]]]),i("label",{for:`${w}-_-${this.selected_ask.id}_${h}_${t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_prefix"))}`,class:$((t.Helpers.notUndefined(g,"class")??"")+(this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`]===S.prefix?" ait-checked ":"")+" ait-inline-flex ait-items-center ait-justify-between ait-gap-2 ait-py-1 ait-px-2 ait-text-neutral-500 ait-bg-white ait-border ait-border-neutral-200 ait-rounded-lg ait-cursor-pointer dark:hover:ait-text-neutral-300 dark:ait-border-neutral-700 dark:peer-checked:ait-text-[var(--ait-tab-menu-active-bg-color)] peer-checked:ait-border-[var(--ait-tab-menu-active-bg-color)] peer-checked:ait-text-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-neutral-600 hover:ait-bg-neutral-100 dark:ait-text-neutral-400 dark:ait-bg-neutral-800 dark:hover:ait-bg-neutral-700"),innerHTML:(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element_before"))??null?(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element_before"))??null)+" ":"")+(t.Helpers.notUndefined(g,"no_translate")?t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element")):t.__(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element"))))},null,10,M0)])])):_("",!0)],64))),256))])):_("",!0)],64)):_("",!0)],2))),256))],64))),256))],64))),256)):_("",!0)],2),this.selected_ask?(o(),r(L,{key:0},[t.Helpers.notUndefined(this.selected_ask,"prompt")?(o(),r("div",T0,[F(i("textarea",{"onUpdate:modelValue":e[1]||(e[1]=m=>this.selected_ask.prompt=m),name:"prompt",class:"ait-h-[112px] ait-resize-none ait-block ait-p-2.5 ait-w-full ait-text-xs ait-text-neutral-900 ait-bg-neutral-50 ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-blue-500 focus:ait-border-blue-500 dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-blue-500 dark:focus:ait-border-blue-500",rows:"4",placeholder:t.__("Input prompt or choose from menu")},null,8,H0),[[tt,this.selected_ask.prompt]])])):_("",!0)],64)):_("",!0),this.selected_ask?(o(),r("div",A0,[F(i("textarea",{"onUpdate:modelValue":e[2]||(e[2]=m=>this.prompt_settings.selection=m),id:"ait-prompt-selection",onChange:e[3]||(e[3]=m=>{this.prompt_settings.selection=m.target.value,this.changeStorage("prompt_settings.selection",this.prompt_settings.selection,!1)}),name:"selection",class:$((this.selected_ask.name!="Reply"?"ait-selection-container":"")+" ait-ai-text-item ait-resize-none ait-h-[112px] ait-block ait-p-2.5 ait-w-full ait-text-xs ait-text-neutral-900 ait-bg-neutral-50 ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-[var(--ait-tab-menu-active-bg-color)] dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-border-[var(--ait-tab-menu-active-bg-color)]"),rows:"4",placeholder:(t.Helpers.notUndefined(this.selected_ask,"prompt")?t.__("Paste or input content here"):t.__("Input prompt or choose from menu"))+`
`+((this.settings.send_cmd??"")==""?"":t.__(`Press ${this.settings.send_cmd=="shift+enter"?"Enter":"Shift + Enter"} to start a new line`))},"      ",42,P0),[[tt,this.prompt_settings.selection]])])):_("",!0),this.selected_ask?(o(),r("div",I0,[i("div",null,[b(c,{class:$("ait-h-[40px] ait-max-h-[40px] ait-mr-4 ait-pl-[20px] ait-pr-[20px]")})]),i("button",{type:"button",id:"ait-prompt-submit",onClick:e[4]||(e[4]=m=>t.SingleAi.build(this,this.selected_ask.id,this.prompt_settings.selection,this.settings.ai_model,this.selected_ask.prompt)),class:"ait-w-full focus:ait-outline-none ait-text-white ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-lg ait-text-sm ait-px-5 ait-py-2.5 dark:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:hover:ait-opacity-90 dark:focus:ait-ring-green-800"},d(t.__("Submit"))+" ("+d(this.settings.send_cmd)+") ",1)])):_("",!0),this.selected_ask&&String(this.prompt_settings.selection).length>0?(o(),r("div",{key:3,class:$(["ait-w-full ait-mt-2",a.mode==="full"&&"ait-h-full ait-overflow-y-auto"])},[b(p,{mode:this.mode,id:"aitopia-prompt-response",class:"ait-p-3 ait-rounded-lg ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200",custom_key:t.Helpers.SHA1(this.selected_ask.id)},null,8,["mode","custom_key"])],2)):_("",!0)])],64)}const E0=R(v0,[["render",U0]]),j0={extends:O,props:{data_key:String},methods:{getLanguageOptions(t){const e=[],a=this.Helpers.notUndefined(t,"placeholder")||"Select language";e.push({value:"",label:this.__(a),html:this.__(a)});const l=this.Helpers.notUndefined(this,this.Helpers.notUndefined(t,"model"));if(l)for(const[n,s]of Object.entries(l)){const u=this.Helpers.notUndefined(s,this.Helpers.notUndefined(t,"model_prefix")),c=this.Helpers.notUndefined(s,this.Helpers.notUndefined(t,"model_element")),p=this.Helpers.notUndefined(s,this.Helpers.notUndefined(t,"model_element_before"))??"",h=this.Helpers.notUndefined(t,"no_translate")?c:this.__(c),v=p?p+" "+h:h;e.push({value:u,label:v,html:v})}return e},handleLanguageSelect(t,e,a,l){const n=`${t}-_-${this[this.data_key].id}_${e}`;this.prompt_settings[n]=l,this.changeStorage(`prompt_settings.${n}`,l,!1)}}},R0={class:"ait-col-span-1 ait-relative ait-w-full"},B0=["for","innerHTML"],D0=["type","placeholder","name","onUpdate:modelValue","onChange"],O0=["name","onUpdate:modelValue","placeholder","onChange"],z0={key:0,class:"ait-flex ait-flex-wrap ait-gap-[6px] ait-mt-1 ait-py-[4px] ait-rounded-md"},V0={key:0,class:"ait-relative"},F0={class:"ait-flex ait-items-center ait-gap-1 ait-leading-none ait-cursor-pointer ait-transition-all ait-duration-200"},q0=["value","name","onUpdate:modelValue","id","onChange"],N0=["for","innerHTML"];function Z0(t,e,a,l,n,s){const u=y("Dropdown");return t.Helpers.notUndefined(this.$data,`${a.data_key}.settings`)!=null?(o(!0),r(L,{key:0},B(this[a.data_key].settings,(c,p)=>(o(),r(L,null,[(o(!0),r(L,null,B(c,m=>(o(),r(L,null,[(o(!0),r(L,null,B(m,(h,v,g)=>(o(),r("div",R0,[t.Helpers.notUndefined(h,"label")||t.Helpers.notUndefined(h,"label_before")?(o(),r("label",{key:0,for:`${v}-_-${this[a.data_key].id}_${p}`,class:"ait-inline-flex ait-gap-2 ait-p-1 ait-m-1 ait-text-neutral-500 dark:ait-text-neutral-200",innerHTML:(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(h,"label"))?(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(h,"label_before"))?t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(h,"label_before"))+" ":"")+t.__(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(h,"label"))):(t.Helpers.notUndefined(h,"label_before")?t.Helpers.notUndefined(h,"label_before")+" ":"")+t.__(t.Helpers.notUndefined(h,"label")))+":"},null,8,B0)):_("",!0),t.Helpers.notUndefined(h,"type")=="select"?(o(),E(u,{key:1,modelValue:this.prompt_settings[`${v}-_-${this[a.data_key].id}_${p}`],"onUpdate:modelValue":w=>this.prompt_settings[`${v}-_-${this[a.data_key].id}_${p}`]=w,options:s.getLanguageOptions(h),"display-key":"label","value-key":"value",placeholder:this.__(t.Helpers.notUndefined(h,"placeholder")||"Select language"),"display-function":w=>w.html||this.__(w.label),"translate-function":w=>this.__(w),onSelect:(w,C)=>s.handleLanguageSelect(v,p,w,C)},null,8,["modelValue","onUpdate:modelValue","options","placeholder","display-function","translate-function","onSelect"])):t.Helpers.notUndefined(h,"type")=="input"?F((o(),r("input",{key:2,type:t.Helpers.notUndefined(h,"input_type")??"text",placeholder:t.__(t.Helpers.notUndefined(h,"placeholder")),name:`${v}-_-${this[a.data_key].id}_${p}`,"onUpdate:modelValue":w=>this.prompt_settings[`${v}-_-${this[a.data_key].id}_${p}`]=w,onChange:w=>{this.prompt_settings[`${v}-_-${this[a.data_key].id}_${p}`]=w.target.value,this.changeStorage(`prompt_settings.${v}-_-${this[a.data_key].id}_${p}`,this.prompt_settings[`${v}-_-${this[a.data_key].id}_${p}`],!1)},class:$((t.Helpers.notUndefined(h,"class")??"")+" ait-block ait-w-full ait-p-2 ait-text-md ait-text-neutral-900 ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-neutral-100 focus:ait-border-green-500 dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:ait-focus:border-green-500")},null,42,D0)),[[Me,this.prompt_settings[`${v}-_-${this[a.data_key].id}_${p}`]]]):t.Helpers.notUndefined(h,"type")=="textarea"?F((o(),r("textarea",{key:3,name:`${v}-_-${this[a.data_key].id}_${p}`,"onUpdate:modelValue":w=>this.prompt_settings[`${v}-_-${this[a.data_key].id}_${p}`]=w,placeholder:t.__(t.Helpers.notUndefined(h,"placeholder")),onChange:w=>{this.prompt_settings[`${v}-_-${this[a.data_key].id}_${p}`]=w.target.value,this.changeStorage(`prompt_settings.${v}-_-${this[a.data_key].id}_${p}`,this.prompt_settings[`${v}-_-${this[a.data_key].id}_${p}`],!1)},class:$((t.Helpers.notUndefined(h,"class")??"")+" ait-h-[112px] ait-resize-none ait-block ait-p-2.5 ait-w-full ait-text-xs ait-text-neutral-900 ait-bg-neutral-50 ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-[var(--ait-tab-menu-active-bg-color)] dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-border-[var(--ait-tab-menu-active-bg-color)]"),rows:"4"},null,42,O0)),[[tt,this.prompt_settings[`${v}-_-${this[a.data_key].id}_${p}`]]]):_("",!0),t.Helpers.notUndefined(h,"type")==="radio"?(o(),r(L,{key:4},[t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(h,"model"))?(o(),r("div",z0,[(o(!0),r(L,null,B(t.Helpers.ObjectSorting(t.Helpers.notUndefined(this.$data,t.Helpers.notUndefined(h,"model")),!0,"priority"),w=>(o(),r(L,null,[!t.Helpers.notUndefined(h,"indexof")||Object.values(t.Helpers.notUndefined(h,"indexof")??{}).indexOf(t.Helpers.notUndefined(w,t.Helpers.notUndefined(h,"model_prefix")))!==-1?(o(),r("div",V0,[i("div",F0,[F(i("input",{type:"radio",class:"ait-hidden ait-peer",required:"",value:t.Helpers.notUndefined(w,t.Helpers.notUndefined(h,"model_prefix")),name:`${v}-_-${this[a.data_key].id}_${p}`,"onUpdate:modelValue":C=>this.prompt_settings[`${v}-_-${this[a.data_key].id}_${p}`]=C,id:`${v}-_-${this[a.data_key].id}_${p}_${t.Helpers.notUndefined(w,t.Helpers.notUndefined(h,"model_prefix"))}`,onChange:C=>{this.prompt_settings[`${v}-_-${this[a.data_key].id}_${p}`]=C.target.value,this.changeStorage(`prompt_settings.${v}-_-${this[a.data_key].id}_${p}`,this.prompt_settings[`${v}-_-${this[a.data_key].id}_${p}`],!1)}},null,40,q0),[[le,this.prompt_settings[`${v}-_-${this[a.data_key].id}_${p}`]]]),i("label",{for:`${v}-_-${this[a.data_key].id}_${p}_${t.Helpers.notUndefined(w,t.Helpers.notUndefined(h,"model_prefix"))}`,class:$((t.Helpers.notUndefined(h,"class")??"")+(this.prompt_settings[`${v}-_-${this[a.data_key].id}_${p}`]===w.prefix?" ait-checked ":"")+" ait-inline-flex ait-items-center ait-justify-between ait-gap-2 ait-py-1 ait-px-2 ait-text-neutral-500 ait-bg-white ait-border ait-border-neutral-200 ait-rounded-lg ait-cursor-pointer dark:hover:ait-text-neutral-300 dark:ait-border-neutral-700 dark:peer-checked:ait-text-[var(--ait-tab-menu-active-bg-color)] peer-checked:ait-border-[var(--ait-tab-menu-active-bg-color)] peer-checked:ait-text-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-neutral-600 hover:ait-bg-neutral-100 dark:ait-text-neutral-400 dark:ait-bg-neutral-800 dark:hover:ait-bg-neutral-700"),innerHTML:(t.Helpers.notUndefined(w,t.Helpers.notUndefined(h,"model_element_before"))??null?(t.Helpers.notUndefined(w,t.Helpers.notUndefined(h,"model_element_before"))??null)+" ":"")+(t.Helpers.notUndefined(h,"no_translate")?t.Helpers.notUndefined(w,t.Helpers.notUndefined(h,"model_element")):t.__(t.Helpers.notUndefined(w,t.Helpers.notUndefined(h,"model_element"))))},null,10,N0)])])):_("",!0)],64))),256))])):_("",!0)],64)):_("",!0)]))),256))],64))),256))],64))),256)):_("",!0)}const wi=R(j0,[["render",Z0]]),W0={components:{PromptBuilder:wi},extends:O,props:["mode"],mounted(){this.$nextTick(()=>{var e;const t=this.$refs.originalTextTextarea;t&&((e=this.prompt_settings)!=null&&e.original_text)&&f.autoHeightTextArea(t,90)})}},G0={id:"ait-prompt-container",class:"ait-overflow-y-auto ait-h-full ait-m-3 ait-pb-4"},K0={class:"ait-flex ait-grid ait-gap-2 ait-grid-cols-1"},Y0={class:"ait-col-span-1"},Q0={key:0,class:"ait-flex ait-flex-wrap ait-gap-[6px] ait-py-[4px] ait-rounded-md"},X0=["onClick"],J0={key:0,class:"ait-flex ait-relative"},tu=["placeholder"],eu={key:1,class:"ait-flex ait-relative"},iu=["placeholder"],au={key:0,class:"ait-flex ait-mt-3 grid-flow-row ait-mb-2"};function su(t,e,a,l,n,s){const u=y("prompt-builder"),c=y("ChooseModel"),p=y("single-response");return o(),r(L,null,[e[7]||(e[7]=i("div",{class:"ait-hide ait-grid-cols-2 ait-grid-cols-3 ait-col-span-2 ait-col-span-1 ait-col-span-3 peer-checked:ait-fill-[var(--ait-tab-menu-active-bg-color)] ait-fill-[var(--ait-tab-menu-active-bg-color)] ait-overflow-y-auto"},null,-1)),i("div",G0,[i("div",K0,[i("div",Y0,[this.selected_write!=null?(o(),r("div",Q0,[(o(!0),r(L,null,B(this.ai_prompts,(m,h)=>(o(),r(L,null,[m.match==null&&t.Helpers.notUndefined(m,"mode")=="write"?(o(),r("div",{key:0,class:$((m.id==this.selected_write.id?"ait-selected-write":"")+" ait-flex ait-items-center ait-gap-3 ait-p-3 ait-leading-none ait-cursor-pointer ait-transition-all ait-duration-200"),onClick:v=>this.changeStorage("selected_write",this.ai_prompts[`id_${m.id}`],!1)},d(t.__(m.name).toFirstUpperCase()),11,X0)):_("",!0)],64))),256))])):_("",!0)]),this.selected_write?(o(),r("div",J0,[this.selected_write.name=="Reply"?F((o(),r("textarea",{key:0,id:"ait-prompt-original-text",ref:"originalTextTextarea","onUpdate:modelValue":e[0]||(e[0]=m=>this.prompt_settings.original_text=m),onChange:e[1]||(e[1]=m=>{this.prompt_settings.original_text=m.target.value,this.changeStorage("prompt_settings.original_text",this.prompt_settings.original_text,!1),t.Helpers.autoHeightTextArea(m.target,90)}),onFocus:e[2]||(e[2]=m=>t.Helpers.autoHeightTextArea(m.target,90)),name:"original_text",class:"ait-selection-container ait-ai-text-item ait-resize-none ait-block ait-p-2.5 ait-w-full ait-text-xs ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-[var(--ait-tab-menu-active-bg-color)] dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-border-[var(--ait-tab-menu-active-bg-color)]",placeholder:t.__("The original text to which you want to reply"),onKeyup:e[3]||(e[3]=m=>t.Helpers.autoHeightTextArea(m.target,90)),rows:"1",style:{background:"rgba(var(--ait-fg-rgb), 0.05)",color:"rgba(var(--ait-fg-rgb), 0.75)",resize:"none",padding:"15px !important","min-height":"46px","max-height":"68px"}},"        ",40,tu)),[[tt,this.prompt_settings.original_text]]):_("",!0)])):_("",!0),this.selected_write?(o(),r("div",eu,[F(i("textarea",{"onUpdate:modelValue":e[4]||(e[4]=m=>this.prompt_settings.selection=m),id:"ait-prompt-selection",onChange:e[5]||(e[5]=m=>{this.prompt_settings.selection=m.target.value,this.changeStorage("prompt_settings.selection",this.prompt_settings.selection,!1)}),name:"selection",class:$((this.selected_write.name!="Reply"?"ait-selection-container":"")+" ait-ai-text-item ait-resize-none ait-h-[112px] ait-block ait-p-2.5 ait-w-full ait-text-xs ait-text-neutral-900 ait-bg-neutral-50 ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-[var(--ait-tab-menu-active-bg-color)] dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-border-[var(--ait-tab-menu-active-bg-color)]"),rows:"4",placeholder:(this.selected_write.name=="Reply"?t.__("The general content of your reply to the above text"):t.__("The topic you want to compose"))+`
`+((this.settings.send_cmd??"")==""?"":t.__(`Press ${this.settings.send_cmd.replace(/\+/g," ").toCapitalizeCase()} to generate draft`))},"        ",42,iu),[[tt,this.prompt_settings.selection]])])):_("",!0),b(u,{data_key:"selected_write"})]),this.selected_write?(o(),r("div",au,[i("div",null,[b(c,{class:$("ait-h-[40px] ait-max-h-[40px] ait-mr-4 ait-pl-[20px] ait-pr-[20px]")})]),i("button",{type:"button",id:"ait-prompt-submit",onClick:e[6]||(e[6]=m=>t.SingleAi.build(this,this.selected_write.id,this.prompt_settings.selection,this.settings.ai_model,this.selected_write.prompt)),class:"ait-w-full focus:ait-outline-none ait-text-white ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-lg ait-text-sm ait-px-5 ait-py-2.5 ait-mb-2 dark:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:hover:ait-opacity-90 dark:focus:ait-ring-green-800"},d(t.__("Submit"))+" ("+d(this.settings.send_cmd)+") ",1)])):_("",!0),this.selected_write?(o(),r("div",{key:1,class:$(["ait-w-full ait-mt-2",a.mode==="full"&&"ait-h-full ait-overflow-y-auto"])},[b(p,{mode:this.mode,id:"aitopia-prompt-response",class:"ait-p-3 ait-rounded-lg ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200",custom_key:t.Helpers.SHA1(this.selected_write.id)},null,8,["mode","custom_key"])],2)):_("",!0)])],64)}const ou=R(W0,[["render",su]]),nu={extends:O,props:["id","custom_key","class","mode","buttonPassive","customPrettier"],data(){},methods:{customPrettierBuilder(t){return typeof this.$props.customPrettier=="function"?this.$props.customPrettier(t):t}}},lu={class:"ait-single-response"},ru=["id","data-key"],du=["aria-details"],cu=["innerHTML"],uu={key:0,id:"ait-continue-chat-ai_single",class:"ait-continue-chat ait-flex ait-items-center ait-justify-center ait-w-full"},hu=["data-title"],pu={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-justify-center"},gu={key:1},fu={class:"ait-flex ait-items-center ait-space-x-2 ait-float-right ait-cursor-pointer aitopia-result-copy"},mu={key:0,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 ait-text-red-800 dark:ait-text-red-200"},_u={class:"ait-py-4 ait-text-center ait-text-red-800 dark:ait-text-red-200"},vu={href:"https://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/content-filter",class:"ait-text-blue-800 dark:ait-text-blue-400 hover:ait-text-blue-600",style:{"text-decoration":"underline"},target:"_blank"},bu=["aria-label"],wu={key:1,class:"aitopia-gpt-4 ait-text-sm ait-w-full ait-text-neutral-500 dark:ait-text-neutral-300 ait-mt-3 ait-border ait-border-solid ait-border-[var(--ait-tab-menu-active-bg-color)] hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-white ait-rounded-lg focus:ait-outline-none ait-text-xs ait-py-1 ait-px-4 ait-text-center"},yu={key:1,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200"},xu={class:"ait-w-full ait-py-4 ait-flex ait-grid ait-grid-1"},ku={key:2,class:"ait-px-3 ait-py-1 [&_*]:ait-text-red-800 dark:[&_*]:ait-text-red-200 ait-bg-neutral-100 dark:ait-bg-neutral-900"},Cu=["innerHTML"],$u={id:"ait-stop-chat-ai_single",class:"ait-stop-chat ait-hide"},Lu=["data-title"],Su={class:"ait-text-white"};function Mu(t,e,a,l,n,s){const u=y("font-awesome-icon"),c=y("svg-logo");return o(),r("div",lu,[this.ai_single?(o(),r(L,{key:0},[this.ai_single!=null?(o(),r(L,{key:0},[typeof this.ai_single[a.custom_key]<"u"?(o(),r(L,{key:0},[this.ai_single[a.custom_key]!=null?(o(),r("div",{key:0,id:a.id!=null?a.id:"","data-key":a.custom_key,class:$("ait-response ait-break-auto "+this.class)},[(o(!0),r(L,null,B(Object.values(this.ai_single[a.custom_key]),(p,m)=>(o(),r("div",{key:`chat-key-${m}`,"aria-details":`chat-key-${m}`,class:$(p.role=="system"||p.role=="assistant"?"ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-gray-200":"")},[p.role=="system"||p.role=="assistant"?(o(),r(L,{key:0},[i("div",{class:$(`ai_result ${p.loading?"ai_loading":""}`),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(this.customPrettierBuilder(p.item)))},null,10,cu),t.Helpers.notUndefined(p,"finish_reason")=="length"?(o(),r("div",uu,[i("button",{"data-title":t.__("Continue"),class:"ait-text-white hover:ait-bg-green-800 ait-font-small ait-text-md ait-px-3 ait-py-1.5 ait-my-2 ait-rounded-md dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-items-center ait-justify-center"},[i("div",pu,[b(u,{icon:"fa-solid fa-play",class:"ait-h-4 ait-w-4"}),U(" "+d(t.__("Continue generating")),1)])],8,hu)])):_("",!0),!p.loading&&!a.buttonPassive?(o(),r("div",gu,[i("div",fu,[b(c,{className:"ait-w-3 ait-h-3",name:"clipboard"}),i("span",null,d(t.__("copy")),1)]),e[2]||(e[2]=i("div",{class:"ait-clear-both"},null,-1)),t.Helpers.notUndefined(p,"finish_reason")=="content_filter"?(o(),r("div",mu,[i("div",_u,[U(d(t.__("Response is stopped due to Content Filtering Policy. Please try again later by obeying the"))+" ",1),i("a",vu,d(t.__("Content Filtering Policy")),1)])])):_("",!0),e[3]||(e[3]=i("div",{class:"ait-clear-both"},null,-1)),i("button",{"aria-label":`${a.mode==="full"&&"ait-tab-0-chat"}`,onClick:e[0]||(e[0]=(...h)=>t.fullTabMenu&&t.fullTabMenu(...h)),role:"button",class:"ait-continue-btn ait-w-full ait-flex ait-items-center ait-justify-center ait-text-white ait-mt-3 ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-bg-neutral-800 dark:hover:ait-bg-neutral-800 dark:hover:ait-text-white ait-rounded-lg focus:ait-outline-none ait-text-xs ait-py-1 ait-px-4 ait-text-center"},[b(c,{className:"ait-mr-1 ait-w-[14px] ait-h-[14px]",name:"comment_ico"}),U(" "+d(t.__("Continue in chat")),1)],8,bu),p.model==this.constants.ai_default_model?(o(),r("button",wu,d(t.__("Get smarter answer from GPT-4o")),1)):_("",!0)])):_("",!0)],64)):p.role=="limit"?(o(),r("div",yu,[i("div",xu,[i("div",null,d(t.__("Your usage limit has been reached. Please upgrade your plan to continue using.")),1),i("button",{type:"button",onClick:e[1]||(e[1]=h=>this.clickOpenPage(this.constants.extension_pricing)),class:"ait-mt-3 ait-text-white ait-bg-green-700 hover:ait-bg-green-800 focus:ait-outline-none focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-full ait-text-sm ait-px-5 ait-py-1 ait-text-center ait-ml-5 ait-mr-2 dark:ait-bg-green-600 dark:hover:ait-bg-green-700 dark:focus:ait-ring-green-800 aitopia-pricing"},d(t.__("Upgrade")),1)])])):p.role=="error"?(o(),r("div",ku,[i("div",{class:"ait-py-4 [&_*]:ait-text-center",innerHTML:t.AiApi.prefixify(t.AiApi.linkify(this.customPrettierBuilder(p.item)))},null,8,Cu)])):_("",!0)],10,du))),128)),i("div",$u,[i("button",{"data-title":t.__("Continue"),class:"ait-flex ait-items-center ait-text-white ait-px-5 ait-py-2.5 ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 ait-font-medium ait-text-sm ait-rounded-lg ait-transition-all ait-duration-200 ait-cursor-pointer ait-my-2"},[b(u,{icon:"fa-solid fa-stop",class:"ait-w-4 ait-h-4 ait-mr-3"}),i("span",Su,d(t.__("Stop generating")),1)],8,Lu)])],10,ru)):_("",!0)],64)):_("",!0)],64)):_("",!0)],64)):_("",!0)])}const Tu=R(nu,[["render",Mu]]),Hu={extends:O,data(){return{showMakeAReviewModal:!1}},methods:{toggleMakeAReviewModal(){this.showMakeAReviewModal=!this.showMakeAReviewModal}}},Au={key:0,class:"ait-flex ait-relative ait-items-end ait-justify-between"},Pu={class:"ait-w-full ait-text-center ait-pr-3"},Iu={key:1,class:"ait-flex ait-relative ait-items-end ait-justify-between"},Uu={class:"ait-w-full ait-text-center ait-pr-3"},Eu={type:"button",class:"ait-flex-col ait-text-[11px] ait-text-[var(--ait-master-link-color)] hover:ait-text-[var(--ait-master-link-hover-color)] dark:hover:ait-text-[var(--ait-master-link-hover-color)]"};function ju(t,e,a,l,n,s){const u=y("svg-logo");return this.show_review&&(this.constants.extension_id==this.constants.manuel_extension_id||this.constants.extension_id==null)?(o(),r("div",Au,[i("div",Pu,[i("button",{type:"button",onClick:e[0]||(e[0]=(...c)=>this.toggleMakeAReviewModal&&this.toggleMakeAReviewModal(...c)),"data-ait-dropdown-toggle":"ait-make-a-review",class:"ait-flex-col ait-text-[11px] ait-text-[var(--ait-link-color)] hover:ait-text-neutral-700 dark:hover:ait-text-neutral-100"},[U(d(t.__("Make a Review & Earn Credit"))+" ",1),e[1]||(e[1]=i("span",{class:"ait-text-red-600 ait-text-[10px]"},"",-1))])])])):this.constants.extension_id!=this.constants.manuel_extension_id?(o(),r("div",Iu,[i("div",Uu,[i("button",Eu,[U(d(t.__("Powered by AITOPIA"))+" ",1),i("span",null,[b(u,{name:"logo",title:this.constants.version,className:"ait-w-[13px] ait-flex-initial"},null,8,["title"])])])])])):_("",!0)}const Ru=R(Hu,[["render",ju]]),Bu={extends:O,data(){return{showMakeAReviewModal:!1}},methods:{toggleMakeAReviewModal(){this.showMakeAReviewModal=!this.showMakeAReviewModal}}},Du={key:0,id:"ait-make-a-review",tabindex:"-1","aria-hide":"true",class:"ait-items-center ait-h-full ait-fixed ait-m-0 ait-bg-[rgba(0,0,0,.5)] ait-top-0 ait-left-0 ait-right-0 ait-z-[150] ait-w-full ait-p-4 ait-overflow-x-hidden ait-overflow-y-auto lg:ait-inset-0 h-[calc(100%)] ait-max-h-full ait-justify-center ait-flex","data-modal-hide":""},Ou={class:"ait-relative ait-w-full ait-max-w-md ait-max-h-full ait-rounded-lg"},zu={class:"ait-relative ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-800"},Vu={class:"ait-px-6 ait-py-4 ait-border-b ait-rounded-t dark:ait-border-neutral-600"},Fu=["innerHTML"],qu={class:"ait-p-4 ait-justify-center ait-items-center"},Nu=["innerHTML"],Zu={class:"ait-p-4 ait-justify-center ait-items-center"},Wu=["innerHTML"],Gu={class:"ait-p-4 ait-justify-center ait-items-center"},Ku={class:"ait-text-xs ait-text-center ait-font-normal ait-text-neutral-400 dark:ait-text-neutral-500"};function Yu(t,e,a,l,n,s){return o(),r("div",null,[this.showMakeAReviewModal?(o(),r("div",Du,[i("div",Ou,[i("div",zu,[i("div",Vu,[i("h3",{class:"ait-text-base ait-font-semibold ait-text-neutral-900 lg:ait-text-lg dark:ait-text-white ait-text-center",innerHTML:'<p class="ait-text-base ait-text-[var(--ait-link-color)]">'+t.__("Make a 5 Star Review")+' <span class="ait-text-red-600 ait-text-base"></span></span>'},null,8,Fu),i("button",{onClick:e[0]||(e[0]=(...u)=>s.toggleMakeAReviewModal&&s.toggleMakeAReviewModal(...u)),type:"button",class:"ait-absolute ait-top-3 ait-right-2.5 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":""},e[2]||(e[2]=[i("svg",{class:"ait-w-3 ait-h-3","aria-hide":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),i("span",{class:"ait-sr-only"},"Close modal",-1)]))]),i("div",qu,[i("button",{innerHTML:t.__("Make a 5 Star Review and Earn 30 <br/> GPT-3.5, 5 GPT-4 and 4 Image Credits!"),class:"ait-w-full ait-text-white ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-bg-green-900 ait-font-medium ait-rounded-lg ait-text-md ait-px-5 ait-py-2 dark:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:hover:ait-bg-green-900 aitopia-g-extension"},null,8,Nu)]),i("div",Zu,[i("button",{onClick:e[1]||(e[1]=u=>t.Helpers.apiCall("/google/extension_reviews/get_review",null,"POST").then(c=>c==!0?t.Helpers.sendMessage("uuid",{}):u.target.closest("div").querySelector(".ait-review-error").classList.remove("ait-hide"))),class:"ait-w-full ait-text-white ait-bg-neutral-600 hover:ait-bg-neutral-900 ait-font-small ait-rounded-lg ait-text-md ait-px-3 ait-py-1 dark:ait-bg-neutral-700 dark:hover:ait-bg-neutral-900"},d(t.__("I made a review, check and activate my credits")),1),i("div",{class:"ait-review-error ait-text-red-800 dark:ait-text-red-200 ait-py-2 ait-hide",innerHTML:t.__('Your review cannot be detected. Could you please send an email which includes screenshot of your review and your registered email <b>(#email#)</b> to <a class="ait-font-bold" href="mailto:review@aitopia.ai">review@aitopia.ai</a>? We will check and load your free credits.').replace("#email#",this.email)},null,8,Wu)]),i("div",Gu,[i("p",Ku,d(t.__("You can earn credits only once by making a review")),1)])])])])):_("",!0)])}const Qu=R(Bu,[["render",Yu]]),Xu={extends:O,props:["custom_class"],data(){return{showStyleOptionsModal:!1}},methods:{toggleStyleOptionsModal(){this.showStyleOptionsModal=!this.showStyleOptionsModal},setStyleOption(t){this.image_settings.style=t,this.changeStorage("image_settings.style",t),this.toggleStyleOptionsModal()}}},Ju={key:0,class:"ait-w-full ait-mx-auto ait-h-[40%]"},th={class:"ait-relative ait-w-full ait-max-w-md ait-max-h-full"},eh={class:"ait-relative ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-900"},ih={class:"ait-px-6 ait-py-4 dark:ait-border-neutral-600"},ah={class:"ait-text-base ait-font-semibold ait-text-neutral-900 lg:ait-text-lg dark:ait-text-white ait-text-left"},sh={class:"ait-px-6 dark:ait-border-neutral-600"},oh={class:"ait-sr-only"},nh={class:"ait-flex ait-flex-wrap ait-flex-row"},lh={class:"ait-flex ait-flex-col ait-basis-1/3 px-2"},rh={class:"ait-place-self-center"},dh=["onClick","src"],ch={class:"ait-text-xs ait-text-center ait-mt-1 ait-mb-1"};function uh(t,e,a,l,n,s){return o(),r("div",null,[n.showStyleOptionsModal?(o(),r("div",Ju,[i("div",{tabindex:"-1","aria-hide":"true",class:$(a.custom_class??"ait-inset-y-0 ait-bottom-0 ait-fixed ait-mt-[60%] ait-top-0 ait-left-0 ait-right-0 ait-z-50 ait-w-[60%] ait-mx-auto ait-overflow-x-hidden ait-overflow-y-auto lg:ait-inset-0 h-[calc(100%)] ait-h-[30%] ait-justify-center ait-items-center ait-flex"),"data-modal-hide":""},[i("div",th,[i("div",eh,[i("div",ih,[i("h3",ah,d(t.__("All Styles")),1),i("div",sh,[i("button",{type:"button",class:"ait-absolute ait-top-3 ait-right-2.5 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":"",onClick:e[0]||(e[0]=(...u)=>s.toggleStyleOptionsModal&&s.toggleStyleOptionsModal(...u))},[e[1]||(e[1]=i("svg",{class:"ait-w-3 ait-h-3","aria-hide":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)),i("span",oh,d(t.__("Close modal")),1)])])]),i("div",nh,[(o(!0),r(L,null,B(t.constants.styles,u=>(o(),r("div",lh,[i("div",rh,[i("img",{onClick:c=>s.setStyleOption(u.style),src:u.icon,alt:"bot artist image",class:"ait-rounded-md ait-h-20"},null,8,dh),i("p",ch,d(t.__(u.name)),1)])]))),256))])])])],2)])):_("",!0)])}const yi=R(Xu,[["render",uh]]),hh={extends:O,data(){return{showEditToolsModal:!1,tools:V.tools,editToolOptions:V.editTools,selectedTool:null,selectedToolDetail:null}},watch:{showEditToolsModal:(t,e)=>{typeof document<"u"&&(t==!0?document.querySelector("#aitopia-container").classList.add("zero-zindex"):document.querySelector("#aitopia-container").classList.remove("zero-zindex"))}},methods:{toggleEditToolsModal(){this.showEditToolsModal=!this.showEditToolsModal},selectTool(t){this.selectedTool=this.editToolOptions.find(e=>e.id===t.actionCode),this.selectedToolDetail=t,this.toggleEditToolsModal(),this.showEditToolUploadModal=!0,this.upscaleValue=2,this.promptText=null},playVideo(t){document.getElementById(t).play(),document.getElementById(`button-${t}`).classList.remove("ait-hidden")},pauseVideo(t){var e=document.getElementById(t);e.pause(),e.currentTime=0,document.getElementById(`button-${t}`).classList.add("ait-hidden")}}},ph={key:0,tabindex:"-1","aria-hide":"true",class:"ait-h-[var(--ait-height-100)] ait-h-dvh ait-items-center ait-fixed ait-modal ait-z-[9999999999] ait-m-0 ait-bg-[rgba(0,0,0,.5)] ait-top-0 ait-left-0 ait-right-0 ait-w-full ait-p-4 ait-overflow-x-hidden ait-overflow-y-auto lg:ait-inset-0 h-[calc(100%)] ait-max-h-full ait-justify-center ait-flex","data-modal-hide":""},gh={class:"ait-relative ait-max-h-full ait-w-[90%] lg:ait-w-[45%] lg:ait-w-[65%]"},fh={class:"ait-relative ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-800"},mh={class:"ait-px-6 ait-py-4 ait-border-b ait-rounded-t dark:ait-border-neutral-600"},_h={class:"ait-text-base ait-font-semibold ait-text-neutral-900 lg:ait-text-lg dark:ait-text-white ait-text-left"},vh={class:"ait-sr-only"},bh={class:"ait-mt-2 ait-grid-cols-1 lg:ait-grid-cols-2 lg:ait-grid-cols-3 lg:ait-grid-cols-4 ait-grid ait-gap-4 ait-mx-3"},wh=["onMouseover","onMouseleave","onClick"],yh={class:"ait-relative ait-w-full"},xh=["id"],kh=["src"],Ch=["id"],$h={class:"ait-w-full ait-text-md lg:ait-text-md ait-font-semibold ait-text-black dark:ait-text-white",style:{"padding-left":"10px"}},Lh={class:"ait-w-full ait-text-left ait-text-sm lg:ait-text-xs lg:ait-text-sm",style:{"padding-left":"10px","padding-right":"10px","margin-bottom":"10px !important"}};function Sh(t,e,a,l,n,s){const u=y("svg-logo");return n.showEditToolsModal?(o(),r("div",ph,[i("div",gh,[i("div",fh,[i("div",mh,[i("h3",_h,d(t.__("Editing tools")),1),i("button",{type:"button",class:"ait-absolute ait-top-3 ait-right-2.5 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":"",onClick:e[0]||(e[0]=(...c)=>s.toggleEditToolsModal&&s.toggleEditToolsModal(...c))},[b(u,{className:"ait-w-3 ait-h-3",name:"close_icon"}),i("span",vh,d(t.__("Close modal")),1)])]),i("div",bh,[(o(!0),r(L,null,B(n.tools,c=>(o(),r("div",{onMouseover:p=>s.playVideo(c.id),onMouseleave:p=>s.pauseVideo(c.id),onClick:p=>s.selectTool(c),"data-ait-dropdown-toggle":"ait-edit-tool-upload-modal",key:c.id,class:"ait-mb-3 ait-gap-2 ait-flex ait-flex-col ait-items-center ait-w-full ait-bg-neutral-200 dark:ait-bg-neutral-900 ait-rounded-lg ait-space-y-4 ait-justify-start"},[i("div",yh,[i("video",{id:`${c.id}`,class:"ait-w-full ait-h-32 ait-object-cover",muted:"",style:{"border-top-left-radius":"0.5rem","border-top-right-radius":"0.5rem"}},[i("source",{src:c.video,type:"video/mp4"},null,8,kh)],8,xh),i("button",{id:`button-${c.id}`,class:"ait-text-md lg:ait-text-md lg:text-base ait-absolute ait-rounded-full ait-h-10 ait-font-bold lg:ait-h-7 ait-hidden ait-text-white ait-w-[80%] ait-ml-[10%] ait-mr-[10%] ait-bottom-[20%]",style:{"background-color":"rgb(251, 153, 45)","box-shadow":"rgb(191, 109, 19) 0px 2px 6px 0px"}},d(t.__(c.name)),9,Ch)]),i("h3",$h,d(t.__(c.name)),1),i("p",Lh,d(t.__(c.description)),1)],40,wh))),128))])])])])):_("",!0)}const Mh=R(hh,[["render",Sh]]),Th={extends:O,data(){return{files:[]}}},Hh={class:"ait-w-full ait-min-w-full"},Ah={class:"ait-flex ait-w-full ait-p-5"},Ph={class:"ait-w-full ait-bg-gray-200 ait-rounded-full ait-h-2.5 ait-mb-4 dark:ait-bg-gray-700"};function Ih(t,e,a,l,n,s){const u=y("file-button");return o(),r(L,null,[i("input",{type:"file",class:"ait-uploader",onChange:e[0]||(e[0]=c=>{this.Uploader.processFile(".ait-uploader",0,["image/svg+xml","image/jpeg","image/png","application/x-zip-compressed"],p=>{this.files.push(p)})})},null,32),i("button",{onClick:e[1]||(e[1]=c=>this.Uploader.processFile(".ait-uploader",4194304))}," Ykle "),this.files?(o(!0),r(L,{key:0},B(this.files,(c,p)=>(o(),r("div",Hh,[b(u,{title:c.name,url:c.url},null,8,["title","url"]),i("div",Ah,d(c.progress),1),i("div",Ph,[i("div",{class:"ait-bg-green-600 ait-h-2.5 ait-rounded-full dark:ait-bg-green-500",style:Q("transition: width 2s;"+(c.progress!=100?`width:${c.progress}%`:"width:100%"))},null,4)])]))),256)):_("",!0)],64)}const Uh=R(Th,[["render",Ih]]),Eh={extends:O,inheritAttrs:!1,methods:{Back(){this.constants.runtime_id==null?window.location.href=this.constants.web_app:window.location.href=`${this.constants.extension_main_dir}/full_screen.html`}}},jh={class:"ait-w-full ait-px-5 ait-h-8 ait-my-2"},Rh=["title"];function Bh(t,e,a,l,n,s){const u=y("font-awesome-icon");return o(),r("div",jh,[i("button",Ct({class:"ait-rounded-full ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:hover:ait-bg-neutral-950 ait-text-white ait-w-8 ait-h-8"},t.$attrs,{title:t.__("Back"),onClick:e[0]||(e[0]=c=>s.Back())}),[b(u,{icon:"fa-solid fa-chevron-left",class:"ait-h-5 ait-w-5"})],16,Rh)])}const xi=R(Eh,[["render",Bh]]),Dh=rt({components:{HistoryBack:xi,FontAwesomeIcon:Te},extends:O,data(){return X.issue="Bug Report",X.title=null,X.description=null,X},async beforeCreate(){},beforeMount(){},created(){this.init(),this.$watch(()=>this.storage,this.storage.build),this.$watch(()=>this.constants,Qt.emptyMethod)},mounted(){this.finish(),document.querySelector("html").classList.remove("dark")},methods:Qt}),Oh={extends:O,props:["mode"],data(){return{form:{negativePrompt:"",style:"none",prompt_strength:7,seed:"",image_strength:25,image_count:4,aspect_ratio:null,keep_prompt:!1,dalle_style:"vivid"},styles:V.styles,selectedImageCount:4,imageCounts:[1,2,4],aspectRatio:1,promptStregthShowTooltip:!1,seedShowTooltip:!1,aspectRatioTooltip:!1,aspectRatios:V.aspect_rations,showNegativePrompt:!1,showImageToImage:!1,showImageCount:!1,showSDXLModel:!1}},mounted(){let t=null;if(typeof this.credit_details<"u"&&this.credit_details!=null&&typeof this.credit_details.image<"u"&&typeof this.credit_details.image.balance<"u"){let e=this.credit_details.image.balance??1;e>=0&&e<this.form.image_count&&(this.form.image_count=e,t=e)}typeof this.image_settings>"u"&&(this.image_settings={}),f.notUndefined(this.$data,"image_settings")&&(Object.keys(this.form).forEach(e=>{typeof this.image_settings[e]>"u"&&typeof this.form[e]<"u"&&(this.image_settings[e]=this.form[e]),t>0&&e=="image_count"?this.image_settings[e]=this.form[e]:this.image_settings[e]<1&&e=="image_count"&&(this.image_settings[e]=this.form[e]=1)}),this.changeStorage("image_settings",this.image_settings,!1))},methods:{toggleChatImageSettingsModal(){this.showChatImageSettingsModal=!this.showChatImageSettingsModal},submitForm(){this.mode!=="full"&&this.toggleChatImageSettingsModal()},changeAspectRation(t){f.notUndefined(this.aspectRatios,`${t}.width`)&&f.notUndefined(this.aspectRatios,`${t}.height`)&&(this.changeStorage("image_settings.width",this.aspectRatios[t].width,!1),this.changeStorage("image_settings.height",this.aspectRatios[t].height,!1),this.changeStorage("image_settings.aspect_ratio",t,!1))},onStyleClick(){this.showStyleOptionsModal=!0},toggleNegativePrompt(){this.showNegativePrompt=!this.showNegativePrompt},toggleImageToImage(){this.showImageToImage=!this.showImageToImage},toggleImageCount(){this.showImageCount=!this.showImageCount},toggleSDXLModel(){this.showSDXLModel=!this.showSDXLModel},openAiModelCheck(t=null){return t===null&&(t=this.settings.ai_image_model),typeof t=="string"&&t.toLowerCase().indexOf("dall")!==-1}},computed:{aspectRatioLabel(){var t;return(t=this.image_settings)!=null&&t.aspect_ratio?this.aspectRatios[this.image_settings.aspect_ratio].value:this.aspectRatios[4].value},aspectRatioTooltipText(){var t;return(t=this.image_settings)!=null&&t.aspect_ratio?this.aspectRatios[this.image_settings.aspect_ratio].tooltipText:this.aspectRatios[4].tooltipText},imageStrengthLabel(){return`${this.image_settings.image_strength}%`}},components:{Options:Dh,StyleOptionsModal:yi}},zh={class:"ait-mb-4"},Vh={for:"negativePrompt",class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium ait-mb-2"},Fh=["placeholder"],qh={key:0,class:"ait-mb-4 ait-relative"},Nh={for:"styleSelect",class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium ait-mb-2"},Zh=["value"],Wh={key:1,class:"ait-mb-4"},Gh={class:"ait-flex ait-flex-row"},Kh={for:"promptStrength",class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium ait-mb-2"},Yh={class:"ait-relative ait-flex ait-items-center ait-justify-center ait-mb-2 ait-ml-1"},Qh={key:0,class:"ait-bg-[#0d0d0dd9] ait-h-10 ait-w-72 ait-absolute ait-text-white ait-px-2 ait-py-1 ait-rounded ait-text-xs ait-shadow-md",style:{bottom:"100%",left:"50%",transform:"translateX(-50%)"}},Xh={key:2,class:"ait-mb-4"},Jh={class:"ait-flex ait-flex-row"},tp={for:"seed",class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium ait-mb-2"},ep={class:"ait-relative ait-flex ait-items-center ait-justify-center ait-mb-2 ait-ml-1"},ip={key:0,class:"ait-bg-[#0d0d0dd9] ait-ml-20 ait-h-20 ait-w-64 ait-absolute ait-text-white ait-px-2 ait-py-1 ait-rounded ait-text-xs ait-shadow-md",style:{bottom:"100%",left:"50%",transform:"translateX(-50%)"}},ap=["placeholder"],sp={key:3,class:"ait-mb-4"},op={class:"ait-flex ait-flex-row"},np={for:"style",class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium ait-mb-2"},lp={class:"ait-relative ait-flex ait-items-center ait-justify-center ait-mb-2 ait-ml-1"},rp=["selected"],dp={value:"natural"},cp={key:4,class:"ait-mb-4"},up={for:"imageCount",class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium ait-mb-2"},hp={key:0,class:"ait-flex ait-justify-start ait-items-center ait-space-x-2"},pp=["value"],gp={class:"ait-mb-4"},fp={for:"aspectRatio",class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium ait-mb-2"},mp={class:"ait-flex ait-flex-col ait-items-center ait-space-x-2"},_p={class:"ait-w-full ait-flex ait-justify-between ait-items-center"},vp={class:"ait-relative ait-flex ait-justify-start"},bp={width:"22",height:"22",fill:"none",viewBox:"0 0 16 16",style:{"min-width":"22px","min-height":"22px"}},wp={class:"dark:ait-text-white ait-ml-1 ait-font-semibold ait-text-sm"},yp={key:0,class:"ait-bg-[var(--ait-link-color)] ait-h-5 ait-top-[-20px] ait-w-24 ait-absolute ait-text-white dark:ait-text-white ait-text-center ait-rounded ait-text-xs ait-shadow-md"},xp={class:"ait-mx-auto ait-text-white"},kp={class:"ait-flex ait-justify-end"},Cp={width:"22",height:"22",fill:"none",viewBox:"0 0 16 16",style:{"min-width":"22px","min-height":"22px"}},$p={class:"ait-mb-4 ait-mt-8"},Lp={class:"ait-inline-flex ait-items-center ait-cursor-pointer"},Sp={class:"dark:ait-text-white"},Mp={for:"imageToImage",class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium"};function Tp(t,e,a,l,n,s){const u=y("SvgLogo"),c=y("StyleOptionsModal"),p=y("InnerReferenceImage"),m=y("InnerImagePreview");return o(),r("div",{class:$(`${a.mode==="full"?"ait-px-6 ait-py-2":"ait-p-6"}`)},[i("form",{onSubmit:e[28]||(e[28]=J((...h)=>s.submitForm&&s.submitForm(...h),["prevent"]))},[i("div",zh,[i("div",{class:"ait-flex ait-flex-row",onClick:e[0]||(e[0]=(...h)=>this.toggleNegativePrompt&&this.toggleNegativePrompt(...h))},[a.mode==="full"?(o(),r("div",{key:0,class:"ait-mr-2",style:Q(this.showNegativePrompt?"transform: rotate(90deg) translateZ(0px); margin-bottom:8px;":"transform: none; margin-top: 2px;")},[b(u,{name:"arrow_icon"})],4)):_("",!0),i("label",Vh,d(t.__("Negative Prompt")),1)]),a.mode!=="full"||this.showNegativePrompt?F((o(),r("textarea",{key:0,id:"negativePrompt",placeholder:t.__("(optional) Describe what you want to avoid in your image"),"onUpdate:modelValue":e[1]||(e[1]=h=>this.image_settings.negative_prompt=h),class:"ait-h-[112px] ait-resize-none ait-block ait-p-2.5 ait-w-full ait-text-xs ait-text-neutral-900 ait-bg-neutral-50 ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-[var(--ait-tab-menu-active-bg-color)] dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-border-[var(--ait-tab-menu-active-bg-color)]",onChange:e[2]||(e[2]=h=>this.changeStorage("image_settings.negative_prompt",this.image_settings.negative_prompt,!1))},null,40,Fh)),[[tt,this.image_settings.negative_prompt]]):_("",!0)]),this.settings.ai_image_model=="SDXL v1.0"?(o(),r("div",qh,[i("label",Nh,d(t.__("Style")),1),F(i("select",{id:"styleSelect","onUpdate:modelValue":e[3]||(e[3]=h=>this.image_settings.style=h),class:"ait-w-full ait-pl-1 dark:ait-bg-[#353737] ait-border ait-rounded-lg",onChange:e[4]||(e[4]=h=>this.changeStorage("image_settings.style",this.image_settings.style,!1)),onClick:e[5]||(e[5]=(...h)=>s.onStyleClick&&s.onStyleClick(...h))},[(o(!0),r(L,null,B(n.styles,h=>(o(),r("option",{class:"ait-hidden",value:h.style,key:h.style},d(h.name),9,Zh))),128))],544),[[oe,this.image_settings.style]]),b(c,{custom_class:"ait-absolute ait-top-[25px] ait-z-[999] ait-h-[300px] ait-overflow-y-auto"})])):_("",!0),this.openAiModelCheck()?_("",!0):(o(),r("div",Wh,[i("div",Gh,[i("label",Kh,d(t.__("Prompt Strength")),1),i("div",Yh,[(o(),r("svg",{onMouseover:e[6]||(e[6]=h=>n.promptStregthShowTooltip=!0),onMouseleave:e[7]||(e[7]=h=>n.promptStregthShowTooltip=!1),class:"ait-tooltip-icon",width:"16",height:"16",fill:"none",viewBox:"0 0 18 18",style:{"min-width":"16px","min-height":"16px"}},e[29]||(e[29]=[i("g",null,[i("circle",{"stroke-width":"1.5","stroke-opacity":".45",stroke:"#fbf5ec",r:"6.75",cy:"9",cx:"9","data-follow-stroke":"#fbf5ec",style:{"--darkreader-inline-stroke":`var(
                      --ait-sidebar-bg-color
                    ) !important`},"data-darkreader-inline-stroke":"#fbf5ec"}),i("path",{"fill-opacity":".45",fill:"#fbf5ec",d:"M9 12.915a.67.67 0 1 0 0-1.339.67.67 0 0 0 0 1.34Z","data-follow-fill":"#fbf5ec",style:{"--darkreader-inline-fill":`var(
                      --ait-sidebar-bg-color
                    ) !important`},"data-darkreader-inline-fill":"#fbf5ec"}),i("path",{"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":"1.5","stroke-opacity":".45",stroke:"#fbf5ec",d:"M9 9.836V9.3a1.875 1.875 0 1 0-1.875-1.875","data-follow-stroke":"#fbf5ec",style:{"--darkreader-inline-stroke":`var(
                      --ait-sidebar-bg-color
                    ) !important`},"data-darkreader-inline-stroke":"#fbf5ec"})],-1)]),32)),n.promptStregthShowTooltip?(o(),r("div",Qh,d(t.__("Prompt strength determines how much the final image will portray your prompts.")),1)):_("",!0)])]),F(i("input",{type:"number",id:"promptStrength","onUpdate:modelValue":e[8]||(e[8]=h=>this.image_settings.prompt_strength=h),min:"0",max:"35",class:"dark:ait-bg-[#353737] ait-shadow ait-appearance-none ait-border ait-rounded-lg ait-w-full ait-py-2 ait-px-3 dark:ait-text-white-300 ait-leading-tight focus:ait-outline-none focus:ait-shadow-outline",onChange:e[9]||(e[9]=h=>this.changeStorage("image_settings.prompt_strength",this.image_settings.prompt_strength,!1))},null,544),[[tt,this.image_settings.prompt_strength]])])),this.openAiModelCheck()?_("",!0):(o(),r("div",Xh,[i("div",Jh,[i("label",tp,d(t.__("Seed")),1),i("div",ep,[(o(),r("svg",{onMouseover:e[10]||(e[10]=h=>n.seedShowTooltip=!0),onMouseleave:e[11]||(e[11]=h=>n.seedShowTooltip=!1),width:"16",class:"ait-tooltip-icon",height:"16",fill:"none",viewBox:"0 0 18 18",style:{"min-width":"16px","min-height":"16px"}},e[30]||(e[30]=[i("g",null,[i("circle",{"stroke-width":"1.5","stroke-opacity":".45",stroke:"#fbf5ec",r:"6.75",cy:"9",cx:"9","data-follow-stroke":"#fbf5ec",style:{"--darkreader-inline-stroke":"#fbf5ec"},"data-darkreader-inline-stroke":"#fbf5ec"}),i("path",{"fill-opacity":".45",fill:"#fbf5ec",d:"M9 12.915a.67.67 0 1 0 0-1.339.67.67 0 0 0 0 1.34Z","data-follow-fill":"#fbf5ec",style:{"--darkreader-inline-fill":"#fbf5ec"},"data-darkreader-inline-fill":"#fbf5ec"}),i("path",{"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":"1.5","stroke-opacity":".45",stroke:"#fbf5ec",d:"M9 9.836V9.3a1.875 1.875 0 1 0-1.875-1.875","data-follow-stroke":"#fbf5ec",style:{"--darkreader-inline-stroke":"#fbf5ec"},"data-darkreader-inline-stroke":"#fbf5ec"})],-1)]),32)),n.seedShowTooltip?(o(),r("div",ip,d(t.__("Seed determines the initial noise. Using the same seed with the same settings will create a very similar image.")),1)):_("",!0)])]),F(i("input",{type:"number",id:"seed","onUpdate:modelValue":e[12]||(e[12]=h=>this.image_settings.seed=h),min:"0",max:"4294967295",placeholder:t.__("Auto"),class:"dark:ait-bg-[#353737] ait-shadow ait-appearance-none ait-border ait-rounded-lg ait-w-full ait-py-2 ait-px-3 dark:ait-text-white-300 ait-leading-tight focus:ait-outline-none focus:ait-shadow-outline",onChange:e[13]||(e[13]=h=>this.changeStorage("image_settings.seed",this.image_settings.seed,!1))},null,40,ap),[[tt,this.image_settings.seed]])])),this.openAiModelCheck()?(o(),r("div",sp,[i("div",op,[i("label",np,d(t.__("Style")),1)]),i("div",lp,[F(i("select",{name:"style","onUpdate:modelValue":e[14]||(e[14]=h=>this.image_settings.dalle_style=h),onChange:e[15]||(e[15]=h=>this.changeStorage("image_settings.dalle_style",this.image_settings.dalle_style,!1)),class:"ait-block ait-w-full ait-p-2 ait-text-md ait-text-neutral-900 ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-neutral-100 focus:ait-border-green-500 dark:ait-bg-neutral-900 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:ait-focus:border-green-500"},[i("option",{value:"vivid",selected:!this.image_settings.dalle_style},d(t.__("Vivid")),9,rp),i("option",dp,d(t.__("Natural")),1)],544),[[oe,this.image_settings.dalle_style]])])])):_("",!0),this.settings.ai_image_model=="SDXL v1.0"?(o(),r("div",cp,[i("div",{class:"ait-flex ait-flex-row",onClick:e[16]||(e[16]=(...h)=>this.toggleImageCount&&this.toggleImageCount(...h))},[a.mode==="full"?(o(),r("div",{key:0,class:"ait-mr-2",style:Q(this.showImageCount?"transform: rotate(90deg) translateZ(0px); margin-bottom:8px;":"transform: none; margin-top: 2px;")},[b(u,{name:"arrow_icon"})],4)):_("",!0),i("label",up,d(t.__("Image Count")),1)]),a.mode!=="full"||this.showImageCount?(o(),r("div",hp,[(o(!0),r(L,null,B(n.imageCounts,h=>(o(),r("label",{key:h,class:$(["ait-flex ait-justify-center ait-items-center ait-w-14 ait-h-10 ait-rounded-lg ait-cursor-pointer ait-border ait-border-neutral-300",this.image_settings.image_count===h?"ait-bg-[var(--ait-link-color)] ait-text-white":"dark:ait-bg-neutral-700"])},[F(i("input",{type:"radio",class:"ait-hidden",id:"ImageCount","onUpdate:modelValue":e[17]||(e[17]=v=>this.image_settings.image_count=v),value:h,onChange:e[18]||(e[18]=v=>this.changeStorage("image_settings.image_count",this.image_settings.image_count,!1))},null,40,pp),[[le,this.image_settings.image_count]]),i("span",{class:$(["dark:ait-text-white ait-text-sm",this.image_settings.image_count===h?"ait-text-white":""])},d(h),3)],2))),128))])):_("",!0)])):F((o(),r("input",{key:5,type:"hidden",value:"1","onUpdate:modelValue":e[19]||(e[19]=h=>this.image_settings.image_count=h)},null,512)),[[tt,this.image_settings.image_count]]),i("div",gp,[i("label",fp,d(t.__("Aspect Ratio")),1),i("div",mp,[i("div",_p,[i("div",vp,[(o(),r("svg",bp,e[31]||(e[31]=[i("g",null,[i("path",{"stroke-linejoin":"round","stroke-linecap":"round",stroke:"#C4CDD5",d:"M10.222 4.89h2.223v2.222M5.778 11.556H3.556V9.334","data-follow-stroke":"#C4CDD5",style:{"--darkreader-inline-stroke":"#dad2c6"},"data-darkreader-inline-stroke":""}),i("path",{"stroke-linejoin":"round","stroke-linecap":"round",stroke:"#C4CDD5",d:"M14.111 2.667H1.89a.556.556 0 0 0-.556.556v10c0 .306.249.555.556.555H14.11a.556.556 0 0 0 .556-.556v-10a.556.556 0 0 0-.556-.555Z","data-follow-stroke":"#C4CDD5",style:{"--darkreader-inline-stroke":"#dad2c6"},"data-darkreader-inline-stroke":""})],-1)])))]),i("div",{class:"ait-flex ait-justify-center ait-flex-grow ait-relative",onMouseover:e[20]||(e[20]=h=>n.aspectRatioTooltip=!0),onMouseleave:e[21]||(e[21]=h=>n.aspectRatioTooltip=!1)},[i("span",wp,d(s.aspectRatioLabel),1),n.aspectRatioTooltip?(o(),r("div",yp,[i("span",xp,d(s.aspectRatioTooltipText),1)])):_("",!0)],32),i("div",kp,[(o(),r("svg",Cp,e[32]||(e[32]=[i("g",null,[i("path",{"stroke-linejoin":"round","stroke-linecap":"round",stroke:"#C4CDD5",d:"M11.333 10.444v2.223H9.111M4.667 6V3.779h2.222","data-follow-stroke":"#C4CDD5",style:{"--darkreader-inline-stroke":"#dad2c6"},"data-darkreader-inline-stroke":""}),i("path",{"stroke-linejoin":"round","stroke-linecap":"round",stroke:"#C4CDD5",d:"M13.556 14.333V2.111A.556.556 0 0 0 13 1.556H3a.556.556 0 0 0-.556.555v12.222c0 .307.25.556.556.556h10a.556.556 0 0 0 .556-.556Z","data-follow-stroke":"#C4CDD5",style:{"--darkreader-inline-stroke":"#dad2c6"},"data-darkreader-inline-stroke":""})],-1)])))])]),F(i("input",{type:"range","onUpdate:modelValue":e[22]||(e[22]=h=>this.image_settings.aspect_ratio=h),min:"0",max:"8",id:"aspectRatio",step:"1",class:"ait-appearance-none ait-w-full ait-bg-[var(--ait-link-color)] ait-h-1 ait-rounded-lg ait-slider-thumb ait-mt-3",onChange:e[23]||(e[23]=h=>this.changeAspectRation(this.image_settings.aspect_ratio))},null,544),[[tt,this.image_settings.aspect_ratio]])])]),i("div",$p,[i("label",Lp,[F(i("input",{id:"keepPrompt",type:"checkbox","onUpdate:modelValue":e[24]||(e[24]=h=>t.image_settings.keep_prompt=h),value:"option3",class:"ait-opacity-0 ait-absolute ait-h-0 ait-w-0",onChange:e[25]||(e[25]=h=>t.changeStorage("image_settings.keep_prompt",this.image_settings.keep_prompt,!1))},null,544),[[hi,t.image_settings.keep_prompt]]),i("div",{class:$(["ait-w-4 ait-h-4 ait-border ait-border-gray-400 ait-rounded-md ait-mr-2",{"ait-bg-blue-600":t.image_settings.keep_prompt===!0}])},null,2),i("div",Sp,d(t.__("Keep prompt after sending")),1)])]),this.openAiModelCheck()?_("",!0):(o(),r("div",{key:6,class:"ait-flex ait-flex-row",onClick:e[26]||(e[26]=(...h)=>this.toggleImageToImage&&this.toggleImageToImage(...h))},[i("div",{class:"ait-mr-2",style:Q(this.showImageToImage||t.Helpers.notUndefined(this.$data,"image_settings.image")?"transform: rotate(90deg) translateZ(0px); margin-bottom:8px;":"transform: none; margin-top: 2px;")},[b(u,{name:"arrow_icon"})],4),i("label",Mp,d(t.__("Image to Image")),1)])),!this.openAiModelCheck()&&(this.showImageToImage||t.Helpers.notUndefined(this.$data,"image_settings.image"))?(o(),E(p,{key:7,mode:this.mode,isHidden:!1},null,8,["mode"])):_("",!0),(this.showImageToImage||t.Helpers.notUndefined(this.$data,"image_settings.image"))&&!this.openAiModelCheck()?(o(),E(m,{key:8,mode:this.mode},null,8,["mode"])):_("",!0),i("div",{class:$([`${a.mode==="full"?"":"ait-mt-6"}`,"ait-flex ait-justify-end"])},[i("button",{type:"button",class:$([{"ait-mt-2":a.mode==="full"},"dark:ait-text-white ait-font-bold ait-py-2 ait-px-4 ait-rounded ait-mr-3"]),onClick:e[27]||(e[27]=h=>a.mode=="full"?null:s.toggleChatImageSettingsModal)},d(t.__("Cancel")),3),i("button",{type:"submit",class:$([{"ait-mt-2":a.mode==="full"},"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white ait-font-bold ait-py-2 ait-px-4 ait-rounded"])},d(t.__("Save")),3)],2)],32)],2)}const Hp=R(Oh,[["render",Tp]]),Ap={extends:O,props:["mode"],data(){return{showChatImageSettingsModal:!1,settingsImageShowTooltip:!1}},methods:{toggleChatImageSettingsModal(){this.showChatImageSettingsModal=!this.showChatImageSettingsModal}}},Pp={width:"20",height:"20",fill:"none",viewBox:"0 0 20 20",style:{"min-width":"20px","min-height":"20px"}},Ip={key:0,class:"ait-bg-[#0d0d0dd9] ait-w-27 ait-absolute ait-text-white ait-px-2 ait-py-1 ait-rounded ait-text-xs ait-shadow-md",style:{bottom:"100%",left:"50%",transform:"translateX(-50%)"}},Up={key:0,tabindex:"-1","aria-hide":"true",class:"ait-h-full ait-fixed ait-m-0 ait-bg-[rgba(0,0,0,.5)] ait-top-0 ait-left-0 ait-right-0 ait-z-[150] ait-w-full ait-p-4 ait-overflow-x-hidden ait-overflow-y-auto lg:ait-inset-0 h-[calc(100%)] ait-max-h-full ait-justify-center ait-items-center ait-flex","data-modal-hide":""},Ep={class:"ait-relative ait-w-full ait-max-w-md ait-max-h-full ait-rounded-lg"},jp={class:"ait-relative ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-800"},Rp={class:"ait-px-6 ait-py-4 ait-border-b ait-rounded-t dark:ait-border-neutral-600"},Bp={class:"ait-sr-only"};function Dp(t,e,a,l,n,s){const u=y("ImageChatSettings");return o(),r("div",null,[i("button",{onClick:e[0]||(e[0]=(...c)=>s.toggleChatImageSettingsModal&&s.toggleChatImageSettingsModal(...c)),onMouseover:e[1]||(e[1]=c=>n.settingsImageShowTooltip=!0),onMouseleave:e[2]||(e[2]=c=>n.settingsImageShowTooltip=!1),type:"button",class:$(["ait-flex-col ait-relative ait-pt-1 ait-text-[11px] ait-text-[var(--ait-link-color)] hover:ait-text-neutral-700 dark:hover:ait-text-neutral-100",a.mode==="full"?"ait-flex lg:ait-hidden":""])},[(o(),r("svg",Pp,e[4]||(e[4]=[i("g",null,[i("path",{"data-follow-fill":"currentColor","fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.375 5.898a1.836 1.836 0 1 1-3.672 0 1.836 1.836 0 0 1 3.672 0Zm1.463.82a3.4 3.4 0 0 1-6.598 0H2.5a.781.781 0 0 1 0-1.562h1.722a3.4 3.4 0 0 1 6.634 0H17.5a.781.781 0 1 1 0 1.563h-6.662Zm3.459 7.384a1.836 1.836 0 1 1-3.672 0 1.836 1.836 0 0 1 3.672 0Zm1.463.82a3.4 3.4 0 0 1-6.598 0H2.5a.781.781 0 0 1 0-1.563h6.644a3.4 3.4 0 0 1 6.634 0H17.5a.781.781 0 1 1 0 1.563h-1.74Z",fill:"currentColor","data-darkreader-inline-fill":"",style:{"--darkreader-inline-fill":"currentColor"}})],-1)]))),n.settingsImageShowTooltip?(o(),r("div",Ip,d(t.__("Options")),1)):_("",!0)],34),n.showChatImageSettingsModal?(o(),r("div",Up,[i("div",Ep,[i("div",jp,[i("div",Rp,[e[6]||(e[6]=i("h3",{class:"ait-text-base ait-font-semibold ait-text-neutral-900 lg:ait-text-lg dark:ait-text-white ait-text-left"}," Options ",-1)),i("button",{type:"button",class:"ait-absolute ait-top-3 ait-right-2.5 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":"",onClick:e[3]||(e[3]=(...c)=>s.toggleChatImageSettingsModal&&s.toggleChatImageSettingsModal(...c))},[e[5]||(e[5]=i("svg",{class:"ait-w-3 ait-h-3","aria-hide":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)),i("span",Bp,d(t.__("Close modal")),1)])]),b(u,{mode:a.mode},null,8,["mode"])])])])):_("",!0)])}const Op=R(Ap,[["render",Dp]]),zp=rt({extends:O,name:"ReferenceImage",props:["mode"],data(){return{isReferenceImageProcessing:!1,referenceImageDragActive:!1,referenceImageShowTooltip:!1,showReferenceImageModal:!1,input_file:null}},mounted(){f.notUndefined(this.$data,"image_settings.image")&&(this.showImagePreviewModal=!0)},methods:{toggleReferenceImageModal(){this.showReferenceImageModal=!this.showReferenceImageModal},dragOver(t){t.preventDefault(),this.referenceImageDragActive=!0},dragEnter(t){t.preventDefault(),this.referenceImageDragActive=!0},dragLeave(t){t.preventDefault(),this.referenceImageDragActive=!1},async handleDrop(t){const e=t.dataTransfer.files[0];this.input_file=e,await this.processFile(e)},async processFile(t){this.isReferenceImageProcessing=!0,this.input_file=t,this.Uploader.upload(t,41943040,["image/jpeg","image/jpg","image/png"],e=>{this.files||(this.files={});let a=f.SHA1(t.name+t.size).toString(),l=this.files[a];l&&this.changeStorage("image_settings.image",l.url,!1),this.files[a]=l,this.showImagePreviewModal=!0,document.querySelector("#fileInput")!=null&&(document.querySelector("#fileInput").value=""),document.querySelector("#ait-reference-image-modal")!=null&&(this.showReferenceImageModal=!1),this.input_file=null,this.isReferenceImageProcessing=!1})}}}),Vp={key:0,class:"ait-bg-[#0d0d0dd9] ait-w-27 ait-absolute ait-text-white ait-px-2 ait-py-1 ait-rounded ait-text-xs ait-shadow-md",style:{bottom:"100%",transform:"translateX(-50%)"}},Fp={class:"ait-relative ait-w-full ait-max-w-md ait-max-h-full ait-rounded-lg"},qp={class:"ait-relative ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-800"},Np={class:"ait-px-6 ait-py-4 ait-border-b ait-rounded-t dark:ait-border-neutral-600"},Zp=["innerHTML"];function Wp(t,e,a,l,n,s){const u=y("svg-logo"),c=y("InnerReferenceImage");return o(),r("div",null,[t.mode!=="full"?(o(),r("button",{key:0,onClick:e[0]||(e[0]=(...p)=>t.toggleReferenceImageModal&&t.toggleReferenceImageModal(...p)),onMouseover:e[1]||(e[1]=p=>t.referenceImageShowTooltip=!0),onMouseleave:e[2]||(e[2]=p=>t.referenceImageShowTooltip=!1),type:"button",class:"ait-flex-col ait-text-[11px] ait-text-[var(--ait-link-color)] hover:ait-text-neutral-700 dark:hover:ait-text-neutral-100"},[b(u,{name:"reference_image_icon"}),t.referenceImageShowTooltip?(o(),r("div",Vp,d(t.__("Reference Image")),1)):_("",!0)],32)):_("",!0),t.showReferenceImageModal?(o(),r("div",{key:1,id:"ait-reference-image-modal",onDrop:e[4]||(e[4]=J((...p)=>t.handleDrop&&t.handleDrop(...p),["prevent"])),onDragover:e[5]||(e[5]=J((...p)=>t.dragOver&&t.dragOver(...p),["prevent"])),onDragenter:e[6]||(e[6]=J((...p)=>t.dragEnter&&t.dragEnter(...p),["prevent"])),onDragleave:e[7]||(e[7]=J((...p)=>t.dragLeave&&t.dragLeave(...p),["prevent"])),tabindex:"-1","aria-hide":"true",class:"ait-h-full ait-fixed ait-m-0 ait-bg-[rgba(0,0,0,.5)] ait-top-0 ait-left-0 ait-right-0 ait-z-[9999] ait-w-full ait-p-4 ait-overflow-x-hidden ait-overflow-y-auto lg:ait-inset-0 h-[calc(100%)] ait-max-h-full ait-justify-center ait-items-center ait-flex","data-modal-hide":""},[i("div",Fp,[i("div",qp,[i("div",Np,[i("h3",{class:"ait-text-base ait-font-semibold ait-text-neutral-900 lg:ait-text-lg dark:ait-text-white ait-text-center",innerHTML:t.__("Reference Image")},null,8,Zp),i("button",{type:"button",onClick:e[3]||(e[3]=(...p)=>t.toggleReferenceImageModal&&t.toggleReferenceImageModal(...p)),class:"ait-absolute ait-top-3 ait-right-2.5 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":""},e[8]||(e[8]=[i("svg",{class:"ait-w-3 ait-h-3","aria-hide":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),i("span",{class:"ait-sr-only"},"Close modal",-1)]))]),b(c,{isHidden:!1})])])],32)):_("",!0)])}const Gp=R(zp,[["render",Wp]]),Kp={extends:O,data(){return{showImagePreviewModal:!1}},methods:{toggleImagePreviewModal(){this.showImagePreviewModal=!this.showImagePreviewModal}}},Yp={key:0,class:"ait-w-full ait-min-w-full"},Qp={tabindex:"-1","aria-hide":"true",class:"ait-absolute ait-top-[-215px] ait-right-[5px] ait-z-[100]","data-modal-hide":""},Xp={class:"ait-relative ait-w-full ait-max-w-md ait-max-h-full",style:{width:"150px !important"}},Jp={class:"ait-relative ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-800"},t2={class:"ait-px-2 ait-py-2 dark:ait-border-neutral-600"},e2={class:"ait-text-[11px] ait-text-neutral-900 dark:ait-text-white ait-text-left ait-w-[90%]"};function i2(t,e,a,l,n,s){const u=y("InnerImagePreview");return o(),r("div",null,[n.showImagePreviewModal&&!this.isReferenceImageLoading&&this.image_settings.image?(o(),r("div",Yp,[i("div",Qp,[i("div",Xp,[i("div",Jp,[i("div",t2,[i("div",e2,d(t.__("Reference Image:")),1),i("button",{type:"button",class:"ait-absolute ait-top-1.5 ait-right-2 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-5 ait-h-5 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":"",onClick:e[0]||(e[0]=c=>{this.changeStorage("image_settings.image","",!1),this.changeStorage("image_settings.image_strength",25,!1),s.toggleImagePreviewModal()})},e[1]||(e[1]=[i("svg",{class:"ait-w-3 ait-h-3","aria-hide":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),i("span",{class:"ait-sr-only"},"Close modal",-1)]))]),b(u)])])])])):_("",!0)])}const a2=R(Kp,[["render",i2]]),s2={extends:O,props:["id","custom_key","class","mode"],methods:{regenerateAiImage(t){const e=pt.prefixify(pt.linkify(t.item)).replace(/\n/g,"<br/>");this.image_settings.prompt=e;let a=null,l="";return f.notUndefined(t,"extra_data.prompt_mode")===!0?a=e:l=e,Yt.build(this,"image",l,this.settings.ai_image_model,a,t.title??null,t.extra_data??{}).then(this.image_settings.prompt=null)},async downloadImage(t,e){this.ai_image_url_downloading=t,await this.downloadUrl(t+"?download",e+".png"),this.ai_image_url_downloading=""},setUseAsReference(t){this.changeStorage("image_settings.image",t,!1),this.showImagePreviewModal=!0},toggleDropdown(t){this.openDropdowns[t]=!this.openDropdowns[t]},mouseOverImageButtonVisibility(t){this.visibleImageButtons[t]||(this.visibleImageButtons[t]=!0)},mouseLeaveImageButtonVisibility(t){if(this.visibleImageButtons[t]){this.visibleImageButtons[t]=!1,this.openDropdowns[t]=!1;return}},toggleEditModal(t){this.showEditToolsModal&&(this.showEditToolsModal=!1),this.showEditToolUploadModal&&(this.showEditToolUploadModal=!1);const e=JSON.stringify(t);localStorage.setItem("reference_edit_tool_image",e),this.showEditToolsModal=!this.showEditToolsModal},showUpscaleModal(t){this.changeStorage("image_settings.action","image-upscaling",!1),this.selectedTool=this.editToolOptions.find(a=>a.id===this.imageUpscalingId),this.upscaleValue=2;const e=JSON.stringify(t);localStorage.setItem("reference_edit_tool_image",e),this.showEditToolsModal=!1,this.showEditToolUploadModal=!0},async generateImageVariations(t){this.isReferenceImageLoading=!0,this.changeStorage("image_settings.action","reimagine",!1),this.changeStorage("image_settings.image",t==null?void 0:t.url,!1),await Yt.build(this,"image",null,this.settings.ai_image_model,null,"reimagine",{action:"reimagine",image:t==null?void 0:t.url}),this.image_settings.prompt=null,this.isReferenceImageLoading=!1}},data(){return{ai_image_url_downloading:"",openDropdowns:{},visibleImageButtons:{},editToolOptions:V.editTools,imageUpscalingId:V.image_upscaling_id}}},o2=["id","data-key"],n2=["aria-details"],l2={class:"ait-flex ait-items-center ait-space-x-2"},r2={class:"dark:ait-bg-neutral-900 dark:ait-text-gray-200 ait-px-8 ait-py-4 ai_result_container"},d2=["innerHTML"],c2=["onClick"],u2={key:1,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200"},h2={class:"ait-w-2/3 ait-py-4 ait-ml-auto ait-text-right"},p2={type:"button",class:"ait-text-white ait-bg-green-700 hover:ait-opacity-90 focus:ait-outline-none focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-full ait-text-sm ait-px-5 ait-py-1 ait-text-center ait-ml-5 ait-mr-2 dark:ait-bg-green-600 dark:hover:ait-bg-green-700 dark:focus:ait-ring-green-800 aitopia-pricing"},g2={key:2,class:"ait-px-3 ait-py-1 [&_*]:ait-text-red-800 dark:[&_*]:ait-text-red-200 ait-bg-neutral-100 dark:ait-bg-neutral-900"},f2=["innerHTML"],m2={class:"ait-justify-between ait-p-3 ait-space-x-3 ait-border ait-border-neutral-200 dark:ait-border-neutral-600 ait-rounded-xl ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200"},_2={class:"ait-flex ait-items-center ait-space-x-2 ait-pb-1"},v2={class:"ait-items-center"},b2=["innerHTML"],w2=["onMouseover","onMouseleave"],y2=["src","title","alt"],x2={class:"ait-flex ait-flex-row ait-absolute ait-top-0 ait-right-0 ait-mt-2 ait-h-[28px]"},k2={key:0,class:"ait-flex ait-justify-end"},C2=["onClick"],$2=["onClick"],L2=["onClick"],S2=["onClick"],M2=["onClick"],T2=["onClick"],H2={key:0},A2=["onClick"],P2={key:1},I2={disabled:"",class:"ait-absolute ait-bottom-[10px] ait-text-black dark:ait-text-white ait-download-button"},U2=["onClick"],E2={class:"ait-flex ait-flex-row ait-mt-2 ait-mx-auto hover:ait-text-white ait-regenerate"},j2={class:"ait-ml-1 ait-pb-2"},R2={key:0,class:"ait-flex ait-flex-row ait-mt-2 ait-ml-1"},B2={class:"ait-ml-5"},D2={key:4,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200"},O2={key:0,class:"ait-w-2/3 ait-py-4 ait-ml-auto ait-text-right"},z2={key:1,class:"ait-w-2/3 ait-py-4 ait-ml-auto ait-text-right"},V2={key:5,id:"ait-continue-chat-ai_chat",class:"ait-continue-chat ait-flex ait-items-center ait-justify-center ait-absolute ait-w-full"},F2=["data-title"],q2={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-justify-center"},N2={id:"ait-stop-chat-ai_chat",class:"ait-stop-chat ait-hide"},Z2={class:"ait-flex ait-items-center ait-text-white ait-px-5 ait-py-2.5 ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 ait-font-medium ait-text-sm ait-rounded-lg ait-transition-all ait-duration-200 ait-cursor-pointer"},W2={class:"ait-text-white"};function G2(t,e,a,l,n,s){const u=y("svg-logo"),c=y("file-button"),p=y("font-awesome-icon");return this.ai_single!=null?(o(),r(L,{key:0},[typeof this.ai_single[a.custom_key]<"u"?(o(),r(L,{key:0},[this.ai_single[a.custom_key]!=null?(o(),r("div",{key:0,class:$("ait-h-full "+this.class),id:a.id!=null?a.id:"","data-key":a.custom_key},[this.ai_single[a.custom_key]?(o(!0),r(L,{key:0},B(Object.values(this.ai_single[a.custom_key]),(m,h)=>(o(),r(L,null,[m?(o(),r("div",{key:0,"aria-details":`chat-key-${h}`,class:$(m.role=="system"||m.role=="assistant"?"ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-gray-200":"")},[m.role=="system"||m.role=="assistant"?(o(),r(L,{key:0},[i("div",l2,[b(u,{className:"ait-w-[16px] ait-h-[16px]",name:t.ModelBySvg(m.model)},null,8,["name"]),i("span",null,d(m.model),1)]),i("div",r2,[i("div",{class:$(`ai_result ${m.loading?"ai_loading":""}`),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(m.item)).replace(/\n/g,"<br/>")},null,10,d2),i("div",{class:"ait-flex ait-items-center ait-space-x-2 ait-float-right ait-cursor-pointer",onClick:v=>this.Helpers.copyClipboard(m.item.replace(/<br\/>/g,`
`))},[b(u,{className:"ait-w-3 ait-h-3",name:"clipboard"}),i("span",null,d(t.__("copy")),1)],8,c2),e[0]||(e[0]=i("div",{class:"ait-clear-both"},null,-1))])],64)):m.role=="limit"?(o(),r("div",u2,[i("div",h2,[U(d(t.__("Your usage limit has been reached. Please upgrade your plan to continue using."))+" ",1),i("button",p2,d(t.__("Upgrade")),1)])])):m.role=="error"?(o(),r("div",g2,[i("div",{class:"ait-py-4 [&_*]:ait-text-center",innerHTML:t.AiApi.prefixify(t.AiApi.linkify(m.item)).replace(/\n/g,"<br/>")},null,8,f2)])):m.role=="image"?(o(),r("div",{key:3,class:"ait-p-2 ai_result_container",style:Q(a.mode==="full"&&"max-width: 36rem")},[i("div",m2,[i("div",_2,[b(u,{className:"ait-w-[16px] ait-h-[16px] ait-rounded-full",style:{"border-radius":"100%"},name:t.ModelBySvg(m.model)},null,8,["name"]),i("span",null,d(m.model),1)]),i("div",v2,[i("div",{class:$("ai_result ait-pb-3"),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(m.title??m.item)).replace(/\n/g,"<br/>")},null,8,b2),m.images?(o(),r("div",{key:0,class:$("ait-flex ait-grid ait-image-mode "+(m.images.length>2?"ait-grid-cols-2":"ait-grid-cols-"+m.images.length))},[(o(!0),r(L,null,B(m.images,v=>(o(),r("div",{onMouseover:g=>s.mouseOverImageButtonVisibility(v.url),onMouseleave:g=>s.mouseLeaveImageButtonVisibility(v.url),class:"ait-relative"},[v.url?(o(),r(L,{key:0},[i("img",{src:v.url,title:v.seed??"",alt:v.seed??"",loading:"lazy"},null,8,y2),i("div",x2,[n.visibleImageButtons[v.url]?(o(),r("div",k2,[i("button",{onClick:g=>s.generateImageVariations(v),class:"ait-variations ait-flex ait-flex-row ait-text-black dark:ait-text-white ait-download-button ait-mr-1 ait-pt-[6px] items-center justify-center ait-text-[10px]"},[b(u,{class:"ait-relative",style:{"line-height":"13px"},name:"variants_icon"}),U(" "+d(t.__("Variations")),1)],8,C2),i("button",{onClick:g=>s.showUpscaleModal(v),style:{"font-size":"10px","margin-right":"2px","padding-top":"6px"},class:"ait-flex ait-flex-row ait-text-black dark:ait-text-white ait-download-button"},[b(u,{class:"ait-relative",style:{"line-height":"13px"},name:"upscale_icon"}),U(" "+d(t.__("Upscale")),1)],8,$2),b(u,{className:"ait-mt-auto ait-h-7 ait-w-6 ait-download-button ait-cursor-pointer",name:"three_dots_icon",onClick:g=>s.toggleDropdown(v.url)},null,8,["onClick"])])):_("",!0),n.openDropdowns[v.url]?(o(),r("div",{key:1,onClick:g=>s.toggleDropdown(v.url),class:"ait-mt-4 ait-absolute ait-right-0 ait-top-5 ait-z-50 ait-w-48 ait-bg-slate-100 dark:ait-bg-neutral-700 ait-rounded-md ait-shadow-lg"},[i("div",{onClick:g=>s.downloadImage(v.url,v.seed),class:"ait-flex ait-flex-row ait-px-4 ait-py-2 ait-text-sm ait-text-black dark:ait-text-white hover:ait-bg-gray-300 hover:dark:ait-bg-neutral-800 ait-rounded-lg ait-cursor-pointer"},[b(u,{class:"ait-ml-[2px] ait-mr-1 ait-mt-[1px]",name:"download_icon"}),U(" "+d(t.__("Download")),1)],8,S2),i("div",{onClick:g=>s.setUseAsReference(v.url),class:"ait-flex ait-flex-row ait-px-4 ait-py-2 ait-text-sm ait-text-black dark:ait-text-white hover:ait-bg-gray-300 hover:dark:ait-bg-neutral-800 ait-rounded-lg ait-cursor-pointer"},[b(u,{class:"ait-ml-[2px] ait-mr-1 ait-mt-[1px]",name:"use_as_reference_icon"}),U(" "+d(t.__("Use as reference")),1)],8,M2),i("div",{class:"ait-flex ait-flex-row ait-px-4 ait-py-2 ait-text-sm ait-text-black dark:ait-text-white hover:ait-bg-gray-300 hover:dark:ait-bg-neutral-800 ait-rounded-lg ait-cursor-pointer",onClick:g=>s.toggleEditModal(v)},[b(u,{class:"ait-mr-1 ait-mt-[1px] ait-white",name:"edit_icon"}),U(" "+d(t.__("Editing Tools")),1)],8,T2)],8,L2)):_("",!0)]),i("div",null,[n.ai_image_url_downloading===""&&n.visibleImageButtons[v.url]?(o(),r("div",H2,[i("button",{onClick:g=>s.downloadImage(v.url,v.seed),class:"ait-absolute ait-bottom-[10px] ait-text-black dark:ait-text-white ait-download-button"},d(t.__("Download")),9,A2)])):_("",!0),n.ai_image_url_downloading===v.url&&n.visibleImageButtons[v.url]?(o(),r("div",P2,[i("button",I2,d(t.__("Downloading")),1)])):_("",!0),e[1]||(e[1]=i("div",null,null,-1))])],64)):_("",!0)],40,w2))),256))],2)):_("",!0),m.loading==!1?(o(),r("button",{key:1,class:"ait-flex ait-rounded-full hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-white ait-px-1 ait-mt-3 ait-whitespace-nowrap",onClick:v=>s.regenerateAiImage(m)},[i("div",E2,[b(u,{className:"ait-mb-2",name:"regenerate_icon"}),i("div",j2,d(t.__("Regenerate")),1)])],8,U2)):_("",!0)])]),m.loading?(o(),r("div",R2,[i("div",{class:$(`${m.loading?"ai_loading":""}`)},null,2),i("div",B2,d(t.__("Generating...")),1)])):_("",!0)],4)):(o(),r("div",D2,[t.Helpers.notUndefined(m,"title")?(o(),r("div",O2,[t.Helpers.filenameByFaIcon(m.title,null)=="lines"?(o(),r(L,{key:0},[U(d(m.title),1)],64)):(o(),E(c,{key:1,title:m.title},null,8,["title"]))])):(o(),r("div",z2,d(m.item),1))])),t.Helpers.notUndefined(m,"finish_reason")=="length"?(o(),r("div",V2,[i("button",{"data-title":t.__("Continue"),class:"ait-text-white hover:ait-opacity-90 ait-font-small ait-text-md ait-px-3 ait-py-1.5 ait-my-2 ait-rounded-md dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-items-center ait-justify-center"},[i("div",q2,[b(p,{icon:"fa-solid fa-play",class:"ait-h-4 ait-w-4"}),U(" "+d(t.__("Continue generating")),1)])],8,F2)])):_("",!0)],10,n2)):_("",!0)],64))),256)):_("",!0),i("div",N2,[i("button",Z2,[b(p,{icon:"fa-solid fa-stop",class:"ait-w-4 ait-h-4 ait-mr-3"}),i("span",W2,d(t.__("Stop generating")),1)])])],10,o2)):_("",!0)],64)):_("",!0)],64)):_("",!0)}const K2=R(s2,[["render",G2]]),Y2={extends:O,props:["icon","model_setting_key","slim_mode","type","default_model","use_agent"],mounted(){let t=f.notUndefined(this.settings,this.model_setting_key??"ai_model");if(this.selected_agent,f.notUndefined(this.settings,this.model_setting_key??"ai_model")){let e=this.$props.type??"text",a=f.notUndefined(this.settings,this.model_setting_key??"ai_model"),l=a;if(typeof a=="object"&&typeof a.model_id<"u"&&(l=a.model_id),(this.ai_type_models[e]??null)!==null){let n=!1;Object.values(this.ai_type_models[e]).forEach(s=>{a=s,typeof a=="object"&&typeof a.model_id<"u"&&(l=a.model_id),t===l&&(n=!0)}),n||this.changeStorage("settings."+(this.model_setting_key??"ai_model"),this.default_model)}}else{let e=this.default_model,a=e;e||(this.ai_type_models[this.$props.type??"text"]!==null&&typeof this.ai_type_models[this.$props.type??"text"]<"u"?a=e=this.ai_type_models[this.$props.type??"text"][0]:a=e=this.constants.ai_default_model),typeof e=="object"&&typeof e.model_id<"u"&&(a=e.model_id),t!==a&&(this.changeStorage("settings."+(this.model_setting_key??"ai_model"),a),this.changeStorage("selected_agent",null))}},methods:{getModelByTooltip(t){let e=t;typeof t=="object"&&typeof t.model_id<"u"&&(e=t.model_id);let a={"GPT-3.5":{detail:"Very fast, great for most everyday tasks.",cost:"Cost 1 Fast Text query."},"GPT-4o Mini":{detail:"Very fast, great for most everyday tasks.",cost:"Cost 1 Fast query."},"GPT-4":{detail:"Most capable model, best for complex tasks requiring advanced reasoning.",cost:"Cost 1 Advanced query."},"GPT-4o":{detail:"OpenAIs newest and most advanced flagship model which can reason across audio, vision, and text in real time.",cost:"Cost 1 Advanced query."},"Claude 3 Haiku":{detail:"Anthropic's most compact model, designed for near-instant responsiveness and seamless AI experiences that mimic human interactions",cost:"Cost 1 Fast query."},"Claude 3 Sonnet":{detail:"Very fast, great for most everyday tasks.",cost:"Cost 1 Advanced query."},"Claude 3 Opus":{detail:"Anthropic's most powerful model, delivering state-of-the-art performance on highly complex tasks and demonstrating fluency and human-like understanding.",cost:"Cost 2 Advanced query."},"Claude 3.5 Haiku":{detail:"Anthropic's most compact model, designed for near-instant responsiveness and seamless AI experiences that mimic human interactions",cost:"Cost 1 Fast query."},"Claude 3.5 Sonnet":{detail:"Very fast, great for most everyday tasks.",cost:"Cost 1 Advanced query."},"Claude 3.5 Opus":{detail:"Anthropic's most powerful model, delivering state-of-the-art performance on highly complex tasks and demonstrating fluency and human-like understanding.",cost:"Cost 2 Advanced query."},"Gemini 1.5 Flash":{detail:"Google's most balanced model, perfectly blending capability with efficiency.",cost:"Cost 1 Fast query."},"Gemini 2.0 Flash":{detail:"Google's most balanced model, perfectly blending capability with efficiency.",cost:"Cost 1 Fast query."},"Gemini 1.5 Pro":{detail:"Google's lightweight model, optimized for speed and efficiency.",cost:"Cost 1 Advanced query."},"Llama 3.1 70B":{detail:"Meta's versatile model, excelling in long-form summarization, multilingual conversations, and coding assistance.",cost:"Cost 1 Fast query."},"Llama 3.3 70B":{detail:"Meta's versatile model, excelling in long-form summarization, multilingual conversations, and coding assistance.",cost:"Cost 1 Fast query."},"Llama 3.1 405B":{detail:"Meta's most powerful open-source model, rivaling top AI assistants in general knowledge, math, and multilingual capabilities.",cost:"Cost 1 Advanced query."},"o1 Mini":{detail:"OpenAI's basic reasoning model for STEM reasoning, especially math and coding. Best for tasks needing strong logic without broad knowledge.",cost:"Cost 5 Advanced query"},"o1 Preview":{detail:"OpenAI's advanced reasoning model for complex tasks in science, math, and coding. Takes more time to think, delivering well-considered responses to challenging problems.",cost:"Cost 15 Advanced query"},o1:{detail:"OpenAI's advanced reasoning model for complex tasks in science, math, and coding. Takes more time to think, delivering well-considered responses to challenging problems.",cost:"Cost 15 Advanced query"},"o3 Mini":{detail:"OpenAI's basic reasoning model for STEM reasoning, especially math and coding. Best for tasks needing strong logic without broad knowledge.",cost:"Cost 5 Advanced query"},"DeepSeek V3":{detail:"DeepSeek's advanced model excelling in complex reasoning, mathematics, and coding tasks, delivering superior performance in both analytical and creative tasks.",cost:"Cost 1 Fast query"},"DeepSeek R1":{detail:"DeepSeek's flagship reasoning model, specializing in mathematics, coding, and multi-step reasoning tasks, matching or surpassing OpenAI o1 in many benchmarks.",cost:"Cost 2 Advanced query"},"SDXL v1.0":{detail:"Deep learning models excel in natural language understanding and visual performance.",cost:"Each image cost 3 Fast Credit"},SD3:{detail:"Natural language understanding has further improved, with richer details.",cost:"Each image cost 3 Advanced Credit"},"SD3 Large Turbo":{detail:"Based on SD3 stable diffusion, it offers faster speed, high resolution, and multiple perspectives.",cost:"Each image cost 2 Advanced Credit"},"Dall-e 3":{detail:"DALL-E is an artificial intelligence model that generates unique and high-quality images based on text descriptions.",cost:"Each image cost 2 Fast Credit"}};if(typeof t=="object"&&typeof t.detail<"u"){let l=t.parent_model.toString().split("_")[0].toCapitalizeCase(),n=` ${t.credit} ${l}`;t.type=="text"?n=`Cost ${n} query`:n=`Each ${t.type} cost ${n} Credit`,a[e]={detail:t.detail,cost:n}}if(typeof a[e]<"u")return'<div class="ait-text-xs"><div class="ait-text-xs ait-break-words ait-whitespace-pre-wrap ait-text-gray-200 dark:ait-text-gray-800">'+f.__(a[e].detail)+'</div><div class="ait-text-[10px] ait-opacity-60 ait-mt-1 ait-text-gray-200 dark:ait-text-gray-800">'+a[e].cost+"</div></div>"},getModelByDetail(t){let e=this.$props.type??"text";if(this.ai_type_models!=null)return typeof this.ai_type_models[e]<"u"&&Object.values(this.ai_type_models[e]).forEach(a=>{if(a==t)return console.log(a),a}),f.notUndefined(this.ai_type_models,`${e}.${t}`)},getAttrs(t){return t?{"data-ait-dropdown-toggle":"ait-model-dropdown","data-placement":"top-start"}:{"data-ait-modal-btn":"show_model_sidebar"}}}},Q2={class:"ait-flex ait-items-center ait-justify-center ait-rounded-full"},X2={class:"ait-ai-icon ait-flex ait-justify-center ait-items-center ait-rounded-full ait-ml-[1px] ait-mr-[2px]"},J2={class:"ait-flex ait-items-center ait-justify-center ait-rounded-full"},tg={key:0,class:"ait-inline-block ait-text-[13px] ait-text-ellipsis ait-whitespace-nowrap ait-overflow-hidden ait-max-w-full"},eg={class:"ait-flex ait-items-end pl-[2px] pr-[2px]"},ig={"aria-hide":"true",fill:"currentColor",focusable:"false",height:"12",role:"img",style:{display:"inline-block","user-select":"none","vertical-align":"text-bottom",overflow:"visible"},viewBox:"0 0 12 12",width:"12"},ag={key:0,class:"ait-divide-y ait-divide-neutral-100 dark:ait-divide-neutral-700"},sg=["onClick"],og={class:"ait-w-full"},ng={class:"ait-gap-4 ait-text-neutral-900 dark:ait-text-white ait-text-sm dark:ait-text-neutral-400"},lg={class:"ait-ai-icon ait-flex ait-gap-2 ait-text-[12px]"},rg={class:"ait-flex ait-items-center ait-justify-center ait-rounded-full ait-w-[14px] ait-h-[14px] lg:ait-w-[16px] lg:ait-h-[16px]"},dg={class:"ait-ai-icon ait-flex ait-justify-center ait-items-center ait-rounded-full ait-h-3.5 ait-w-3.5 lg:ait-h-4 lg:ait-w-4 ait-ml-[1px] ait-mr-[2px]"},cg={class:"ait-flex ait-items-center ait-justify-center ait-rounded-full ait-w-[14px] ait-h-[14px] lg:ait-w-[16px] lg:ait-h-[16px]"},ug={key:0,class:"ait-inline-block ait-text-[13px] ait-text-ellipsis ait-whitespace-nowrap ait-overflow-hidden ait-max-w-full"},hg={class:"ait-flex ait-items-end pl-[2px] pr-[2px]"},pg={"aria-hide":"true",fill:"currentColor",focusable:"false",height:"12",role:"img",style:{display:"inline-block","user-select":"none","vertical-align":"text-bottom",overflow:"visible"},viewBox:"0 0 12 12",width:"12"};function gg(t,e,a,l,n,s){const u=y("ModelLogo"),c=y("HoverPopover"),p=y("AgentLogo"),m=y("AiModels");return o(),r(L,null,[U(d(s.getModelByDetail(t.Helpers.notUndefined(this.settings,this.model_setting_key??"ai_model")))+" ",1),i("div",{class:$(["ait-flex ait-flex-wrap ait-gap-[6px] ait-max-w-full ait-place-self-end ait-self-center",t.$props.icon?"":"ait-min-w-[55px]"])},[i("div",Ct({class:["ait-text-xs ait-relative",(t.$props.icon?"":"ait-min-w-[55px]")+this.$props.slim_mode?"":" ait-w-[125px]"]},s.getAttrs(this.$props.slim_mode)),[!t.$props.use_agent||this.selected_agent===null?(o(),r(L,{key:0},[t.$props.icon?(o(),r("div",Ct({key:0,class:"ait-ai-icon ait-cursor-pointer ait-flex ait-justify-center ait-items-center ait-rounded-full ait-mx-1 ait-my-2.5"},t.$attrs),[i("div",Q2,[b(u,{class:"ait-w-[16px] ait-h-[16px]",check_logo:!0,model:t.Helpers.notUndefined(this.settings,this.model_setting_key??"ai_model")},null,8,["model"])])],16)):(o(),r("div",Ct({key:1,class:"ait-flex ait-justify-center ait-min-h-full ait-max-h-full ait-items-center ait-leading-4 ait-gap-[2px] lg:ait-flex ait-space-x-1 ait-text-sm ait-relative dark:ait-text-neutral-200 ait-border ait-rounded-xl ait-cursor-pointer "+(this.$props.slim_mode?"ait-p-[20px]":"ait-pl-[6px] ait-pr-[5px] ait-py-[7px]")},t.$attrs),[i("div",X2,[i("div",J2,[b(u,{class:"ait-w-[16px] ait-h-[16px]",check_logo:!0,model:t.Helpers.notUndefined(this.settings,this.model_setting_key??"ai_model")},null,8,["model"])])]),this.$props.slim_mode?_("",!0):(o(),r("span",tg,d(t.Helpers.notUndefined(this.settings,this.model_setting_key??"ai_model")),1)),i("div",eg,[(o(),r("svg",ig,e[0]||(e[0]=[i("path",{d:"M6 8.825c-.2 0-.4-.1-.5-.2l-3.3-3.3c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l2.7 2.7 2.7-2.7c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-3.2 3.2c-.2.2-.4.3-.6.3Z"},null,-1)])))])],16)),this.GroupChat.is_show==!1&&this.$props.slim_mode?(o(),r("ul",{key:2,class:$("ait-model-dropdown ait-z-20 ait-width-full ait-hide ait-w-max ait-min-w-[180px] ait-max-w-[250px] ait-bg-white ait-divide-y ait-divide-neutral-100 ait-rounded-lg ait-shadow dark:ait-bg-neutral-900 dark:ait-divide-neutral-700 "+(t.$props.icon?"ait-left-[-8px]":"")+(this.settings.ai_mode=="api"?" ait-overflow-y-auto ait-max-h-[300px] ":""))},[this.ai_type_models?(o(),r("div",ag,[(o(!0),r(L,null,B(this.ai_type_models[this.$props.type??"text"],(h,v)=>(o(),E(c,{"popover-text":this.getModelByTooltip(h)??"",position:"y"},{default:D(()=>[i("div",{class:"ait-flex ait-px-4 ait-py-2.5 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 hover:ait-rounded-lg ait-cursor-pointer",style:Q(t.Helpers.notUndefined(this.settings,this.model_setting_key??"ai_model")==h.model_id?"background:rgba(1,167,125,.3);":""),onClick:g=>this.changeStorage("settings."+(this.model_setting_key??"ai_model"),h.model_id)},[i("div",og,[i("div",ng,[i("div",lg,[b(u,{model:h,class:"ait-w-[16px] ait-h-[16px]"},null,8,["model"]),U(" "+d(h.model_id),1)])])])],12,sg)]),_:2},1032,["popover-text"]))),256))])):_("",!0)],2)):_("",!0)],64)):t.$props.use_agent?(o(),r(L,{key:1},[t.$props.icon?(o(),r("div",Ct({key:0,class:"ait-ai-icon ait-cursor-pointer ait-flex ait-justify-center ait-items-center ait-rounded-full ait-h-3.5 ait-w-3.5 lg:ait-h-4 lg:ait-w-4 ait-mx-1 ait-my-2.5"},t.$attrs),[i("div",rg,[b(p,{class:"ait-text-md ait-w-[14px] ait-h-[14px] lg:ait-w-[16px] lg:ait-h-[16px]",agent:this.selected_agent},null,8,["agent"])])],16)):(o(),r("div",Ct({key:1,class:"ait-flex ait-justify-center ait-min-h-full ait-max-h-full ait-items-center ait-leading-4 ait-gap-[2px] lg:ait-flex ait-space-x-1 ait-text-sm ait-relative dark:ait-text-neutral-200 ait-border ait-rounded-xl ait-cursor-pointer "+(this.$props.slim_mode?"ait-p-[20px]":"ait-pl-[6px] ait-pr-[5px] ait-py-[7px]")},t.$attrs),[i("div",dg,[i("div",cg,[b(p,{class:"ait-text-[14px] ait-leading-[14px] lg:ait-text-[16px] lg:ait-leading-[16px] ait-w-[14px] ait-h-[14px] lg:ait-w-[16px] lg:ait-h-[16px]",agent:this.selected_agent},null,8,["agent"])])]),this.$props.slim_mode?_("",!0):(o(),r("span",ug,d(t.Helpers.notUndefined(this.selected_agent,"title")),1)),i("div",hg,[(o(),r("svg",pg,e[1]||(e[1]=[i("path",{d:"M6 8.825c-.2 0-.4-.1-.5-.2l-3.3-3.3c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l2.7 2.7 2.7-2.7c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-3.2 3.2c-.2.2-.4.3-.6.3Z"},null,-1)])))])],16))],64)):_("",!0)],16)],2),e[2]||(e[2]=i("span",{class:"ait-hide ait-my-2.5 ait-left-[-8px]"},null,-1)),!this.GroupChat.is_show&&!this.$props.slim_mode?(o(),E(m,{key:0,type:this.$props.type,model_setting_key:this.$props.model_setting_key},null,8,["type","model_setting_key"])):_("",!0)],64)}const ki=R(Y2,[["render",gg]]),fg={components:{ChooseModel:ki},extends:O,name:"Painter",props:["mode"],data(){return{image_ai_models:{StableDiffusion:"Stable Diffusion"},selectedAIModel:"StableDiffusion",referenceImageShowTooltip:!1,isTagsHidden:!1,editToolsShowTooltip:!1}},methods:{toggleTags(){this.isTagsHidden=!this.isTagsHidden},onEditToolsClick(){this.showEditToolUploadModal&&(this.showEditToolUploadModal=!1),localStorage.setItem("reference_edit_tool_image",null),localStorage.setItem("is_edit_modal_redirected_from_painter","1"),this.showEditToolsModal=!0}}},Bt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAz0lEQVR4nN3VoU7CURTH8Y9IsNAwSjDZfALGeAgak2IxWbXpE5jceIZ/hsRG+j8BFDpJosnirnO7bMY/jPNX+W3fdu++O7v3nMOxpokRhjiLkjwiZda4zeKDpvgh2bLCACeRki2LLAuVpEyJbrQkZWa4jpYkfOY7l7tIxjtKUuYDLzivIrnABG97yt7xhFbVqtro4Q6vmGNTUfZ97h4Ne+YKz1hWkPV/rZIOptFvMq7jdxV19EnxVzq+jJxdi8gpfPB98lDHZjzFTfSO92/zBcBszGtUUreMAAAAAElFTkSuQmCC",mg={id:"ai-message-container",class:"ait-flex ait-relative ait-flex-grow ait-w-full ait-overflow-x-hidden"},_g={class:"ait-w-full"},vg={class:"ait-flex ait-flex-col ait-h-full ait-space-y-3"},bg={class:"ait-p-2"},wg={class:"ait-flex ait-items-center ait-justify-between ait-p-3 ait-space-x-3 ait-border ait-border-neutral-200 dark:ait-border-neutral-600 ait-rounded-xl ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200"},yg={class:"ait-font-normal"},xg=["src"],kg={key:1,class:"ait-flex ait-flex-row ait-flex-wrap"},Cg=["src"],$g=["src"],Lg=["src"],Sg=["src"],Mg={class:"ait-font-normal"},Tg={class:"ait-px-3 ait-pt-3"},Hg={class:"ait-flex ait-gap-3 ait-relative ait-items-center lg:ait-justify-start ait-my-3"},Ag=["data-aittooltip"],Pg=["data-aittooltip"],Ig={class:"ait-flex ait-relative ait-items-end ait-p-1 ait-space-x-1 ait-border ait-rounded-xl ait-h-[120px] ait-max-h-[120px]",id:"ait-prompt-container"},Ug=["readonly","placeholder"],Eg={key:0,class:"ait-flex ait-flex-row ait-absolute ait-w-[90%] ait-ml-1 ait-mr-3"},jg={class:"ait-text-[10px]"},Rg={class:"ait-flex ait-gap-4"};function Bg(t,e,a,l,n,s){const u=y("ImageAiResponse"),c=y("ChooseModel"),p=y("Credit"),m=y("ImageChatSettingsModal"),h=y("OptimizePrompt"),v=y("font-awesome-icon"),g=y("ReferenceImage"),w=y("EditToolsModal"),C=y("EditToolsUploadModal"),S=y("svg-logo"),A=y("ImagePreview"),x=y("HoverPopover");return this.settings.switchbar=="image"?(o(),r("div",{key:0,id:"ai-sidebar-content",class:$(`${a.mode==="full"&&"ait-h-full"}`)},[i("div",{class:$([`${a.mode==="full"?"ait-h-full":"ait-h-screen"}`,"ait-flex ait-flex-col"])},[i("div",mg,[i("div",_g,[i("div",vg,[i("div",bg,[i("div",wg,[i("div",null,[e[9]||(e[9]=i("div",{style:{position:"fixed","z-index":"9999",inset:"16px","pointer-events":"none"}},null,-1)),i("p",yg,d(t.__(`Your personal AI artist is ready for you Please tell me what you want to create like a bird
                    flying above the ocean, a palm at the island, a house in the snowy mountains, I'll create a
                    unique masterpiece for you in seconds`)),1),a.mode!=="full"?(o(),r("img",{key:0,src:`${t.constants.extension_dir}assets/images/example-ai-chat.png`,alt:"bot artist image",class:"ait-w-[324px] ait-h-[324px] ait-py-2"},null,8,xg)):_("",!0),a.mode==="full"?(o(),r("div",kg,[i("img",{src:`${t.constants.extension_dir}assets/images/00.png`,alt:"00",class:"ait-w-[150px] ait-h-[150px] ait-py-2"},null,8,Cg),i("img",{src:`${t.constants.extension_dir}assets/images/01.png`,alt:"01",class:"ait-w-[150px] ait-h-[150px] ait-py-2"},null,8,$g),i("img",{src:`${t.constants.extension_dir}assets/images/10.png`,alt:"10",class:"ait-w-[150px] ait-h-[150px] ait-py-2"},null,8,Lg),i("img",{src:`${t.constants.extension_dir}assets/images/11.png`,alt:"11",class:"ait-w-[150px] ait-h-[150px] ait-py-2"},null,8,Sg)])):_("",!0),i("p",Mg,d(t.__("e.g: a sweet puppy running at the beach")),1)])])]),b(u,{custom_key:t.Helpers.SHA1("image"),mode:this.mode},null,8,["custom_key","mode"])])])]),i("div",Tg,[i("div",Hg,[b(c,{type:"image",model_setting_key:"ai_image_model"}),b(p),b(m,{mode:this.mode},null,8,["mode"]),i("div",null,[b(h,{type:"image"}),i("button",{type:"button","data-ait-dropdown-toggle":"ait-optimize-promptimage",class:"ait-flex-col ait-text-[11px] ait-text-[var(--ait-link-color)] hover:ait-text-neutral-700 dark:hover:ait-text-neutral-100","data-aittooltip":t.__("Optimize Prompt"),"data-aittooltip-class":"ait-w-27"},[b(v,{icon:"fa-solid fa-terminal",class:"ait-w-3 ait-h-3"})],8,Ag)]),this.settings.ai_image_model!=="Dall-e 3"?(o(),E(g,{key:0,mode:this.mode},null,8,["mode"])):_("",!0),a.mode==="full"?(o(),E(w,{key:1})):_("",!0),a.mode==="full"?(o(),E(C,{key:2})):_("",!0),i("button",{onMouseover:e[0]||(e[0]=I=>n.editToolsShowTooltip=!0),onMouseleave:e[1]||(e[1]=I=>n.editToolsShowTooltip=!1),onClick:e[2]||(e[2]=(...I)=>s.onEditToolsClick&&s.onEditToolsClick(...I)),type:"button",class:"ait-flex-col ait-text-[11px] ait-text-[var(--ait-link-color)] hover:ait-text-neutral-700 dark:hover:ait-text-neutral-100","data-aittooltip":t.__("Editing Tools"),"data-aittooltip-class":"ait-w-27"},[b(S,{name:"magic_wand"})],40,Pg),this.settings.ai_image_model!=="Dall-e 3"?(o(),E(A,{key:3})):_("",!0)]),i("div",Ig,[F(i("textarea",{readonly:this.ai_wait??!1,"onUpdate:modelValue":e[3]||(e[3]=I=>this.image_settings.prompt=I),name:"image_settings_prompt",onChange:e[4]||(e[4]=I=>this.image_settings.prompt=I.target.value),class:"ait-selection-container ait-ai-text-item ait-relative ait-w-full ait-p-1 ait-pb-[20px] ait-border-0 focus:ait-border-0 focus:ait-shadow-none ait-outline-none ait-resize-none ait-bg-transparent dark:ait-text-neutral-200",id:"ait-prompt-selection",rows:"4",placeholder:t.__("Briefly describe the image you want to create...")},null,40,Ug),[[tt,this.image_settings.prompt]]),n.isTagsHidden?_("",!0):(o(),r("div",Eg,[i("div",jg,d(t.__("e.g.")),1),i("div",{class:"ait-ml-3 ait-text-[10px] ait-cursor-pointer hover:ait-text-[var(--ait-tab-menu-active-bg-color)]",onClick:e[5]||(e[5]=I=>t.ImageAi.build(this,"image","",this.settings.ai_image_model,"Romantic painting of a ship sailing in a stormy ocean, with dramatic lighting and powerful waves",t.__("a ship in the ocean")))},"  "+d(t.__("a ship in the ocean")),1),i("div",{class:"ait-ml-3 ait-text-[10px] ait-cursor-pointer hover:ait-text-[var(--ait-tab-menu-active-bg-color)]",onClick:e[6]||(e[6]=I=>t.ImageAi.build(this,"image","",this.settings.ai_image_model,"a pretty woman in the street modern city, wavy wild hair, opaque sunglasses, digital painting, vintage style, bright colors , atmospheric lighting, cinematic composition, muted colors adds, highly detailed. dark ambiance, impasto oil drawing, achromatic, ( hyperrealistic art:0. 5), watercolor style, modern ink",t.__("a woman in the city")))},"  "+d(t.__("a woman in the city")),1),i("button",{type:"button",class:"ait-ml-3 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":"",onClick:e[7]||(e[7]=(...I)=>s.toggleTags&&s.toggleTags(...I))},e[10]||(e[10]=[i("svg",{class:"ait-w-2 ait-h-2","aria-hide":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)]))])),i("div",Rg,[b(x,{"popover-text":t.__("Send")},{default:D(()=>[i("img",{id:"ait-prompt-submit",onClick:e[8]||(e[8]=I=>this.image_settings.prompt==null||this.image_settings.prompt.length==0?"":t.ImageAi.build(this,"image",this.image_settings.prompt,this.settings.ai_image_model,null).then(this.image_settings.prompt=this.image_settings.keep_prompt===!0?this.image_settings.prompt:null)),style:Q(this.image_settings.prompt==null||this.image_settings.prompt.length==0?"filter: invert(0.5)!important;":""),src:Bt,class:"ait-w-5 ait-h-5 ait-opacity-80 ait-cursor-pointer dark:ait-invert"},null,4)]),_:1},8,["popover-text"])])])])],2)],2)):_("",!0)}const Dg=R(fg,[["render",Bg]]),Og={extends:O,data(){return{editToolUploadModalErrorMessage:"",isEditToolUploadModalProcessing:!1,editToolUploadModalDragActive:!1,editToolUploadModalInputFile:null,showEditToolUploadModal:!1,selectedEditToolImage:null,editToolUploadFileHash:null,isEditToolUploadButtonDisabled:!0,promptText:"",isReferenceImageLoading:!1,upscaleValue:2}},created(){this.checkSelectedReferenceImage()},updated(){this.checkSelectedReferenceImage()},methods:{toggleEditToolUploadModal(){this.showEditToolUploadModal=!this.showEditToolUploadModal,this.removeFileIfExists()},toggleEditToolUploadModalOnClick(){this.toggleEditToolUploadModal(),this.promptText=null,this.upscaleValue=null},dragOver(t){t.preventDefault(),this.editToolUploadModalDragActive=!0},dragEnter(t){t.preventDefault(),this.editToolUploadModalDragActive=!0},dragLeave(t){t.preventDefault(),this.editToolUploadModalDragActive=!1},getFileName(t){return f.slugify(t.name)},async uploadImage(t){const e=t.target.files[0];this.editToolUploadModalInputFile=e,await this.processFile(e)},async handleDrop(t){const e=t.dataTransfer.files[0];this.editToolUploadModalInputFile=e,await this.processFile(e)},async processFile(t){this.isEditToolUploadModalProcessing=!0,this.editToolUploadModalInputFile=t,this.Uploader.upload(t,41943040,["image/jpeg","image/jpg","image/png"],a=>{this.editToolUploadFileHash=f.SHA1(t.name+t.size).toString(),this.selectedEditToolImage=this.files[this.editToolUploadFileHash],this.files[this.editToolUploadFileHash]=this.selectedEditToolImage,document.querySelector("#fileInput")!=null&&(document.querySelector("#fileInput").value=""),this.changeStorage("image_settings.image",this.selectedEditToolImage.url,!1),this.showImage(),this.isEditToolUploadModalProcessing=!1})||(this.hideImage(),this.isEditToolUploadModalProcessing=!1)},getKey(){if(this.editToolUploadModalInputFile){let t=this.editToolUploadModalInputFile;return f.SHA1(t.name+t.size).toString()}},onUploadAgainClick(){document.getElementById("upload-again").click()},checkSelectedReferenceImage(){const t=document.getElementById("selected-edit-tool-image");if(t&&!t.classList.contains("ait-hidden"))return;this.isEditToolUploadButtonDisabled=!0;const e=localStorage.getItem("is_edit_modal_redirected_from_painter");if(e&&e==="1"){this.selectedEditToolImage=null,localStorage.setItem("is_edit_modal_redirected_from_painter",null);return}const a=localStorage.getItem("reference_edit_tool_image"),l=JSON.parse(a);if(l){this.selectedEditToolImage=l,this.showImage(),this.isEditToolUploadModalProcessing=!1,localStorage.setItem("reference_edit_tool_image",null);return}this.selectedEditToolImage&&(this.showImage(),this.isEditToolUploadModalProcessing=!1)},showImage(){const t=document.getElementById("drag-and-drop");if(t){t.classList.add("ait-hidden");const e=document.getElementById("selected-edit-tool-image");e.classList.remove("ait-hidden"),e.classList.add("ait-flex"),document.getElementById("upload-again-button").classList.remove("ait-hidden"),this.validateAdditionalFields()}},hideImage(){const t=document.getElementById("selected-edit-tool-image");t&&(this.selectedEditToolImage=null,t.classList.add("ait-hidden"),t.classList.remove("ait-flex"),document.getElementById("drag-and-drop").classList.remove("ait-hidden"),document.getElementById("upload-again-button").classList.add("ait-hidden"),this.validateAdditionalFields())},validateAdditionalFields(){const t=this.validateAdditionalField(this.selectedTool.prompt,this.promptText),e=this.validateAdditionalField(this.selectedTool.size,this.upscaleValue);if(!t||!e||!this.selectedEditToolImage){this.isEditToolUploadButtonDisabled=!0;return}this.isEditToolUploadButtonDisabled=!1},validateAdditionalField(t,e){return t?!!e:!0},removeFileIfExists(){this.files[this.getKey()]&&(this.files[this.getKey()]=null)}}},zg={key:0,tabindex:"-1","aria-hide":"true",class:"ait-h-[var(--ait-height-100)] ait-h-dvh ait-items-center ait-fixed ait-modal ait-m-0 ait-bg-[rgba(0,0,0,.5)] ait-top-0 ait-left-0 ait-right-0 ait-w-full ait-p-4 ait-overflow-x-hidden ait-overflow-y-auto lg:ait-inset-0 h-[calc(100%)] ait-max-h-full ait-justify-center ait-flex","data-modal-hide":""},Vg={class:"ait-relative ait-w-[90%] lg:ait-w-[45%] ait-max-h-full"},Fg={class:"ait-relative ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-800"},qg={class:"ait-px-6 ait-py-4 ait-border-b ait-rounded-t dark:ait-border-neutral-600"},Ng={class:"ait-text-base ait-font-semibold ait-text-neutral-900 lg:ait-text-lg dark:ait-text-white ait-text-left"},Zg={id:"upload-again-button",class:"ait-hidden"},Wg={class:"ait-sr-only"},Gg={key:0,class:"ait-w-full"},Kg={class:"ait-w-full ait-bg-gray-200 ait-rounded-full ait-h-2.5 ait-mb-4 dark:ait-bg-gray-700"},Yg={key:1,class:"ait-px-4 ait-text-sm ait-text-neutral-600 dark:ait-text-neutral-400"},Qg=["disabled"],Xg={key:2,for:"fileInput",class:"ait-w-full ait-h-full ait-relative"},Jg={class:"ait-flex ait-flex-col ait-w-full ait-p-6 ait-items-center ait-justify-center ait-mt-4 ait-border-2 ait-border-dotted ait-border-neutral-300 dark:ait-border-neutral-700 ait-rounded-lg ait-text-neutral-600 dark:ait-text-neutral-400 ait-text-center ait-cursor-pointer ait-transition-all hover:ait-opacity-70"},t3={key:3,class:"ait-flex ait-justify-center ait-items-center ait-h-25"},e3={class:"ait-w-full ait-flex ait-justify-between ait-items-end"},i3={class:"ait-h-6"},a3={key:0,class:"ait-text-red-500 ai-text-sm"},s3={id:"selected-edit-tool-image",class:"ait-hidden ait-p-4 ait-w-full ait-text-center ait-flex-col ait-items-center ait-gap-3"},o3={class:"ait-p-1 ait-justify-center",style:{display:"contents"}},n3={key:0,class:"ait-w-full"},l3={class:"ait-w-full ait-bg-gray-200 ait-rounded-full ait-h-2.5 ait-mb-4 dark:ait-bg-gray-700"},r3={key:1,class:"ait-flex ait-justify-center ait-items-center ait-h-25"},d3=["src"],c3={class:"ait-w-full ait-flex ait-justify-between ait-items-end"};function u3(t,e,a,l,n,s){var p,m,h;const u=y("svg-logo"),c=y("EditToolsUploadModalActionSection");return n.showEditToolUploadModal?(o(),r("div",zg,[i("div",Vg,[i("div",Fg,[i("div",qg,[i("h3",Ng,d(t.__((p=this.selectedTool)==null?void 0:p.name)),1),i("div",Zg,[i("button",{type:"button",onClick:e[1]||(e[1]=(...v)=>s.onUploadAgainClick&&s.onUploadAgainClick(...v)),class:"ait-download-button dark:ait-text-white ait-text-neutral-900 ait-h-7 ait-absolute ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white",style:{right:"4rem",top:"0.8rem"}},[b(u,{className:"ait-mr-1",name:"upload_again_icon"}),U(" "+d(t.__("Upload again"))+" ",1),i("input",{id:"upload-again",type:"file",onChange:e[0]||(e[0]=(...v)=>s.uploadImage&&s.uploadImage(...v)),accept:"image/png, image/jpeg",ref:"file",class:"ait-hidden"},null,544)])]),i("button",{type:"button",class:"ait-absolute ait-top-3 ait-right-2.5 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white","data-modal-hide":"",onClick:e[2]||(e[2]=(...v)=>s.toggleEditToolUploadModalOnClick&&s.toggleEditToolUploadModalOnClick(...v))},[b(u,{className:"ait-w-3 ait-h-3",name:"close_icon"}),i("span",Wg,d(t.__("Close modal")),1)])]),i("div",{id:"drag-and-drop",class:"ait-px-8 ait-mt-4 ait-w-full ait-text-center ait-flex ait-flex-col ait-items-center",onDrop:e[4]||(e[4]=J((...v)=>s.handleDrop&&s.handleDrop(...v),["prevent"])),onDragover:e[5]||(e[5]=J((...v)=>s.dragOver&&s.dragOver(...v),["prevent"])),onDragenter:e[6]||(e[6]=J((...v)=>s.dragEnter&&s.dragEnter(...v),["prevent"])),onDragleave:e[7]||(e[7]=J((...v)=>s.dragLeave&&s.dragLeave(...v),["prevent"]))},[n.isEditToolUploadModalProcessing&&this.files[this.getKey()]?(o(),r("div",Gg,[U(d(t.__("Progress"))+" ",1),i("div",Kg,[i("div",{class:"ait-bg-green-600 ait-h-2.5 ait-rounded-full dark:ait-bg-green-500",style:Q("transition: width 2s;"+(this.files[this.getKey()].progress!=100?`width:${this.files[this.getKey()].progress}%`:"width:100%"))},null,4)])])):_("",!0),n.isEditToolUploadModalProcessing?_("",!0):(o(),r("p",Yg,d(t.__((m=this.selectedToolDetail)==null?void 0:m.description)),1)),i("input",{type:"file",id:"fileInput",onChange:e[3]||(e[3]=(...v)=>s.uploadImage&&s.uploadImage(...v)),disabled:n.isEditToolUploadModalProcessing,style:{display:"none"}},null,40,Qg),n.isEditToolUploadModalProcessing?_("",!0):(o(),r("label",Xg,[i("div",Jg,[i("span",{class:$(["ait-block ait-mt-2",n.editToolUploadModalDragActive?"ait-opacity-100":"ait-opacity-60"])},[U(d(n.editToolUploadModalDragActive?t.__("Drop your image here"):t.__("Drag your image here or click to upload"))+" ",1),e[8]||(e[8]=i("br",null,null,-1)),U(" "+d(t.__("File types supported: Png, Jpg | Max file size: 4MB")),1)],2)])])),n.isEditToolUploadModalProcessing?(o(),r("div",t3,e[9]||(e[9]=[i("div",{class:"ait-border-4 ait-border-solid ait-border-t-transparent ait-border-gray-200 ait-rounded-full ait-w-9 ait-h-9 ait-animate-spin"},null,-1)]))):_("",!0),i("div",e3,[b(c)]),i("div",i3,[n.editToolUploadModalErrorMessage?(o(),r("p",a3,d(n.editToolUploadModalErrorMessage),1)):_("",!0)])],32),i("div",s3,[i("div",o3,[n.isEditToolUploadModalProcessing&&this.files[this.getKey()]?(o(),r("div",n3,[U(d(t.__("Progress"))+" ",1),i("div",l3,[i("div",{class:"ait-bg-green-600 ait-h-2.5 ait-rounded-full dark:ait-bg-green-500",style:Q("transition: width 2s;"+(this.files[this.getKey()].progress!=100?`width:${this.files[this.getKey()].progress}%`:"width:100%"))},null,4)])])):_("",!0),n.isEditToolUploadModalProcessing?(o(),r("div",r3,e[10]||(e[10]=[i("div",{class:"ait-border-4 ait-border-solid ait-border-t-transparent ait-border-gray-200 ait-rounded-full ait-w-9 ait-h-9 ait-animate-spin"},null,-1)]))):_("",!0),n.isEditToolUploadModalProcessing?_("",!0):(o(),r("img",{key:2,src:(h=this.selectedEditToolImage)==null?void 0:h.url,alt:"Image preview",class:"ait-object-cover",style:{"max-width":"50%","max-height":"50%"}},null,8,d3)),i("div",c3,[b(c)])])])])])])):_("",!0)}const h3=R(Og,[["render",u3]]),p3={extends:O,data(){return{editTools:V.editTools}},methods:{onBackButtonClick(){this.toggleEditToolUploadModal(),this.showEditToolsModal=!0,this.editToolUploadModalInputFile=null,this.promptText=null,this.upscaleValue=null},async onSubmitButtonClick(t){var e,a;if(!this.isEditToolUploadButtonDisabled){this.toggleEditToolUploadModal(),this.isReferenceImageLoading=!0,await this.changeStorage("image_settings.action",t.id,!1),this.editToolUploadModalInputFile=null,await this.changeStorage("image_settings.image",(e=this.selectedEditToolImage)==null?void 0:e.url,!1);let l;if(t.size){const n=await this.getImageMeta((a=this.selectedEditToolImage)==null?void 0:a.url);l=await Yt.build(this,"image",this.promptText,this.settings.ai_image_model,null,t.id,{target_width:(this.upscaleValue*n.naturalWidth).toString()+"px",target_height:(this.upscaleValue*n.naturalHeight).toString()+"px"})}else l=await Yt.build(this,"image",this.promptText,this.settings.ai_image_model,null,t.id);this.image_settings.prompt=null,this.changeStorage("image_settings.image",f.notUndefined(l,"images.0.url"),!1),this.isReferenceImageLoading=!1,this.promptText=null,this.upscaleValue=null}},async getImageMeta(t){return new Promise((e,a)=>{const l=new Image;l.onload=()=>e(l),l.onerror=n=>a(n),l.src=t})},toggleEditToolUploadModal(){this.showEditToolUploadModal=!this.showEditToolUploadModal,this.removeFileIfExists()},removeFileIfExists(){this.files[this.getKey()]&&(this.files[this.getKey()]=null)},getKey(){if(this.editToolUploadModalInputFile){let t=this.editToolUploadModalInputFile;return f.SHA1(t.name+t.size).toString()}},onUpscaleClick(t){this.upscaleValue=t,this.validateAdditionalFields()},validateAdditionalFields(){const t=this.validateAdditionalField(this.selectedTool.prompt,this.promptText),e=this.validateAdditionalField(this.selectedTool.size,this.upscaleValue);if(!t||!e||!this.selectedEditToolImage){this.isEditToolUploadButtonDisabled=!0;return}this.isEditToolUploadButtonDisabled=!1},validateAdditionalField(t,e){return t?!!e:!0}}},g3={key:0,class:"ait-flex ait-items-center",style:{"margin-left":"18px"}},f3={key:0,class:"ait-flex ait-items-center ait-px-1 dark:ait-bg-stone-900 ait-bg-neutral-500 ait-ml-12",style:{"border-radius":"12px"}},m3={class:"ait-flex dark:ait-bg-stone-900 ait-bg-neutral-500 ait-rounded-full ait-h-10 ait-w-20 ait-items-center ait-justify-between"},_3=["placeholder"],v3=["onClick"],b3={class:"ait-flex ait-flex-row ait-ml-2 ait-text-white"};function w3(t,e,a,l,n,s){const u=y("svg-logo");return o(),r(L,null,[i("button",{onClick:e[0]||(e[0]=c=>this.onBackButtonClick()),type:"button",class:"ait-text-white dark:ait-bg-neutral-600 ait-bg-neutral-200 ait-rounded-full ait-p-2.5 ait-text-center ait-inline-flex ait-items-center ait-me-2 ait-mt-5"},[b(u,{className:"ait-w-6 ait-h-6 ait-text-white ait-transition-transform ait-duration-300 group-hover:ait-scale-110",name:"back_icon"})]),(o(!0),r(L,null,B(this.editTools,(c,p)=>(o(),r(L,null,[this.selectedTool.id===c.id?(o(),r("div",{key:0,style:Q([`width:${c.sectionWidth}%`,{"border-radius":"24px !important"}]),class:"ait-justify-between dark:ait-bg-neutral-600 ait-bg-neutral-200 ait-relative ait-flex ait-h-15"},[c.prompt?_("",!0):(o(),r("div",g3,[U(d(c.explanation!=null?t.__(c.explanation):c.explanation)+" ",1),c.size?(o(),r("div",f3,[i("div",m3,[i("button",{onClick:e[1]||(e[1]=m=>this.onUpscaleClick(2)),class:$(["ait-rounded-full ait-w-9 ait-h-9 ait-ml-2 hover:ait-bg-yellow-900 ait-text-white",`${this.upscaleValue===2?"ait-bg-yellow-900":""}`])}," x2 ",2),i("button",{onClick:e[2]||(e[2]=m=>this.onUpscaleClick(4)),class:$(["ait-rounded-full ait-w-9 ait-h-9 ait-mr-2 hover:ait-bg-yellow-900 ait-text-white",`${this.upscaleValue===4?"ait-bg-yellow-900":""}`])}," x4 ",2)])])):_("",!0)])),c.prompt?F((o(),r("input",{key:1,type:"text","onUpdate:modelValue":e[3]||(e[3]=m=>this.promptText=m),placeholder:t.__("What do you want to change the background to?"),id:"remove-background-input",class:"ait-text-white dark:ait-bg-[#353737] dark:ait-border-white ait-border-neutral-500 ait-pl-2 ait-shadow ait-appearance-none ait-border ait-rounded-lg dark:ait-text-white-300 ait-leading-tight focus:ait-outline-none focus:ait-shadow-outline",style:{width:"65%","border-width":"0.1px !important"},onChange:e[4]||(e[4]=m=>{this.changeStorage("promptText",this.promptText,!1),this.validateAdditionalFields()}),onInput:e[5]||(e[5]=m=>this.validateAdditionalFields())},null,40,_3)),[[tt,this.promptText]]):_("",!0),i("button",{onClick:m=>s.onSubmitButtonClick(c),type:"button",style:Q([`background-color:${this.isEditToolUploadButtonDisabled?"rgb(251, 153, 45, 0.3)":"#fb992d"}`,{"border-radius":"24px !important"}]),class:"ait-flex ait-text-white ait-font-bold ait-py-3 ait-px-4"},[U(d(t.__("Confirm"))+" ",1),i("div",b3,[b(u,{style:{"margin-top":"3px"},name:"credit_icon"}),U(" "+d(c.credit),1)])],12,v3)],4)):_("",!0)],64))),256))],64)}const y3=R(p3,[["render",w3]]),x3=rt({extends:O,name:"InnerReferenceImage",props:["mode","isHidden"],data(){return{errorMessage:"",input_file:null}},methods:{getFileName(t){return f.slugify(t.name)},async uploadReferenceImage(t){const e=t.target.files[0];this.input_file=e,await this.processReferenceImageFile(e)},async processReferenceImageFile(t){this.isReferenceImageProcessing=!0,this.input_file=t,this.Uploader.upload(t,41943040,["image/jpeg","image/jpg","image/png"],e=>{this.files||(this.files={});let a=f.SHA1(t.name+t.size).toString(),l=this.files[a];l&&this.changeStorage("image_settings.image",l.url,!1),this.files[a]=l,this.showImagePreviewModal=!0,document.querySelector("#fileInput")!=null&&(document.querySelector("#fileInput").value=""),document.querySelector("#ait-reference-image-modal")!=null&&(this.showReferenceImageModal=!1),this.input_file=null,this.isReferenceImageProcessing=!1})},getKey(){if(this.input_file){let t=this.input_file;return f.SHA1(t.name+t.size).toString()}}}}),k3={key:0,class:"ait-p-4 ait-w-full ait-text-center ait-flex ait-flex-col ait-items-center ait-gap-3"},C3={key:0,class:"ait-w-full"},$3={class:"ait-w-full ait-bg-gray-200 ait-rounded-full ait-h-2.5 ait-mb-4 dark:ait-bg-gray-700"},L3={key:1,class:"ait-px-4 ait-text-sm ait-text-neutral-600 dark:ait-text-neutral-400"},S3=["disabled"],M3={key:2,for:"referenceImageFileInput",class:"ait-w-full ait-h-full ait-relative ait-z-[9999]"},T3={key:3,class:"ait-flex ait-justify-center ait-items-center ait-h-25"},H3={key:4,class:"ait-h-6"},A3={class:"ait-text-red-500 ai-text-sm"};function P3(t,e,a,l,n,s){return(t.mode==="full"?!this.image_settings.image:!t.isHidden)?(o(),r("div",k3,[this.files[this.getKey()]?(o(),r("div",C3,[U(d(t.__("Progress"))+" ",1),i("div",$3,[i("div",{class:"ait-bg-green-600 ait-h-2.5 ait-rounded-full dark:ait-bg-green-500",style:Q("transition: width 2s;"+(this.files[this.getKey()].progress!=100?`width:${this.files[this.getKey()].progress}%`:"width:100%"))},null,4)])])):_("",!0),!this.isReferenceImageProcessing&&t.mode!=="full"?(o(),r("p",L3,d(t.__("Upload a reference image to generate a new image based from. You can edit the elements, backgrounds or type of the reference image just by writing prompts after you upload the reference image.")),1)):_("",!0),i("input",{type:"file",id:"referenceImageFileInput",onChange:e[0]||(e[0]=(...u)=>t.uploadReferenceImage&&t.uploadReferenceImage(...u)),disabled:this.isReferenceImageProcessing,style:{display:"none"}},null,40,S3),this.isReferenceImageProcessing?_("",!0):(o(),r("label",M3,[i("div",{class:$([`${t.mode==="full"?"":"ait-mt-4"}`,"ait-flex ait-flex-col ait-w-full ait-p-6 ait-items-center ait-justify-center ait-border-2 ait-border-dotted ait-border-neutral-300 dark:ait-border-neutral-700 ait-rounded-lg ait-text-neutral-600 dark:ait-text-neutral-400 ait-text-center ait-cursor-pointer ait-transition-all hover:ait-opacity-70"])},[i("span",{class:$(["ait-block ait-mt-2",this.referenceImageDragActive?"ait-opacity-100":"ait-opacity-60"])},[U(d(this.referenceImageDragActive?t.__("Drop your image here"):t.__("Drag your image here or click to upload"))+" ",1),e[1]||(e[1]=i("br",null,null,-1)),U(" "+d(t.__("File types supported: Png, Jpg | Max file size: 4MB")),1)],2)],2)])),this.isReferenceImageProcessing?(o(),r("div",T3,e[2]||(e[2]=[i("div",{class:"ait-border-4 ait-border-solid ait-border-t-transparent ait-border-gray-200 ait-rounded-full ait-w-9 ait-h-9 ait-animate-spin"},null,-1)]))):_("",!0),t.errorMessage?(o(),r("div",H3,[i("p",A3,d(t.errorMessage),1)])):_("",!0)])):_("",!0)}const I3=R(x3,[["render",P3]]),U3={extends:O,name:"InnerImagePreview",props:["mode"],updated(){this.mode=="full"&&f.scrollToBottom(this.constants.scroll_tolerance,"#full-screen-image-settings > div")},methods:{onImageRemove(){this.changeStorage("image_settings.image",null,!1)}}},E3={key:0,class:"ait-p-1 ait-relative"},j3={key:0,class:"ait-flex ait-flex-row ait-justify-between"},R3={class:"dark:ait-text-white ait-text-sm ait-font-medium ait-mb-4"},B3=["src"],D3={class:"ait-w-full ait-p-1",style:{"margin-top":"-45px","z-index":"999999",position:"relative",background:"rgba(0, 0, 0, 0.3)"}},O3=["title"];function z3(t,e,a,l,n,s){const u=y("SvgLogo");return!this.isReferenceImageLoading&&this.image_settings.image?(o(),r("div",E3,[a.mode==="full"?(o(),r("div",j3,[i("div",R3,d(t.__("Image Upload")),1),i("button",{onClick:e[0]||(e[0]=(...c)=>s.onImageRemove&&s.onImageRemove(...c))},[b(u,{name:"delete_icon"})])])):_("",!0),i("div",{style:Q(a.mode==="full"&&"max-width: 15rem; margin-left: auto; margin-right: auto;")},[i("img",{src:this.image_settings.image,alt:"Image preview",class:"ait-w-full ait-h-full ait-object-cover"},null,8,B3),i("div",D3,[i("label",{for:"image_strength",class:"ait-block ait-text-white ait-text-[11px]",style:{"text-shadow":"1px 1px 0px rgba(0, 0, 0, 0.5)"},title:t.__("Image Strength")},d(t.__("Image Strength"))+" ("+d(this.image_settings.image_strength)+"%) ",9,O3),F(i("input",{type:"range","onUpdate:modelValue":e[1]||(e[1]=c=>this.image_settings.image_strength=c),min:"1",max:"99",id:"image_strength",step:"1",class:"ait-appearance-none ait-w-full ait-bg-[var(--ait-link-color)] ait-h-1 ait-rounded-lg ait-slider-thumb ait-mt-3",onChange:e[2]||(e[2]=c=>this.changeStorage("image_settings.image_strength",this.image_settings.image_strength,!1))},null,544),[[tt,this.image_settings.image_strength]])])],4)])):_("",!0)}const V3=R(U3,[["render",z3]]),F3={extends:O,props:["icon","model_setting_key","slim_mode","type","default_model"],updated(){this.GroupChat.change(null,this)}},q3={key:0,class:"ait-divide-y ait-divide-neutral-100 dark:ait-divide-neutral-700"},N3=["data-content","onClick"],Z3={class:"ait-w-full"},W3={class:"ait-gap-4 ait-text-neutral-900 dark:ait-text-white ait-text-sm dark:ait-text-neutral-400"},G3={class:"ait-ai-icon ait-flex ait-gap-2 ait-text-[12px]"};function K3(t,e,a,l,n,s){const u=y("svg-logo");return o(),r(L,null,[i("div",{class:$(["ait-flex ait-flex-wrap ait-gap-[6px] ait-max-w-full ait-place-self-end ait-self-center",t.$props.icon?"":"ait-min-w-[55px]"])},[i("ul",{class:$("ait-group-model-dropdown ait-hide ait-absolute ait-z-20 ait-width-full ait-w-max ait-min-w-[180px] ait-max-w-[250px] ait-bg-white ait-divide-y ait-divide-neutral-100 ait-rounded-lg ait-shadow dark:ait-bg-neutral-900 dark:ait-divide-neutral-700 "+(t.$props.icon?"ait-left-[-8px]":"")+(this.settings.ai_mode=="api"?" ait-overflow-y-auto ait-max-h-[300px] ":""))},[this.ai_type_models?(o(),r("div",q3,[this.GroupChat.is_show==!0?(o(!0),r(L,{key:0},B(t.Helpers.getSearchFilter(this.ai_type_models[this.$props.type??"text"],this.GroupChat.filter_val,!0),(c,p)=>(o(),r(L,null,[this.GroupChat.group_models.indexOf(t.Helpers.notUndefined(c,"title")??c)===-1?(o(),r("div",{key:0,"data-content":JSON.stringify(this.GroupChat.group_models),class:"ait-group-model ait-flex ait-px-4 ait-py-2.5 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 hover:ait-rounded-lg ait-cursor-pointer",style:Q(this.GroupChat.group_models.indexOf(t.Helpers.notUndefined(c,"title")??c)!==-1?"background:rgba(1,167,125,.3);":""),onClick:m=>this.GroupChat.addModel(this,t.Helpers.notUndefined(c,"title")??c)},[i("div",Z3,[i("div",W3,[i("div",G3,[b(u,{className:"ait-w-[16px] ait-h-[16px]",name:t.ModelBySvg(t.Helpers.notUndefined(c,"title")??c)??"logo"},null,8,["name"]),U(" "+d(t.Helpers.notUndefined(c,"title")??c),1)])])])],12,N3)):_("",!0)],64))),256)):_("",!0)])):_("",!0)],2)],2),e[0]||(e[0]=i("span",{class:"ait-hide ait-my-2.5 ait-left-[-8px]"},null,-1))],64)}const Ie=R(F3,[["render",K3]]),Y3={components:{GroupChatModels:Ie},extends:O,props:{showSuggestions:{type:Boolean,default:!0},uploadAnImage:{type:Boolean,default:!0},showReadPage:{type:Boolean,default:!0},showUploadAPdf:{type:Boolean,default:!0},headerMode:{type:String},needUpgrade:{type:Boolean,default:!1},mode:{type:String}},mounted(){Rt.on("trigger_action",t=>{t.type==="ReadPageAction"&&this.ReadPageAction(t.params),t.type==="onReadPage"&&this.onReadPage()}),Rt.on("send_message",()=>{this.sendMessageHandler()}),document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},data(){return{showOptionsDropdown:!1}},methods:{handleClickOutside(t){const e=document.querySelector(".page-options-dropdown"),a=document.querySelector(".page-options-button");e&&a&&!e.contains(t.target)&&!a.contains(t.target)&&(this.showOptionsDropdown=!1)},onWebAccessChange(t=null){if(this.storage.Local.plan=="Free"){this.settings.web_access=!1,document.getElementById("ait-upgrade-plan-modal").classList.remove("ait-hide"),document.getElementById("ait-upgrade-plan-modal").classList.add("ait-show");return}this.changeStorage("settings.web_access",t??!this.settings.web_access)},screenCalcFixer(t){document.querySelector(".ait-selection-prompts .ait-panel-calc")},async ReadPageAction({mode:t}){this.sidebarToggle(!0),this.newChat(),await this.onReadPage();const e=this.constants.pageReadOptions.find(a=>a.id===t);this.onSelectPageOption(e)},async onReadPage(){var t;try{if(this.constants.is_web_app)return this.notify.error(this.__("You can't use this feature on this page."));const e=f.parseMeaningfulContentFromHTML(document.documentElement.innerHTML),a=f.prepareContentForSearch(e);if(!e){console.error("Unable to read page content.");return}await this.changeStorage("page_context",{favicon:((t=document.querySelector('link[rel="icon"]'))==null?void 0:t.href)||"",title:document.title,url:window.location.href,content:a})}catch(e){console.error("Error reading page:",e),console.log("An error occurred while reading the page.")}},async onSelectPageOption(t,e=null){var c,p,m,h,v,g,w,C;if(!((p=(c=this.storage.Local)==null?void 0:c.page_context)!=null&&p.title))return;const a=t&&t.requireNavigateTo=="web_search";a?this.onWebAccessChange(!0):this.onWebAccessChange(!1);const l={context:this.storage.Local.page_context.content,prompt:e??t.prompt};let n=this.storage.Local.page_context.content;if(a){const S=t.search_prefix.length;n=this.storage.Local.page_context.content.substring(0,2040-S),n=`${n} ${t.search_prefix??e}`}let s={contextData:{mode:"pagecontext",favicon:(h=(m=this.storage.Local)==null?void 0:m.page_context)==null?void 0:h.favicon,title:(g=(v=this.storage.Local)==null?void 0:v.page_context)==null?void 0:g.title,url:(C=(w=this.storage.Local)==null?void 0:w.page_context)==null?void 0:C.url,actionType:t?{id:t.id,label:t.label,description:t.description}:{id:"custom_prompt",label:"Custom Prompt",description:e.substring(0,100)}}};const u=a?n:JSON.stringify(l);this.aiChat(u,this.settings.ai_model,"ai_chat","__all",!0,!1,null,!1,s),this.changeStorage("page_context",null)},removePageContext(){this.changeStorage("page_context",null)},sendMessageHandler(){var t;if(this.ai_ask==null||this.ai_ask.length==0)return"";if((t=this.storage.Local.page_context)!=null&&t.title)this.onSelectPageOption(null,this.ai_ask);else{const e={};let a=null,l=null;if(Array.isArray(this.attached_files)&&this.attached_files.length>0){const n=this.attached_files.map(s=>({id:s.id,name:s.name,size:s.size,type:s.type})).filter(s=>!!s.id);l=n,a=n.map(s=>s.id)}this.aiChat(this.ai_ask,this.settings.ai_model,"ai_chat","__all",!0,!1,null,!1,e,a||void 0,l||void 0)}this.ai_ask=null,this.ai_selection="",Array.isArray(this.attached_files)&&this.attached_files.length>0&&(this.attached_files=[],this.changeStorage("attached_files",[],!1))}}},Q3={class:"ait-w-full"},X3={class:"ait-flex ait-flex-col ait-h-full ait-space-y-3"},J3={key:0,id:"aitopia-suggestions"},tf={class:"ait-flex ait-flex-col ait-p-4 ait-bg-[var(--ait-option-card-bg-color)] ait-rounded-lg ait-shadow-sm ait-mb-5 ait-items-center"},ef={class:"ait-flex ait-flex-col ait-gap-3"},af={class:"ait-flex ait-items-center ait-gap-3"},sf={class:"ait-w-12 ait-h-12 ait-rounded-full ait-flex ait-items-center ait-justify-center"},of={class:"ait-flex ait-flex-col"},nf={class:"ait-text-xl ait-font-bold"},lf={class:"ait-flex ait-items-center ait-gap-1 ait-text-sm ait-text-neutral-500"},rf={class:"ait-font-semibold"},df={key:0,class:"ait-opacity-50"},cf={class:"ait-rounded-full ait-text-xs ait-flex ait-items-center ait-gap-1"},uf={class:"ait-font-semibold"},hf={key:1,class:"ait-p-1 ait-rounded-lg ait-max-w-3xl"},pf={class:"ait-text-xs ait-text-neutral-700 dark:ait-text-neutral-300"},gf={key:2,class:"ait-flex ait-items-start ait-self-center ait-gap-2 ait-mt-2 ait-grid ait-grid-cols-2 ait-gap-4 ait-max-w-3xl"},ff=["onClick"],mf={key:1,id:"aitopia-example"},_f={class:"ait-p-2"},vf={class:"ait-font-bold"},bf={class:"ait-opacity-60 ait-text-[11px] example_content"},wf={class:"ait-p-2"},yf={class:"ait-font-bold"},xf={class:"ait-opacity-60 ait-text-[11px] example_content"},kf={class:"ait-p-2"},Cf={class:"ait-font-bold"},$f={class:"ait-opacity-60 ait-text-[11px] example_content"},Lf={key:2,id:"aitopia-web-search"},Sf={class:"ait-flex ait-flex-col ait-justify-center ait-items-center ait-w-full ait-py-20 ait-gap-3"},Mf={class:"ait-text-xl ait-font-bold dark:ait-text-neutral-100 ait-text-neutral-600"},Tf={class:"ait-text-sm dark:ait-text-neutral-300 ait-text-neutral-500"},Hf={class:"ait-px-3 ait-pt-3"},Af={class:"ait-flex ait-relative ait-w-full ait-items-center ait-justify-start ait-my-3"},Pf={class:"ait-ml-auto ait-flex-shrink-0"},If={key:0,class:"ait-w-1/2 ait-mb-2 ait-space-y-2"},Uf={class:"ait-flex ait-items-center ait-gap-2 ait-overflow-hidden"},Ef={class:"ait-w-8 ait-h-8 ait-rounded-md ait-bg-[var(--ait-link-color)] ait-flex ait-items-center ait-justify-center ait-text-white ait-text-xs ait-font-semibold"},jf={class:"ait-flex ait-flex-col ait-overflow-hidden"},Rf={class:"ait-text-xs ait-font-medium ait-truncate ait-max-w-[220px]"},Bf={class:"ait-text-[11px] ait-text-neutral-500"},Df=["onClick"],Of={key:1,class:"ait-border-b ait-w-full"},zf={class:"ait-bg-[#1E1E1E] ait-rounded-lg ait-p-2 ait-overflow-hidden"},Vf={class:"ait-flex ait-items-center ait-justify-between"},Ff={class:"ait-flex ait-items-center ait-gap-2"},qf=["src"],Nf={class:"ait-flex ait-flex-col"},Zf={class:"ait-text-sm ait-font-medium ait-text-white ait-truncate ait-text-nowrap ait-max-w-[200px]"},Wf={class:"ait-text-xs ait-text-neutral-400 ait-truncate ait-max-w-[200px]"},Gf={class:"ait-my-2"},Kf={class:"ait-flex ait-items-center ait-gap-2 ait-justify-center"},Yf=["onClick"],Qf={class:"ait-relative"},Xf={key:0,class:"page-options-dropdown ait-absolute ait-right-0 ait-top-full ait-mt-1 ait-w-[200px] ait-bg-[#2A2A2A] ait-rounded-[4px] ait-shadow-lg ait-border ait-border-[#3A3A3A] ait-z-50 ait-overflow-scroll ait-h-[100px]"},Jf=["onClick"],t5=["readonly","placeholder"],e5={class:"ait-flex ait-w-full ait-justify-between ait-items-center ait-gap-2 ait-p-0.5"},i5={class:"ait-flex ait-gap-1.5 ait-ml-1.5"},a5={class:"ait-flex ait-items-center ait-justify-start ait-gap-3"},s5={class:"ait-flex ait-items-center ait-justify-start ait-gap-3"},o5={class:"ait-relative ait-inline-flex ait-items-center ait-cursor-pointer"},n5=["checked"],l5={class:"ait-ms-1.5 ait-text-xs ait-font-medium ait-text-[var(--ait-link-color)] ait-opacity-60 ait-transition-all ait-select-none peer-checked:ait-opacity-100"},r5={class:"ait-flex ait-gap-4"},d5={key:1,class:"ait-flex ait-justify-center ait-w-full lg:ait-max-w-lg ait-mx-auto ait-px-4 ait-h-[var(--ait-height-100)] ait-items-center"},c5={class:"ait-border-[1px] ait-border-neutral-300 ait-rounded-md ait-flex ait-flex-col ait-items-center ait-gap-8 ait-text-center ait-p-4"},u5={class:"ait-px-4 ait-text-sm ait-text-neutral-600 dark:ait-text-neutral-400"},h5={class:"aitopia-pricing ait-cursor-pointer ait-w-full ait-font-semibold ait-text-white ait-text-sm ait-py-2 ait-rounded-md ait-flex ait-items-center ait-gap-2 ait-justify-center ait-bg-[var(--ait-link-color)] hover:ait-opacity-90 ait-transition-all"};function p5(t,e,a,l,n,s){var ot,K,ct,H;const u=y("UpgradePlanModal"),c=y("AgentLogo"),p=y("AiResponse"),m=y("ChooseModel"),h=y("Credit"),v=y("ChatToolbar"),g=y("ChatControls"),w=y("VisionImagePreview"),C=y("GroupChatModels"),S=y("font-awesome-icon"),A=y("svg-logo"),x=y("HoverPopover"),I=y("Speech"),Y=y("make-a-review");return o(),r(L,null,[b(u),e[16]||(e[16]=i("button",{"data-ait-dropdown-toggle":"ait-upgrade-plan-modal",id:"ait-toggle-upgrade-button",class:"ait-hidden"},null,-1)),i("div",{id:"ai-sidebar-content",class:$(`${a.mode==="full"&&"ait-h-full"}`)},[i("div",{class:$([`${a.mode==="full"?t.is_ios?"ait-h-[calc(100vh_-_130px)]":"ait-h-[calc(100vh_-_135px)]":"ait-h-[calc(100vh_-_70px)]"}`,"ait-flex ait-flex-col"])},[a.needUpgrade?(o(),r("div",d5,[i("div",c5,[i("p",u5,d(t.__(`The data of AITOPIA isn't real-time. WebAccess Feature combines the intelligence of AITOPIA with realtime
              web information, allowing GPT to handle real-time information-related questions more effectively. Upgrade
              to gain this feature, and worry no more about outdated information!`)),1),i("button",h5,d(t.__("Upgrade Now")),1)])])):(o(),r(L,{key:0},[i("div",{id:"ai-message-container",class:$(["ait-flex ait-relative ait-flex-grow ait-w-full ait-overflow-x-hidden",{generating:this.ai_wait}])},[i("div",Q3,[i("div",X3,[a.headerMode!="search"&&a.showSuggestions&&t.selected_agent?(o(),r("div",J3,[i("div",tf,[i("div",ef,[i("div",af,[i("div",sf,[t.selected_agent?(o(),E(c,{key:0,agent:t.selected_agent},null,8,["agent"])):_("",!0)]),i("div",of,[i("h1",nf,d(t.selected_agent.title),1),i("div",lf,[i("span",null,d(t.__("Model"))+":",1),i("span",rf,d(t.selected_agent.base_model_id||"GPT-4o Mini"),1)])])]),t.selected_agent.publisher_title?(o(),r("div",df,[i("div",cf,[i("span",null,d(t.__("By")),1),i("span",uf,d(t.selected_agent.publisher_title),1)])])):_("",!0),t.selected_agent.detail?(o(),r("div",hf,[i("p",pf,d(t.selected_agent.detail),1)])):_("",!0),t.Helpers.notUndefined(t.selected_agent,"suggestions")?(o(),r("div",gf,[(o(!0),r(L,null,B(t.selected_agent.suggestions,(z,mt)=>(o(),r("div",{class:"ait-px-3 ait-py-1 ait-bg-neutral-100 dark:ait-bg-neutral-800 ait-cursor-pointer hover:ait-bg-neutral-200 dark:hover:ait-bg-neutral-700 ait-rounded-xl ait-text-xs ait-flex ait-items-center ait-gap-1",onClick:ut=>this.aiChat(t.__(z.title))},[i("span",null,d(t.__(z.title)),1)],8,ff))),256))])):_("",!0)])])])):a.headerMode!="search"&&a.showSuggestions?(o(),r("div",mf,[i("div",_f,[i("div",{class:"ait-flex ait-items-center ait-justify-between ait-p-3 ait-space-x-3 ait-border ait-rounded-xl ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200 ait-cursor-pointer",onClick:e[0]||(e[0]=z=>this.aiChat(t.__("Explain Artificial Intelligence so that I can explain it to my six-year-old child.")))},[i("div",null,[i("p",vf,"  "+d(t.__("Explain a complex thing")),1),i("p",bf,d(t.__(`Explain Artificial Intelligence so
                        that I can explain it to my six-year-old child.`)),1)]),e[12]||(e[12]=i("button",null,[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",class:"ait-w-5 ait-h-5 ait-cursor-pointer",fill:"none"},[i("path",{d:"M20 12L14 6M20 12L14 18M20 12L9.5 12M4 12L6.5 12",stroke:"#14746F","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))])]),i("div",wf,[i("div",{class:"ait-flex ait-items-center ait-justify-between ait-p-3 ait-space-x-3 ait-border ait-rounded-xl ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200 ait-cursor-pointer",onClick:e[1]||(e[1]=z=>this.aiChat(t.__("Please give me the best 10 travel ideas around the world")))},[i("div",null,[i("p",yf,"  "+d(t.__("Get suggestions and create new ideas")),1),i("p",xf,d(t.__(`Please give me the best 10 travel
                        ideas around the world`)),1)]),e[13]||(e[13]=i("button",null,[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",class:"ait-w-5 ait-h-5 ait-cursor-pointer",fill:"none"},[i("path",{d:"M20 12L14 6M20 12L14 18M20 12L9.5 12M4 12L6.5 12",stroke:"#14746F","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))])]),i("div",kf,[i("div",{class:"ait-flex ait-items-center ait-justify-between ait-p-3 ait-space-x-3 ait-border ait-rounded-xl ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200 ait-cursor-pointer",onClick:e[2]||(e[2]=z=>this.aiChat(t.__('Translate "I love you" French')))},[i("div",null,[i("p",Cf,"  "+d(t.__("Translate, summarize, fix grammar and more")),1),i("p",$f,d(t.__('Translate "I love you" French')),1)]),e[14]||(e[14]=i("button",null,[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",class:"ait-w-5 ait-h-5 ait-cursor-pointer",fill:"none"},[i("path",{d:"M20 12L14 6M20 12L14 18M20 12L9.5 12M4 12L6.5 12",stroke:"#14746F","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))])])])):_("",!0),a.headerMode=="search"?(o(),r("div",Lf,[i("div",Sf,[i("p",Mf,d(t.__("Search")),1),i("span",Tf,d(t.__(`Use the power of AI to
                    search the web!`)),1)])])):_("",!0),b(p)])])],2),i("div",Hf,[i("div",Af,[i("div",{class:$(`ait-flex ait-w-full ait-items-center ait-col-span-5 lg:ait-col-span-none ${a.mode==="full"?"ait-gap-4 ait-flex-nowrap":"ait-gap-1 ait-flex-wrap ait-text-sm"}`)},[b(m,{use_agent:!0}),b(h),b(v,{mode:a.mode,showUploadAPdf:a.showUploadAPdf,showReadPage:a.showReadPage,uploadAnImage:a.uploadAnImage},null,8,["mode","showUploadAPdf","showReadPage","uploadAnImage"]),(o(),E(gi,null,[(o(),E(pi("PDFUpload")))],1024)),i("div",Pf,[b(g)])],2)]),i("div",{class:$(`ait-flex ait-flex-col ait-relative !ait-items-start ait-p-1 ait-space-x-1 ait-border ait-rounded-xl ${this.ai_image_url?"ait-h-[210px] ait-flex-col ait-items-start ait-justify-start":this.storage.Local.page_context?"ait-h-[200px]":"ait-h-[140px]"}`)},[b(w),b(C),Array.isArray(t.attached_files)&&t.attached_files.length?(o(),r("div",If,[(o(!0),r(L,null,B(t.attached_files,z=>{var mt;return o(),r("div",{key:z.id,class:"ait-flex ait-items-center ait-justify-between ait-gap-2 ait-px-3 ait-py-2 ait-rounded-md ait-bg-[var(--ait-option-card-bg-color)] ait-border ait-border-[var(--ait-border-color)]"},[i("div",Uf,[i("div",Ef,d(((mt=(z.name||"").split(".").pop())==null?void 0:mt.toUpperCase().slice(0,3))||"FILE"),1),i("div",jf,[i("span",Rf,d(z.name),1),i("span",Bf,d((z.size/1024).toFixed(1))+" KB ",1)])]),i("button",{class:"ait-text-neutral-400 hover:ait-text-neutral-600",onClick:J(()=>{const ut=t.attached_files.filter(et=>et.id!==z.id);t.attached_files=ut,t.changeStorage("attached_files",ut,!1)},["stop"])},[b(S,{icon:"fa-solid fa-xmark",class:"ait-w-3 ait-h-3"})],8,Df)])}),128))])):_("",!0),this.storage.Local.page_context?(o(),r("div",Of,[i("div",null,[i("div",zf,[i("div",Vf,[i("div",Ff,[(ot=this.storage.Local.page_context)!=null&&ot.favicon?(o(),r("img",{key:0,src:(K=this.storage.Local.page_context)==null?void 0:K.favicon,class:"ait-w-4 ait-h-4",alt:"Page favicon"},null,8,qf)):_("",!0),i("div",Nf,[i("span",Zf,d((ct=this.storage.Local.page_context)==null?void 0:ct.title),1),i("span",Wf,d((H=this.storage.Local.page_context)==null?void 0:H.url),1)])]),i("button",{onClick:e[3]||(e[3]=(...z)=>s.removePageContext&&s.removePageContext(...z)),class:"ait-text-neutral-400 hover:ait-text-neutral-300"},[b(S,{icon:"fa-solid fa-xmark",class:"ait-w-4 ait-h-4"})])])])]),i("div",Gf,[i("div",Kf,[(o(!0),r(L,null,B(this.constants.pageReadOptions.slice(0,2),z=>(o(),r("button",{key:z.id,onClick:mt=>s.onSelectPageOption(z),class:"ait-inline-flex ait-items-center ait-justify-between ait-gap-2 ait-px-2 ait-rounded-lg ait-cursor-pointer ait-text-white ait-bg-[var(--ait-link-color)] hover:ait-opacity-80 ait-transition-all"},d(t.__(z.label)),9,Yf))),128)),i("div",Qf,[i("button",{onClick:e[4]||(e[4]=J(z=>n.showOptionsDropdown=!n.showOptionsDropdown,["stop"])),class:"ait-inline-flex ait-items-center ait-justify-between ait-gap-2 ait-px-2 ait-rounded-lg ait-cursor-pointer hover:ait-opacity-80 ait-text-white ait-border ait-border-neutral-300 ait-bg-neutral-100 focus:ait-border-green-500 dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:ait-focus:border-green-500"},d(t.__("More Options")),1),n.showOptionsDropdown?(o(),r("div",Xf,[(o(!0),r(L,null,B(this.constants.pageReadOptions.slice(3),z=>(o(),r("button",{key:z.id,onClick:mt=>{s.onSelectPageOption(z),n.showOptionsDropdown=!1},class:"ait-w-full ait-text-left ait-px-3 ait-py-2 ait-text-[13px] ait-text-white hover:ait-bg-[#3A3A3A] ait-transition-colors"},d(t.__(z.label)),9,Jf))),128))])):_("",!0)])])])])):_("",!0),this.speech_record?_("",!0):(o(),r(L,{key:2},[F(i("textarea",{readonly:this.ai_wait??!1,"onUpdate:modelValue":e[5]||(e[5]=z=>t.ai_ask=z),name:"ask",onChange:e[6]||(e[6]=z=>this.ai_ask=z.target.value),class:"ait-selection-container ait-ai-text-item ait-relative ait-w-full ait-h-full ait-p-1 ait-border-0 focus:ait-border-0 focus:ait-shadow-none ait-outline-none ait-resize-none dark:ait-bg-neutral-700 dark:ait-text-neutral-200",id:"ask",rows:"4",placeholder:t.__("Ask me anything...")},null,40,t5),[[tt,t.ai_ask]]),i("div",e5,[i("div",i5,[i("div",a5,[b(x,{"popover-text":t.__("Group Chat")},{default:D(()=>[i("button",{onClick:e[7]||(e[7]=z=>this.GroupChat.addGroupChat()),class:"ait-cursor-pointer ait-p-1 ait-rounded-full ait-flex ait-items-center ait-justify-center hover:ait-bg-neutral-300 dark:hover:ait-bg-neutral-900 ait-border ait-transition-all"},[b(A,{className:"ait-w-3.5 ait-h-3.5",name:"at_icon"})])]),_:1},8,["popover-text"])]),i("div",s5,[i("label",o5,[i("input",{type:"checkbox",class:"ait-ai-web-access-checkbox ait-sr-only ait-peer",onChange:e[8]||(e[8]=z=>s.onWebAccessChange()),checked:this.settings.web_access},null,40,n5),e[15]||(e[15]=i("div",{class:"ait-w-7 ait-h-4 ait-bg-neutral-200 ait-rounded-full ait-peer peer-focus:ait-ring-3 dark:peer-focus:ait-ring-[var(--ait-link-color)] dark:ait-bg-neutral-700 peer-checked:after:ait-translate-x-full rtl:peer-checked:after:-ait-translate-x-full peer-checked:after:ait-border-white after:ait-content-[''] after:ait-absolute after:ait-top-0.5 after:ait-start-[2px] after:ait-bg-white after:ait-border-neutral-300 after:ait-border after:ait-rounded-full after:ait-h-3 after:ait-w-3 after:ait-transition-all dark:ait-border-neutral-600 peer-checked:ait-bg-[var(--ait-link-color)]"},null,-1)),i("span",l5,d(t.__("Web Access")),1)])])]),i("div",r5,[this.speech_record?(o(),E(x,{key:1,"popover-text":t.__("Stop Voice")},{default:D(()=>[i("div",{onClick:e[10]||(e[10]=z=>t.speechToText("stop"))},[b(S,{icon:"fa-solid fa-microphone-slash",class:"ait-w-5 ait-h-5 ait-opacity-70 ait-cursor-pointer light:ait-invert"})])]),_:1},8,["popover-text"])):(o(),E(x,{key:0,"popover-text":t.__("Voice Input")},{default:D(()=>[i("div",{onClick:e[9]||(e[9]=z=>t.speechToText())},[b(S,{icon:"fa-solid fa-microphone",class:"ait-w-5 ait-h-5 ait-opacity-70 ait-cursor-pointer light:ait-invert"})])]),_:1},8,["popover-text"])),b(x,{"popover-text":t.__("Send")},{default:D(()=>[i("img",{onClick:e[11]||(e[11]=(...z)=>s.sendMessageHandler&&s.sendMessageHandler(...z)),style:Q(this.ai_ask==null||this.ai_ask.length==0?"filter: invert(0.5)!important;":""),src:Bt,class:"ait-w-5 ait-h-5 ait-opacity-80 ait-cursor-pointer dark:ait-invert"},null,4)]),_:1},8,["popover-text"])])])],64)),b(I,{blob:this.speech_blob},null,8,["blob"])],2)])],64))],2)],2),a.mode!=="full"?(o(),E(Y,{key:0})):_("",!0)],64)}const g5=R(Y3,[["render",p5]]),f5={components:{GroupChatModels:Ie},extends:O,props:{showSuggestions:{type:Boolean,default:!0},uploadAnImage:{type:Boolean,default:!0},showReadPage:{type:Boolean,default:!0},showUploadAPdf:{type:Boolean,default:!0},headerMode:{type:String},needUpgrade:{type:Boolean,default:!1},mode:{type:String},selected_agent:{type:Object,required:!1,default:null}},mounted(){Rt.on("trigger_action",t=>{t.type==="ReadPageAction"&&this.ReadPageAction(t.params),t.type==="onReadPage"&&this.onReadPage()}),Rt.on("send_message",()=>{this.sendMessageHandler()}),document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},data(){return{showOptionsDropdown:!1}},methods:{handleClickOutside(t){const e=document.querySelector(".page-options-dropdown"),a=document.querySelector(".page-options-button");e&&a&&!e.contains(t.target)&&!a.contains(t.target)&&(this.showOptionsDropdown=!1)},onWebAccessChange(t=null){if(this.storage.Local.plan=="Free"){this.settings.web_access=!1,document.getElementById("ait-upgrade-plan-modal").classList.remove("ait-hide"),document.getElementById("ait-upgrade-plan-modal").classList.add("ait-show");return}this.changeStorage("settings.web_access",t??!this.settings.web_access)},screenCalcFixer(t){document.querySelector(".ait-selection-prompts .ait-panel-calc")},async ReadPageAction({mode:t}){this.sidebarToggle(!0),this.newChat(),await this.onReadPage();const e=this.constants.pageReadOptions.find(a=>a.id===t);this.onSelectPageOption(e)},async onReadPage(){var t;try{if(this.constants.is_web_app)return this.notify.error(this.__("You can't use this feature on this page."));const e=f.parseMeaningfulContentFromHTML(document.documentElement.innerHTML),a=f.prepareContentForSearch(e);if(!e){console.error("Unable to read page content.");return}await this.changeStorage("page_context",{favicon:((t=document.querySelector('link[rel="icon"]'))==null?void 0:t.href)||"",title:document.title,url:window.location.href,content:a})}catch(e){console.error("Error reading page:",e),console.log("An error occurred while reading the page.")}},async onSelectPageOption(t,e=null){var c,p,m,h,v,g,w,C;if(!((p=(c=this.storage.Local)==null?void 0:c.page_context)!=null&&p.title))return;const a=t&&t.requireNavigateTo=="web_search";a?this.onWebAccessChange(!0):this.onWebAccessChange(!1);const l={context:this.storage.Local.page_context.content,prompt:e??t.prompt};let n=this.storage.Local.page_context.content;if(a){const S=t.search_prefix.length;n=this.storage.Local.page_context.content.substring(0,2040-S),n=`${n} ${t.search_prefix??e}`}let s={contextData:{mode:"pagecontext",favicon:(h=(m=this.storage.Local)==null?void 0:m.page_context)==null?void 0:h.favicon,title:(g=(v=this.storage.Local)==null?void 0:v.page_context)==null?void 0:g.title,url:(C=(w=this.storage.Local)==null?void 0:w.page_context)==null?void 0:C.url,actionType:t?{id:t.id,label:t.label,description:t.description}:{id:"custom_prompt",label:"Custom Prompt",description:e.substring(0,100)}}};const u=a?n:JSON.stringify(l);this.aiChat(u,this.settings.ai_model,"ai_chat","__all",!0,!1,null,!1,s),this.changeStorage("page_context",null)},removePageContext(){this.changeStorage("page_context",null)},sendMessageHandler(){var t;if(this.ai_ask==null||this.ai_ask.length==0)return"";(t=this.storage.Local.page_context)!=null&&t.title?this.onSelectPageOption(null,this.ai_ask):this.aiChat(this.ai_ask,this.settings.ai_model),this.ai_ask=null,this.ai_selection=""}}},m5={class:"ait-w-full"},_5={class:"ait-flex ait-flex-col ait-h-full ait-space-y-3"},v5={key:0,id:"aitopia-suggestions"},b5={class:"ait-flex ait-flex-col ait-p-4 ait-bg-[var(--ait-option-card-bg-color)] ait-rounded-lg ait-shadow-sm ait-mb-5 ait-items-center"},w5={key:0,class:"ait-flex ait-flex-col ait-gap-3"},y5={class:"ait-flex ait-items-center ait-gap-3"},x5={class:"ait-w-12 ait-h-12 ait-rounded-full ait-flex ait-items-center ait-justify-center"},k5={class:"ait-flex ait-flex-col"},C5={class:"ait-text-xl ait-font-bold"},$5={class:"ait-flex ait-items-center ait-gap-1 ait-text-sm ait-text-neutral-500"},L5={class:"ait-font-semibold"},S5={key:0,class:"ait-opacity-50"},M5={class:"ait-rounded-full ait-text-xs ait-flex ait-items-center ait-gap-1"},T5={class:"ait-font-semibold"},H5={key:1,class:"ait-p-1 ait-rounded-lg ait-max-w-3xl"},A5={class:"ait-text-xs ait-text-neutral-700 dark:ait-text-neutral-300"},P5={key:2,class:"ait-flex ait-items-start ait-self-center ait-gap-2 ait-mt-2 ait-grid ait-grid-cols-2 ait-gap-4 ait-max-w-3xl"},I5=["onClick"],U5={key:1,class:"ait-flex ait-flex-col ait-items-center ait-justify-center ait-p-6"},E5={class:"ait-w-12 ait-h-12 ait-rounded-full ait-flex ait-items-center ait-justify-center ait-bg-neutral-200 dark:ait-bg-neutral-700"},j5={key:1,id:"aitopia-web-search"},R5={class:"ait-flex ait-flex-col ait-justify-center ait-items-center ait-w-full ait-py-20 ait-gap-3"},B5={class:"ait-text-xl ait-font-bold dark:ait-text-neutral-100 ait-text-neutral-600"},D5={class:"ait-text-sm dark:ait-text-neutral-300 ait-text-neutral-500"},O5={class:"ait-px-3 ait-pt-3"},z5={class:"ait-flex ait-relative ait-w-full ait-items-center ait-justify-start ait-my-3 ait-grid ait-grid-cols-5 lg:ait-grid-none lg:grid-cols-2"},V5={class:"ait-flex ait-w-full ait-gap-3 ait-items-center ait-col-span-5 lg:ait-col-span-none"},F5={key:0,class:"ait-border-b ait-w-full"},q5={class:"ait-bg-[#1E1E1E] ait-rounded-lg ait-p-2 ait-overflow-hidden"},N5={class:"ait-flex ait-items-center ait-justify-between"},Z5={class:"ait-flex ait-items-center ait-gap-2"},W5=["src"],G5={class:"ait-flex ait-flex-col"},K5={class:"ait-text-sm ait-font-medium ait-text-white ait-truncate ait-text-nowrap ait-max-w-[200px]"},Y5={class:"ait-text-xs ait-text-neutral-400 ait-truncate ait-max-w-[200px]"},Q5={class:"ait-my-2"},X5={class:"ait-flex ait-items-center ait-gap-2 ait-justify-center"},J5=["onClick"],t4={class:"ait-relative"},e4={key:0,class:"page-options-dropdown ait-absolute ait-right-0 ait-top-full ait-mt-1 ait-w-[200px] ait-bg-[#2A2A2A] ait-rounded-[4px] ait-shadow-lg ait-border ait-border-[#3A3A3A] ait-z-50 ait-overflow-scroll ait-h-[100px]"},i4=["onClick"],a4=["readonly","placeholder"],s4={class:"ait-flex ait-w-full ait-justify-between ait-items-center ait-gap-2 ait-p-0.5"},o4={class:"ait-flex ait-gap-1.5 ait-ml-1.5"},n4={class:"ait-flex ait-items-center ait-justify-start ait-gap-3"},l4={class:"ait-flex ait-items-center ait-justify-start ait-gap-3"},r4={class:"ait-relative ait-inline-flex ait-items-center ait-cursor-pointer"},d4=["checked"],c4={class:"ait-ms-1.5 ait-text-xs ait-font-medium ait-text-[var(--ait-link-color)] ait-opacity-60 ait-transition-all ait-select-none peer-checked:ait-opacity-100"},u4={class:"ait-flex ait-gap-4"},h4={key:1,class:"ait-flex ait-justify-center ait-w-full lg:ait-max-w-lg ait-mx-auto ait-px-4 ait-h-[var(--ait-height-100)] ait-items-center"},p4={class:"ait-border-[1px] ait-border-neutral-300 ait-rounded-md ait-flex ait-flex-col ait-items-center ait-gap-8 ait-text-center ait-p-4"},g4={class:"ait-px-4 ait-text-sm ait-text-neutral-600 dark:ait-text-neutral-400"},f4={class:"aitopia-pricing ait-cursor-pointer ait-w-full ait-font-semibold ait-text-white ait-text-sm ait-py-2 ait-rounded-md ait-flex ait-items-center ait-gap-2 ait-justify-center ait-bg-[var(--ait-link-color)] hover:ait-opacity-90 ait-transition-all"};function m4(t,e,a,l,n,s){var x,I,Y,ot;const u=y("UpgradePlanModal"),c=y("AgentLogo"),p=y("font-awesome-icon"),m=y("AiResponseForAgent"),h=y("Credit"),v=y("ChatToolbar"),g=y("VisionImagePreview"),w=y("GroupChatModels"),C=y("svg-logo"),S=y("HoverPopover"),A=y("Speech");return o(),r(L,null,[b(u),e[12]||(e[12]=i("button",{"data-ait-dropdown-toggle":"ait-upgrade-plan-modal",id:"ait-toggle-upgrade-button",class:"ait-hidden"},null,-1)),i("div",{id:"ai-sidebar-content",class:$(`${a.mode==="full"&&"ait-h-full"}`)},[i("div",{class:$([`${a.mode==="full"?this.is_ios?"ait-h-[calc(100vh_-_130px)]":"ait-h-[calc(100vh_-_135px)]":"ait-h-[calc(100vh_-_70px)]"}`,"ait-flex ait-flex-col"])},[a.needUpgrade?(o(),r("div",h4,[i("div",p4,[i("p",g4,d(t.__(`The data of ChatGPT isn't real-time. WebAccess Feature combines the intelligence of ChatGPT with realtime
              web information, allowing GPT to handle real-time information-related questions more effectively. Upgrade
              to gain this feature, and worry no more about outdated information!`)),1),i("button",f4,d(t.__("Upgrade Now")),1)])])):(o(),r(L,{key:0},[i("div",{id:"ai-message-container",class:$(["ait-flex ait-relative ait-flex-grow ait-w-full ait-overflow-x-hidden",{generating:this.ai_wait}])},[i("div",m5,[i("div",_5,[a.headerMode=="suggestions"&&a.showSuggestions?(o(),r("div",v5,[i("div",b5,[a.selected_agent?(o(),r("div",w5,[i("div",y5,[i("div",x5,[a.selected_agent?(o(),E(c,{key:0,agent:a.selected_agent},null,8,["agent"])):_("",!0)]),i("div",k5,[i("h1",C5,d(a.selected_agent.title),1),i("div",$5,[e[9]||(e[9]=i("span",null,"Model:",-1)),i("span",L5,d(a.selected_agent.base_model_id||"GPT-4o Mini"),1)])])]),a.selected_agent.publisher_title?(o(),r("div",S5,[i("div",M5,[i("span",null,d(t.__("By")),1),i("span",T5,d(a.selected_agent.publisher_title),1)])])):_("",!0),a.selected_agent.detail?(o(),r("div",H5,[i("p",A5,d(a.selected_agent.detail),1)])):_("",!0),t.Helpers.notUndefined(a.selected_agent,"suggestions")?(o(),r("div",P5,[(o(!0),r(L,null,B(a.selected_agent.suggestions,(K,ct)=>(o(),r("div",{class:"ait-px-3 ait-py-1 ait-bg-neutral-100 dark:ait-bg-neutral-800 ait-cursor-pointer hover:ait-bg-neutral-200 dark:hover:ait-bg-neutral-700 ait-rounded-xl ait-text-xs ait-flex ait-items-center ait-gap-1",onClick:H=>this.aiChat(t.__(K.title))},[i("span",null,d(t.__(K.title)),1)],8,I5))),256))])):_("",!0)])):(o(),r("div",U5,[i("div",E5,[b(p,{icon:"fa-solid fa-robot",class:"ait-text-neutral-500 dark:ait-text-neutral-400 ait-w-6 ait-h-6"})]),e[10]||(e[10]=i("h2",{class:"ait-mt-3 ait-text-lg ait-font-semibold"}," No bot selected ",-1))]))])])):_("",!0),a.headerMode=="search"?(o(),r("div",j5,[i("div",R5,[i("p",B5,d(t.__("Search")),1),i("span",D5,d(t.__(`Use the power of AI to
                    search the web!`)),1)])])):_("",!0),b(m,{selected_agent:a.selected_agent},null,8,["selected_agent"])])])],2),i("div",O5,[i("div",z5,[i("div",V5,[b(h),b(v,{mode:a.mode,showReadPage:a.showReadPage,uploadAnImage:a.uploadAnImage},null,8,["mode","showReadPage","uploadAnImage"])])]),i("div",{class:$(`ait-flex ait-flex-col ait-relative ait-items-end ait-p-1 ait-space-x-1 ait-border ait-rounded-xl ${this.ai_image_url?"ait-h-[210px] ait-flex-col ait-items-start ait-justify-start":this.storage.Local.page_context?"ait-h-[200px]":"ait-h-[140px]"}`)},[b(g),b(w),this.storage.Local.page_context?(o(),r("div",F5,[i("div",null,[i("div",q5,[i("div",N5,[i("div",Z5,[(x=this.storage.Local.page_context)!=null&&x.favicon?(o(),r("img",{key:0,src:(I=this.storage.Local.page_context)==null?void 0:I.favicon,class:"ait-w-4 ait-h-4",alt:"Page favicon"},null,8,W5)):_("",!0),i("div",G5,[i("span",K5,d((Y=this.storage.Local.page_context)==null?void 0:Y.title),1),i("span",Y5,d((ot=this.storage.Local.page_context)==null?void 0:ot.url),1)])]),i("button",{onClick:e[0]||(e[0]=(...K)=>s.removePageContext&&s.removePageContext(...K)),class:"ait-text-neutral-400 hover:ait-text-neutral-300"},[b(p,{icon:"fa-solid fa-xmark",class:"ait-w-4 ait-h-4"})])])])]),i("div",Q5,[i("div",X5,[(o(!0),r(L,null,B(this.constants.pageReadOptions.slice(0,2),K=>(o(),r("button",{key:K.id,onClick:ct=>s.onSelectPageOption(K),class:"ait-inline-flex ait-items-center ait-justify-between ait-gap-2 ait-px-2 ait-rounded-lg ait-cursor-pointer ait-text-white ait-bg-[var(--ait-link-color)] hover:ait-opacity-80 ait-transition-all"},d(t.__(K.label)),9,J5))),128)),i("div",t4,[i("button",{onClick:e[1]||(e[1]=J(K=>n.showOptionsDropdown=!n.showOptionsDropdown,["stop"])),class:"ait-inline-flex ait-items-center ait-justify-between ait-gap-2 ait-px-2 ait-rounded-lg ait-cursor-pointer hover:ait-opacity-80 ait-text-white ait-border ait-border-neutral-300 ait-bg-neutral-100 focus:ait-border-green-500 dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:ait-focus:border-green-500"},d(t.__("More Options")),1),n.showOptionsDropdown?(o(),r("div",e4,[(o(!0),r(L,null,B(this.constants.pageReadOptions.slice(3),K=>(o(),r("button",{key:K.id,onClick:ct=>{s.onSelectPageOption(K),n.showOptionsDropdown=!1},class:"ait-w-full ait-text-left ait-px-3 ait-py-2 ait-text-[13px] ait-text-white hover:ait-bg-[#3A3A3A] ait-transition-colors"},d(t.__(K.label)),9,i4))),128))])):_("",!0)])])])])):_("",!0),this.speech_record?_("",!0):(o(),r(L,{key:1},[F(i("textarea",{readonly:this.ai_wait??!1,"onUpdate:modelValue":e[2]||(e[2]=K=>t.ai_ask=K),name:"ask",onChange:e[3]||(e[3]=K=>this.ai_ask=K.target.value),class:"ait-selection-container ait-ai-text-item ait-relative ait-w-full ait-h-full ait-p-1 ait-border-0 focus:ait-border-0 focus:ait-shadow-none ait-outline-none ait-resize-none dark:ait-bg-neutral-700 dark:ait-text-neutral-200",id:"ask",rows:"4",placeholder:t.__("Ask me anything...")},null,40,a4),[[tt,t.ai_ask]]),i("div",s4,[i("div",o4,[i("div",n4,[b(S,{"popover-text":t.__("Group Chat")},{default:D(()=>[i("button",{onClick:e[4]||(e[4]=K=>this.GroupChat.addGroupChat()),class:"ait-cursor-pointer ait-p-1 ait-rounded-full ait-flex ait-items-center ait-justify-center hover:ait-bg-neutral-300 dark:hover:ait-bg-neutral-900 ait-border ait-transition-all"},[b(C,{className:"ait-w-3.5 ait-h-3.5",name:"at_icon"})])]),_:1},8,["popover-text"])]),i("div",l4,[i("label",r4,[i("input",{type:"checkbox",class:"ait-ai-web-access-checkbox ait-sr-only ait-peer",onChange:e[5]||(e[5]=K=>s.onWebAccessChange()),checked:this.settings.web_access},null,40,d4),e[11]||(e[11]=i("div",{class:"ait-w-7 ait-h-4 ait-bg-neutral-200 ait-rounded-full ait-peer peer-focus:ait-ring-3 dark:peer-focus:ait-ring-[var(--ait-link-color)] dark:ait-bg-neutral-700 peer-checked:after:ait-translate-x-full rtl:peer-checked:after:-ait-translate-x-full peer-checked:after:ait-border-white after:ait-content-[''] after:ait-absolute after:ait-top-0.5 after:ait-start-[2px] after:ait-bg-white after:ait-border-neutral-300 after:ait-border after:ait-rounded-full after:ait-h-3 after:ait-w-3 after:ait-transition-all dark:ait-border-neutral-600 peer-checked:ait-bg-[var(--ait-link-color)]"},null,-1)),i("span",c4,d(t.__("Web Access")),1)])])]),i("div",u4,[this.speech_record?(o(),E(S,{key:1,"popover-text":t.__("Stop Voice")},{default:D(()=>[i("div",{onClick:e[7]||(e[7]=K=>t.speechToText("stop"))},[b(p,{icon:"fa-solid fa-microphone-slash",class:"ait-w-5 ait-h-5 ait-opacity-70 ait-cursor-pointer light:ait-invert"})])]),_:1},8,["popover-text"])):(o(),E(S,{key:0,"popover-text":t.__("Voice Input")},{default:D(()=>[i("div",{onClick:e[6]||(e[6]=K=>t.speechToText())},[b(p,{icon:"fa-solid fa-microphone",class:"ait-w-5 ait-h-5 ait-opacity-70 ait-cursor-pointer light:ait-invert"})])]),_:1},8,["popover-text"])),b(S,{"popover-text":t.__("Send")},{default:D(()=>[i("img",{onClick:e[8]||(e[8]=(...K)=>s.sendMessageHandler&&s.sendMessageHandler(...K)),style:Q(this.ai_ask==null||this.ai_ask.length==0?"filter: invert(0.5)!important;":""),src:Bt,class:"ait-w-5 ait-h-5 ait-opacity-80 ait-cursor-pointer dark:ait-invert"},null,4)]),_:1},8,["popover-text"])])])],64)),b(A,{blob:this.speech_blob},null,8,["blob"])],2)])],64))],2)],2)],64)}const _4=R(f5,[["render",m4]]),v4={extends:O},b4={class:"ait-mb-5 ait-max-w-[372px] ait-min-w-[360px]",id:"aitopia-search-container"},w4={class:"ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-gray-200 ait-rounded-lg ait-px-4 ait-py-3 ait-border ait-border-gray-50 dark:ait-border-neutral-700"},y4={class:"ait-flex"},x4={class:"ait-w-11/12 ait-flex ait-gap-2 xl:ait-gap-3 ait-items-center"},k4={class:"ait-logo-text"},C4={class:"ait-font-bold ait-pl-1 ait-pr-2 ait-break-keep ait-text-sm"},$4={class:"ait-credits ait-mr-3 ait-w-5/12"},L4={type:"button",class:"ait-text-neutral-500 dark:ait-text-neutral-300 ait-border-2 ait-border-solid ait-border-[var(--ait-tab-menu-active-bg-color)] hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-white ait-rounded-lg focus:ait-outline-none ait-text-xs ait-p-2 ait-text-center aitopia-ask-search"},S4={class:"ait-w-1/12 ait-flex ait-grid ait-grid-cols-1 ait-gap-3 ait-items-center"},M4={class:"ait-switchbar-tab-item ait-gap-3 ait-place-items-end ait-rounded-lg ait-p-2 ait-cursor-pointer arc-edge aitopia-options-search"};function T4(t,e,a,l,n,s){var m;const u=y("AppLogo"),c=y("font-awesome-icon"),p=y("single-response");return o(),r("div",b4,[i("div",w4,[i("div",y4,[i("div",x4,[i("div",{class:$(["ait-logo ait-flex ait-w-7/12 ait-place-items-center",this.constants.runtime_id==null?"ait-cursor-pointer":""]),onClick:e[0]||(e[0]=h=>this.constants.runtime_id==null?t.clickOpenPage(this.constants.web_app):"")},[b(u,{name:"logo",className:"ait-w-7 ait-flex-initial"}),i("div",k4,[i("div",C4,d((m=this.app_details)==null?void 0:m.app_search_title),1)])],2),i("div",$4,[i("button",L4,d(t.__("Ask AITOPIA")),1)])]),i("div",S4,[i("div",M4,[b(c,{icon:"fa-solid fa-gear",class:"ait-h-4 ait-w-4"})])])]),F(b(p,{class:"ait-pt-3 ait-pb-2",id:"aitopia-search-result",custom_key:this.ai_extra_key},null,8,["custom_key"]),[[Gt,this.ai_extra_key]])])])}const H4=R(v4,[["render",T4]]),A4={extends:O,props:{title:String,color:String,button_detail:Object,url:String},data(){return{detail:null}},beforeMount:function(){var t,e;this.detail=((t=this.$props)==null?void 0:t.button_detail)??f.filenameByFaIcon(((e=this.$props)==null?void 0:e.title)??null,this.$props.color??null)}},P4={key:0,class:"ait-items-center ait-justify-end ait-space-y-4 ait-mr-2 lg:ait-flex lg:ait-space-y-0 lg:ait-space-x-4 rtl:ait-space-x-reverse"},I4={class:"ait-w-full lg:ait-w-auto ait-bg-neutral-05 hover:ait-bg-neutral-100 dark:hover:ait-opacity-90 focus:ait-ring-4 focus:ait-outline-none focus:ait-ring-neutral-300 ait-text-white ait-rounded-lg ait-inline-flex ait-items-center ait-justify-center ait-px-4 ait-py-2 dark:ait-bg-neutral-800 dark:hover:ait-bg-neutral-900 dark:focus:ait-ring-neutral-700"},U4=["src","title"],E4={class:"ait-text-left rtl:ait-text-right"},j4={class:"ait--mt-1 ait-font-sans ait-text-sm ait-font-semibold"},R4=["innerHTML"];function B4(t,e,a,l,n,s){const u=y("font-awesome-icon");return o(),r(L,null,[t.Helpers.notUndefined(n.detail,"name")?(o(),r("div",P4,[i("div",I4,[t.Helpers.notUndefined(n.detail,"name")!="image"||a.url==null?(o(),E(u,{key:0,icon:`fa-regular fa-file-${t.Helpers.notUndefined(n.detail,"name")}`,class:"ait-me-3 ait-w-5 ait-h-5",fill:t.Helpers.notUndefined(n.detail,"color")},null,8,["icon","fill"])):(o(),r("img",{key:1,src:a.url,class:"ait-me-3 ait-w-5 ait-h-5 ait-image-modal",title:t.Helpers.notUndefined(n.detail,"name")},null,8,U4)),i("div",E4,[e[0]||(e[0]=i("div",{class:"mb-1 text-xs"},"File",-1)),i("div",j4,d(a.title),1)])])])):_("",!0),i("span",{style:{display:"none"},innerHTML:`<style>.fa-file-${t.Helpers.notUndefined(n.detail,"name")} path{fill:${t.Helpers.notUndefined(n.detail,"color")}}</style>`},null,8,R4)],64)}const D4=R(A4,[["render",B4]]),O4={props:["popoverText","breakWord","position","disable","left","offsetX"],data(){return{isHovered:!1}},methods:{hoverAction(t,e=!1,a="x"){if(this.isHovered=e,a=="y"&&e==!0){let l=t.target.querySelector(".ait-popper"),n=t.target;if(l==null&&(l=t.target.closest(".ait-popper-container").querySelector(".ait-popper"),n=t.target.closest(".ait-popper-container")),l==null)return;const s=n.clientWidth,u=Number(this.offsetX??0)||0,c=window.innerWidth,p=n.getBoundingClientRect().left+s;c-p<s?(l.style.top="0",l.style.left="-"+(s+u)+"px",l.style.right="auto"):(l.style.top="0",l.style.left="auto",l.style.right="-"+Math.max(0,s-u)+"px")}}}},z4=["innerHTML"],V4=["innerHTML"];function F4(t,e,a,l,n,s){return o(),r("li",{class:"ait-relative ait-block ait-popper-container",onMouseover:e[0]||(e[0]=u=>{this.isHovered=!0,this.hoverAction(u,!0,a.position)}),onMouseout:e[1]||(e[1]=u=>this.hoverAction(u,!1,a.position))},[Kt(t.$slots,"default",{},void 0,!0),a.popoverText?(o(),E(_t,{key:0,name:"fade"},{default:D(()=>[a.position==="y"?F((o(),r("div",{key:0,class:$(`ait-absolute ait-z-[9999999] ${a.position=="y"?"":"ait-top-0 ait-left-1/2 ait-w-full ait-transform ait--translate-x-1/2 ait-translate-y-[-120%]"} ait-popper ait-popper-${a.position??"x"} ait-py-1 ait-px-2 ait-rounded-md ait-shadow-lg dark:ait-bg-neutral-100 ait-bg-neutral-800 ait-text-gray-200 dark:ait-text-gray-900 ait:border-[1px] dark:ait-border-neutral-200 ait-border-neutral-300`)},[i("div",{class:$(`ait-text-xs ait-font-medium ait-text-gray-200 dark:ait-text-gray-800 ${a.breakWord?"":"ait-whitespace-nowrap ait-max-w-[170px] ait-w-full"}`),innerHTML:a.popoverText},null,10,z4)],2)),[[Gt,n.isHovered&&!a.disable]]):F((o(),r("div",{key:1,class:$(`ait-absolute ait-z-[9999999] ait-top-0 ait-transform ait--translate-x-1/2 ait-py-1 ait-px-2 ait-rounded-md ait-shadow-lg dark:ait-bg-neutral-100 ait-bg-neutral-800 ait-text-gray-900 dark:ait-text-gray-200 ait-translate-y-[-120%] ait:border-[1px] dark:ait-border-neutral-200 ait-border-neutral-300 ${a.left?`ait-left-[${a.left}]`:"ait-left-1/2"}`)},[i("div",{class:$(`ait-text-xs ait-font-medium ait-text-gray-200 dark:ait-text-gray-800 ${a.breakWord?"":"ait-whitespace-nowrap sait-w-full"}`),innerHTML:a.popoverText},null,10,V4)],2)),[[Gt,n.isHovered]])]),_:1})):_("",!0),e[2]||(e[2]=i("div",{class:"ait-hide ait-left-0 ait-top-0 ait-bottom-0 ait-left-0 ait-top-1/2 ait-left-1/2 ait-right-1/2 ait-bottom-1/2 ait-translate-x-[-100%] ait-translate-y-[-100%] ait-translate-x-[-120%] ait-translate-y-[-120%]"},null,-1))],32)}const q4=R(O4,[["render",F4],["__scopeId","data-v-d514277f"]]),N4=rt({extends:O,name:"ChatToolbar",props:{showUploadAPdf:{type:Boolean,default:!0},showReadPage:{type:Boolean,default:!0},uploadAnImage:{type:Boolean,default:!0},mode:{type:String,default:"chat"}},data(){return{errorMessage:"",promptId:"",dragActive:!1,inputImageFile:null}},watch:{ai_image_url(t,e){if(t&&t.startsWith("data:image")){const a=this.dataURItoBlob(t);this.uploadImageBlob(a)}f.scrollToBottom()}},methods:{dataURItoBlob(t){const e=t.split(","),a=atob(e[1]),l="image/png",n=new ArrayBuffer(a.length),s=new Uint8Array(n);for(let c=0;c<a.length;c++)s[c]=a.charCodeAt(c);return new Blob([n],{type:l})},dragOver(t){t.preventDefault(),this.dragActive=!0},dragEnter(t){t.preventDefault(),this.dragActive=!0},dragLeave(t){t.preventDefault(),this.dragActive=!1},async handleDrop(t){const e=t.dataTransfer.files[0];await this.processFile(e)},async handleFile(t){const e=t.target.files[0];await this.processFile(e),t.target.value=null},async processFile(t){if(this.inputImageFile=t,!t||!t.type.match("image.*")){this.errorMessage=this.__("Please upload a valid image file.");return}this.errorMessage="",this.closeModel();const e=this.createPreviewImageURL(t);this.changeStorage("ai_image_url",e,!1),this.uploadImageFile(t)},uploadImageFile(t){this.ai_wait=this.isUploadingImage=!0,this.Uploader.upload(t,41943040,["image/jpeg","image/jpg","image/png"],e=>{this.files||(this.files={});let a=f.SHA1(t.name+t.size).toString(),l=this.files[a];l&&this.changeStorage("ai_image_url",l.url,!1),this.files[a]=l,document.querySelector("#imageFileInput")!=null&&(document.querySelector("#imageFileInput").value=null),this.inputImageFile=null,this.ai_wait=this.isUploadingImage=!1}),setTimeout(()=>{this.inputImageFile=null,this.ai_wait=this.isUploadingImage=!1},3e4)},uploadImageBlob(t){this.ai_wait=this.isUploadingImage=!0;const e="chat_"+new Date().getTime()+"_ss.png";this.Uploader.uploadBlob(t,e,a=>{this.files||(this.files={});let l=f.SHA1(e+t.size).toString(),n=this.files[l];n&&this.changeStorage("ai_image_url",n.url,!1),this.files[l]=n,document.querySelector("#imageFileInput")!=null&&(document.querySelector("#imageFileInput").value=null),this.inputImageFile=null,this.ai_wait=this.isUploadingImage=!1}),setTimeout(()=>{this.inputImageFile=null,this.ai_wait=this.isUploadingImage=!1},3e4)},createPreviewImageURL(t){return URL.createObjectURL(t)},getKey(){if(this.inputImageFile){let t=this.inputImageFile;return f.SHA1(t.name+t.size).toString()}},getFileName(t){return f.slugify(t.name)},async captureCurrentTab(){this.ai_image_url=null,this.sidebarToggle(!1),await this.waitFor(100),this.closeModel();const t=document.createElement("div");t.classList.add("ait-capture-overlay"),t.style.position="fixed",t.style.zIndex="9999999",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgba(0, 0, 0, 0.3)",t.style.transition="background-color 0.8s ease",t.style.cursor="crosshair",document.body.appendChild(t);const e=document.createElement("div");e.style.border="1px solid var(--ait-link-color)",e.style.position="absolute",t.appendChild(e);const a=document.createElement("div"),l=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div");[a,l,n,s].forEach(v=>{v.style.position="fixed",v.style.zIndex="99999",v.style.backgroundColor="rgba(0, 0, 0, 0.3)",v.style.display="block",v.style.width="0",v.style.height="0",document.body.appendChild(v)});let u,c;const p=v=>{u=v.clientX,c=v.clientY,t.style.backgroundColor="rgba(0, 0, 0, 0)",e.style.width="0",e.style.height="0",e.style.left=`${u}px`,e.style.top=`${c}px`},m=v=>{const g=Math.min(window.innerWidth,Math.max(0,v.clientX)),w=Math.min(window.innerHeight,Math.max(0,v.clientY));a.style.top="0",a.style.left="0",a.style.width="100%",a.style.height=`${Math.min(w,c)}px`,l.style.bottom="0",l.style.left="0",l.style.width="100%",l.style.height=`${window.innerHeight-Math.max(w,c)}px`,n.style.top=`${Math.min(w,c)}px`,n.style.left="0",n.style.width=`${Math.min(g,u)}px`,n.style.height=`${Math.abs(w-c)}px`,s.style.top=`${Math.min(w,c)}px`,s.style.left=`${Math.max(g,u)}px`,s.style.width=`${window.innerWidth-Math.max(g,u)}px`,s.style.height=`${Math.abs(w-c)}px`,e.style.width=`${Math.abs(g-u)}px`,e.style.height=`${Math.abs(w-c)}px`,e.style.left=`${Math.min(g,u)}px`,e.style.top=`${Math.min(w,c)}px`},h=async v=>{document.body.removeChild(t),[a,l,n,s].forEach(g=>{document.body.removeChild(g)}),t.style.backgroundColor="rgba(0, 0, 0, 0.3)",t.removeEventListener("mousedown",p),t.removeEventListener("mousemove",m),t.removeEventListener("mouseup",h),await this.waitFor(300),f.sendMessage("action.onCaptureScreen",{x:Math.min(u,v.clientX),y:Math.min(c,v.clientY),width:Math.abs(v.clientX-u),height:Math.abs(v.clientY-c),windowWidth:window.innerWidth,windowHeight:window.innerHeight}),await this.waitFor(100),this.sidebarToggle(!0)};t.addEventListener("mousedown",p),t.addEventListener("mousemove",m),t.addEventListener("mouseup",h)},triggerFileSelection(){typeof this.$refs<"u"&&typeof this.$refs.imageFileInput<"u"&&this.$refs.imageFileInput.click()},waitFor(t){return new Promise(e=>setTimeout(e,t))},closeModel(){const t=document.querySelector('[data-ait-dropdown-toggle="ait-image-vision-modal"]'),e=document.querySelector("#ait-image-vision-modal");t&&e.classList.contains("ait-show")&&t.click()},async onReadPageHandler(){this.triggerAction({type:"onReadPage",params:{mode:"summarize"}})}}}),Z4={class:"ait-capture-tab ait-flex ait-flex-row ait-items-center ait-gap-1"},W4={"data-ait-dropdown-toggle":"ait-pdf-upload-modal",class:"ait-cursor-pointer ait-p-1 lg:ait-p-1.5 ait-rounded-full ait-flex ait-items-center ait-justify-center hover:ait-bg-neutral-300 dark:hover:ait-bg-neutral-900 ait-border ait-transition-all"},G4=["disabled"],K4={class:"ait-p-4 ait-w-full ait-text-center ait-flex ait-flex-col ait-items-center ait-gap-3"},Y4={class:"ait-px-4 ait-text-sm ait-text-neutral-600 dark:ait-text-neutral-400"},Q4=["disabled"],X4={for:"imageFileInput",class:"ait-w-full ait-h-full ait-relative ait-z-[9999]"},J4={class:"ait-flex ait-flex-col ait-w-full ait-p-6 ait-items-center ait-justify-center ait-mt-4 ait-border-2 ait-border-dotted ait-border-neutral-300 dark:ait-border-neutral-700 ait-rounded-lg ait-text-neutral-600 dark:ait-text-neutral-400 ait-text-center ait-cursor-pointer ait-transition-all hover:ait-opacity-70"},t6={class:"ait-flex ait-flex-col ait-items-center ait-gap-1 ait-mt-2"},e6={class:"ait-block ait-text-xs"},i6={key:0,class:"ait-flex ait-flex-row ait-justify-center ait-items-center ait-gap-2 ait-px-4"},a6={class:"ait-text-center ait-text-neutral-600 dark:ait-text-neutral-400 ait-text-lg ait-my-4"},s6={key:1,class:"ait-capture-tab ait-flex ait-flex-col ait-px-4 ait-mt-2"},o6={class:"ait-h-6 ait-mt-4"},n6={key:0,class:"ait-text-red-500 ai-text-sm"};function l6(t,e,a,l,n,s){const u=y("font-awesome-icon"),c=y("HoverPopover"),p=y("svg-logo"),m=y("modal");return o(),r(L,null,[i("div",Z4,[t.mode!=="full"&&this.constants.manuel_extension_id==this.constants.runtime_id?(o(),E(c,{key:0,"popover-text":t.__("Take a screenshot")},{default:D(()=>[i("button",{onClick:e[0]||(e[0]=(...h)=>t.captureCurrentTab&&t.captureCurrentTab(...h)),class:"ait-cursor-pointer ait-p-1 lg:ait-p-1.5 ait-rounded-full ait-flex ait-items-center ait-justify-center hover:ait-bg-neutral-300 dark:hover:ait-bg-neutral-900 ait-border ait-transition-all"},[b(u,{icon:"fa-solid fa-scissors",class:"ait-w-3.5 ait-h-3.5 lg:ait-w-4 lg:ait-h-4"})])]),_:1},8,["popover-text"])):_("",!0),t.uploadAnImage?(o(),E(c,{key:1,"popover-text":t.__("Upload an image")},{default:D(()=>[i("button",{onClick:e[1]||(e[1]=(...h)=>t.triggerFileSelection&&t.triggerFileSelection(...h)),class:"ait-cursor-pointer ait-p-1 lg:ait-p-1.5 ait-rounded-full ait-flex ait-items-center ait-justify-center hover:ait-bg-neutral-300 dark:hover:ait-bg-neutral-900 ait-border ait-transition-all"},[b(u,{icon:"fa-solid fa-image",class:"ait-w-3.5 ait-h-3.5 lg:ait-w-4 lg:ait-h-4"})])]),_:1},8,["popover-text"])):_("",!0),t.showUploadAPdf&&this.selected_agent==null?(o(),E(c,{key:2,"popover-text":t.__("Upload File")},{default:D(()=>[i("button",W4,[b(p,{className:"ait-w-3.5 ait-h-3.5 lg:ait-w-4 lg:ait-h-4",name:"chat_with_file_icon"})])]),_:1},8,["popover-text"])):_("",!0),t.showReadPage?(o(),E(c,{key:3,"popover-text":t.__("Read Page")},{default:D(()=>[i("button",{onClick:e[2]||(e[2]=(...h)=>t.onReadPageHandler&&t.onReadPageHandler(...h)),class:"ait-cursor-pointer ait-p-1 lg:ait-p-1.5 ait-rounded-full ait-flex ait-items-center ait-justify-center hover:ait-bg-neutral-300 dark:hover:ait-bg-neutral-900 ait-border ait-transition-all"},[b(u,{icon:"fa-solid fa-book",class:"ait-w-3 ait-h-3 lg:ait-w-3.5 lg:ait-h-3.5"})])]),_:1},8,["popover-text"])):_("",!0),i("input",{type:"file",ref:"imageFileInput",id:"imageFileInput",onChange:e[3]||(e[3]=(...h)=>t.handleFile&&t.handleFile(...h)),disabled:t.isUploadingImage,style:{display:"none"},accept:"image/jpeg,image/png"},null,40,G4)]),b(m,{title:"Vision",id:"ait-image-vision-modal",className:"ait-w-full ait-items-center",onDrop:J(t.handleDrop,["prevent"]),onDragover:J(t.dragOver,["prevent"]),onDragenter:J(t.dragEnter,["prevent"]),onDragleave:J(t.dragLeave,["prevent"])},{default:D(()=>[i("div",K4,[i("p",Y4,d(t.__("Upload an image to easily get intelligent explanations and extract text from your images.")),1),i("input",{type:"file",ref:"imageFileInput",id:"imageFileInput",onChange:e[4]||(e[4]=(...h)=>t.handleFile&&t.handleFile(...h)),disabled:t.isUploadingImage,style:{display:"none"},accept:"image/jpeg,image/png"},null,40,Q4),i("label",X4,[i("div",J4,[b(u,{icon:"fa-solid fa-image",class:"ait-w-24 ait-h-24 ait-opacity-60"}),i("div",t6,[i("span",e6,d(t.__("Supported image types are JPEG and PNG")),1)]),i("span",{class:$(["ait-block ait-mt-2",t.dragActive?"ait-opacity-100":"ait-opacity-60"])},d(t.dragActive?t.__("Drop your Image here"):t.__("Drag your Image here or click to upload")),3)])])]),t.mode!=="full"?(o(),r("div",i6,[e[6]||(e[6]=i("div",{class:"ait-h-[1px] ait-w-1/2 ait-bg-neutral-200 dark:ait-bg-neutral-600"},null,-1)),i("p",a6,d(t.__("Or")),1),e[7]||(e[7]=i("div",{class:"ait-h-[1px] ait-w-1/2 ait-bg-neutral-200 dark:ait-bg-neutral-600"},null,-1))])):_("",!0),t.mode!=="full"&&this.constants.manuel_extension_id==this.constants.runtime_id?(o(),r("div",s6,[i("button",{onClick:e[5]||(e[5]=(...h)=>t.captureCurrentTab&&t.captureCurrentTab(...h)),class:"ait-cursor-pointer ait-w-full ait-font-semibold ait-text-white ait-text-sm ait-py-2 ait-rounded-md ait-flex ait-items-center ait-gap-2 ait-justify-center ait-bg-[var(--ait-link-color)] hover:ait-opacity-90 ait-transition-all"},[b(u,{icon:"fa-solid fa-scissors",class:"ait-w-3 ait-h-3"}),U(" "+d(t.__("Take a screenshot")),1)])])):_("",!0),i("div",o6,[t.errorMessage?(o(),r("p",n6,d(t.errorMessage),1)):_("",!0)])]),_:1},8,["onDrop","onDragover","onDragenter","onDragleave"])],64)}const r6=R(N4,[["render",l6]]),d6={extends:O},c6={key:0,class:"ait-w-full ait-border-b-[1px] ait-border-neutral-200 dark:ait-border-neutral-600 ait-pb-1"},u6={tabindex:"-1","aria-hide":"true","data-modal-hide":""},h6={class:"ait-flex ait-flex-row ait-justify-start ait-items-center ait-gap-3 ait-p-2"},p6={class:"ait-bg-white ait-rounded-lg ait-shadow dark:ait-bg-neutral-800"},g6={class:"ait-relative"},f6=["src"],m6={key:0,class:"ait-absolute ait-inset-0 ait-w-full ait-h-full ait-flex ait-items-center ait-justify-center ait-bg-white/50 ait-pointer-events-none"},_6={class:"ait-flex ait-flex-col ait-justify-start ait-items-start ait-gap-2 ait-h-full"};function v6(t,e,a,l,n,s){const u=y("font-awesome-icon");return this.ai_image_url?(o(),r("div",c6,[i("div",u6,[i("div",h6,[i("div",p6,[i("div",g6,[i("button",{type:"button",class:"ait-absolute ait-top-[-6px] ait-z-50 ait-right-[-6px] ait-text-neutral-400 ait-bg-neutral-500/70 dark:ait-bg-neutral-800/70 ait-transition-all hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-full ait-text-sm ait-w-4 ait-h-4 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-900 dark:hover:ait-text-white","data-modal-hide":"",onClick:e[0]||(e[0]=c=>this.changeStorage("ai_image_url","",!1))},[b(u,{icon:"fa-solid fa-close",class:"ait-w-3 ait-h-3"}),e[3]||(e[3]=i("span",{class:"ait-sr-only"},"Close modal",-1))]),i("img",{src:this.ai_image_url,alt:"Image preview",class:"ait-w-[72px] ait-h-[72px] ait-object-cover ait-rounded-sm",width:"72",height:"72"},null,8,f6),this.isUploadingImage?(o(),r("div",m6,e[4]||(e[4]=[i("div",{class:"ait-border-4 ait-border-solid ait-border-t-transparent ait-border-gray-500 ait-rounded-full ait-w-9 ait-h-9 ait-animate-spin"},null,-1)]))):_("",!0)])]),i("div",_6,[i("button",{type:"button",onClick:e[1]||(e[1]=c=>this.aiChat(t.__("Extract text from the Image"))),class:"ait-cursor-pointer ait-py-1 ait-px-2 ait-text-sm ait-bg-neutral-200 dark:ait-bg-neutral-700 ait-text-[var(--ait-link-color)] ait-rounded-md ait-flex ait-items-center ait-justify-center hover:ait-bg-neutral-300 dark:hover:ait-bg-neutral-900 ait-border ait-transition-all"},[U(d(t.__("Extract text from the Image"))+" ",1),b(u,{icon:"fa-solid fa-arrow-right",class:"ait-ml-1 ait-w-3 ait-h-3"})]),i("button",{type:"button",onClick:e[2]||(e[2]=c=>this.aiChat(t.__("Explain the Image"))),class:"ait-cursor-pointer ait-py-1 ait-px-2 ait-text-sm ait-bg-neutral-200 dark:ait-bg-neutral-700 ait-text-[var(--ait-link-color)] ait-rounded-md ait-flex ait-items-center ait-justify-center hover:ait-bg-neutral-300 dark:hover:ait-bg-neutral-900 ait-border ait-transition-all"},[U(d(t.__("Explain the Image"))+" ",1),b(u,{icon:"fa-solid fa-arrow-right",class:"ait-ml-1 ait-w-3 ait-h-3"})])])])])])):_("",!0)}const Ci=R(d6,[["render",v6]]),b6={extends:O},w6={class:"ait-p-4 ait-w-full ait-text-center ait-flex ait-flex-col ait-items-center ait-gap-3"},y6={class:"ait-w-full ait-text-start ait-p-[10px]"},x6=["innerHTML"],k6={class:"ait-font-bold"},C6={class:"ait-w-full ait-px-[40px] ait-my-[30px]"},$6={class:"ait-flex ait-items-center ait-gap-[12px]"},L6={class:"ait-text-[14px]"},S6={class:"ait-flex ait-items-center ait-gap-[12px]"},M6={class:"ait-text-[14px]"},T6={class:"ait-flex ait-items-center ait-gap-[12px]"},H6={width:"25",style:{"max-width":"25px"},height:"25",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A6={class:"ait-text-[14px]"},P6={class:"ait-copy-link-wrapper ait-flex ait-items-center ait-justify-between ait-mt-[10px] ait-cursor-not-allowed"},I6={class:"ait-overflow-hidden ait-w-5/12 ait-whitespace-nowrap ait-text-ellipsis ait-px-[18px] ait-opacity-50"},U6={class:"ait-text-white"},E6={class:"ait-cursor-[pointer]"};function j6(t,e,a,l,n,s){const u=y("font-awesome-icon"),c=y("modal");return o(),E(c,{title:t.__("Invite Friends & Earn Credits"),id:"ait-invite-friends",className:"ait-items-center"},{default:D(()=>[i("div",w6,[i("div",y6,[i("span",{innerHTML:t.__('Earn <span class="text-primary-600 font-bold">5 Fast credits & 1 Advanced</span> credit for both of you and your friend.')},null,8,x6),i("span",k6,d(t.__("Earn more when you refer more!")),1),i("div",C6,[i("div",$6,[e[2]||(e[2]=i("svg",{width:"20",height:"22",viewBox:"0 0 43 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.8423 3.0436C24.885 1.06876 27.6211 -0.0242977 30.4616 0.000409932C33.302 0.0251175 36.0188 1.1656 38.0268 3.17566C40.0348 5.18565 41.1735 7.90432 41.1981 10.746C41.2228 13.5877 40.1315 16.3257 38.1588 18.3703L38.1371 18.3928L32.7165 23.8185C32.7164 23.8186 32.7165 23.8184 32.7165 23.8185C31.6186 24.9178 30.297 25.7683 28.8418 26.3117C27.3864 26.8551 25.8313 27.0789 24.2819 26.9678C22.7324 26.8568 21.2251 26.4134 19.862 25.668C18.499 24.9225 17.3122 23.8924 16.382 22.6477C15.7881 21.8528 15.9509 20.7269 16.7458 20.133C17.5407 19.539 18.6665 19.7019 19.2605 20.4967C19.8823 21.3288 20.6755 22.0172 21.5862 22.5153C22.4969 23.0133 23.5039 23.3095 24.5388 23.3837C25.5737 23.4579 26.6125 23.3084 27.5848 22.9454C28.557 22.5823 29.44 22.0142 30.1738 21.2793L35.5831 15.8647C36.8952 14.4992 37.6214 12.673 37.6049 10.7772C37.5884 8.87653 36.8268 7.05875 35.4847 5.71527C34.1426 4.37185 32.3275 3.61014 30.4303 3.59364C28.5373 3.57717 26.713 4.304 25.3488 5.61846L22.2507 8.70169C21.5473 9.40164 20.4098 9.3989 19.7098 8.69556C19.0098 7.99222 19.0126 6.85462 19.7159 6.15467L22.8423 3.0436ZM14.0283 13.2153C15.4836 12.6719 17.0388 12.4481 18.5882 12.5592C20.1376 12.6703 21.645 13.1136 23.008 13.8591C24.3711 14.6045 25.5579 15.6346 26.488 16.8793C27.082 17.6742 26.9191 18.8001 26.1243 19.3941C25.3294 19.988 24.2035 19.8252 23.6095 19.0303C22.9878 18.1982 22.1946 17.5098 21.2838 17.0117C20.3731 16.5137 19.3662 16.2176 18.3312 16.1434C17.2963 16.0692 16.2575 16.2186 15.2853 16.5817C14.3131 16.9447 13.43 17.5129 12.6962 18.2477L7.28698 23.6624C5.97482 25.0279 5.24869 26.8541 5.26515 28.7498C5.28165 30.6505 6.04327 32.4683 7.3854 33.8118C8.72747 35.1552 10.5426 35.9169 12.4397 35.9334C14.3319 35.9499 16.1554 35.2237 17.5195 33.9103L20.5976 30.829C21.2989 30.127 22.4365 30.1265 23.1385 30.8278C23.8405 31.5291 23.8411 32.6667 23.1398 33.3687L20.0279 36.4836C17.9853 38.4585 15.2489 39.5513 12.4085 39.5266C9.56802 39.5019 6.85126 38.3614 4.84322 36.3514C2.83525 34.3414 1.69659 31.6227 1.67192 28.781C1.64725 25.9393 2.73854 23.2013 4.7113 21.1567L4.73298 21.1342L10.1536 15.7085C10.1537 15.7085 10.1535 15.7086 10.1536 15.7085C11.2515 14.6092 12.573 13.7587 14.0283 13.2153Z",fill:"white"}),i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.8423 3.0436C24.885 1.06876 27.6211 -0.0242977 30.4616 0.000409932C33.302 0.0251175 36.0188 1.1656 38.0268 3.17566C40.0348 5.18565 41.1735 7.90432 41.1981 10.746C41.2228 13.5877 40.1315 16.3257 38.1588 18.3703L38.1371 18.3928L32.7165 23.8185C32.7164 23.8186 32.7165 23.8184 32.7165 23.8185C31.6186 24.9178 30.297 25.7683 28.8418 26.3117C27.3864 26.8551 25.8313 27.0789 24.2819 26.9678C22.7324 26.8568 21.2251 26.4134 19.862 25.668C18.499 24.9225 17.3122 23.8924 16.382 22.6477C15.7881 21.8528 15.9509 20.7269 16.7458 20.133C17.5407 19.539 18.6665 19.7019 19.2605 20.4967C19.8823 21.3288 20.6755 22.0172 21.5862 22.5153C22.4969 23.0133 23.5039 23.3095 24.5388 23.3837C25.5737 23.4579 26.6125 23.3084 27.5848 22.9454C28.557 22.5823 29.44 22.0142 30.1738 21.2793L35.5831 15.8647C36.8952 14.4992 37.6214 12.673 37.6049 10.7772C37.5884 8.87653 36.8268 7.05875 35.4847 5.71527C34.1426 4.37185 32.3275 3.61014 30.4303 3.59364C28.5373 3.57717 26.713 4.304 25.3488 5.61846L22.2507 8.70169C21.5473 9.40164 20.4098 9.3989 19.7098 8.69556C19.0098 7.99222 19.0126 6.85462 19.7159 6.15467L22.8423 3.0436ZM14.0283 13.2153C15.4836 12.6719 17.0388 12.4481 18.5882 12.5592C20.1376 12.6703 21.645 13.1136 23.008 13.8591C24.3711 14.6045 25.5579 15.6346 26.488 16.8793C27.082 17.6742 26.9191 18.8001 26.1243 19.3941C25.3294 19.988 24.2035 19.8252 23.6095 19.0303C22.9878 18.1982 22.1946 17.5098 21.2838 17.0117C20.3731 16.5137 19.3662 16.2176 18.3312 16.1434C17.2963 16.0692 16.2575 16.2186 15.2853 16.5817C14.3131 16.9447 13.43 17.5129 12.6962 18.2477L7.28698 23.6624C5.97482 25.0279 5.24869 26.8541 5.26515 28.7498C5.28165 30.6505 6.04327 32.4683 7.3854 33.8118C8.72747 35.1552 10.5426 35.9169 12.4397 35.9334C14.3319 35.9499 16.1554 35.2237 17.5195 33.9103L20.5976 30.829C21.2989 30.127 22.4365 30.1265 23.1385 30.8278C23.8405 31.5291 23.8411 32.6667 23.1398 33.3687L20.0279 36.4836C17.9853 38.4585 15.2489 39.5513 12.4085 39.5266C9.56802 39.5019 6.85126 38.3614 4.84322 36.3514C2.83525 34.3414 1.69659 31.6227 1.67192 28.781C1.64725 25.9393 2.73854 23.2013 4.7113 21.1567L4.73298 21.1342L10.1536 15.7085C10.1537 15.7085 10.1535 15.7086 10.1536 15.7085C11.2515 14.6092 12.573 13.7587 14.0283 13.2153Z",fill:"url(#paint0_linear_18047_3202)"}),i("defs",null,[i("linearGradient",{id:"paint0_linear_18047_3202",x1:"10.1416",y1:"17.5048",x2:"25.9524",y2:"40.0917",gradientUnits:"userSpaceOnUse"},[i("stop",{"stop-color":"rgba(1, 167, 125, .9)"}),i("stop",{offset:"1","stop-color":"#60a5fa"})])])],-1)),i("span",L6,d(t.__("Refer your friend with an Invitation link")),1)]),b(u,{class:"ait-w-[11px] ait-mx-[4px] ait-mt-[4px] ait-mb-[10px]",icon:"fa-solid fa-arrow-down"}),i("div",S6,[e[3]||(e[3]=i("svg",{width:"18",height:"19",viewBox:"0 0 38 39",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8795 10.3401C11.8795 6.79968 14.7411 3.84276 18.3761 3.84276C22.011 3.84276 24.8727 6.79968 24.8727 10.3401C24.8727 13.8804 22.011 16.8374 18.3761 16.8374C18.1848 16.8374 18.0003 16.8673 17.8267 16.9229C15.64 17.0126 13.4838 17.502 11.4584 18.3704C9.20642 19.336 7.16019 20.7513 5.43658 22.5354C3.71298 24.3196 2.34573 26.4377 1.41292 28.7689C0.480111 31.1 0 33.5985 0 36.1217C0 37.1828 0.831034 38.043 1.85617 38.043H35.2672C36.2923 38.043 37.1233 37.1828 37.1233 36.1217C37.1233 33.5985 36.6432 31.1 35.7104 28.7689C34.7776 26.4377 33.4104 24.3196 31.6867 22.5354C30.9619 21.7851 29.7866 21.7851 29.0617 22.5354C28.3368 23.2858 28.3368 24.5023 29.0617 25.2527C30.4406 26.68 31.5344 28.3745 32.2807 30.2394C32.7889 31.5096 33.1292 32.8419 33.2945 34.2003L3.8288 34.2003C3.99413 32.8419 4.3344 31.5096 4.84267 30.2394C5.58892 28.3745 6.68271 26.68 8.0616 25.2527C9.44049 23.8254 11.0775 22.6931 12.8791 21.9207C14.6807 21.1482 16.6116 20.7506 18.5617 20.7506C18.7692 20.7506 18.9688 20.7154 19.1551 20.6503C24.3899 20.2483 28.585 15.8289 28.585 10.3401C28.585 4.58142 23.9673 0 18.3761 0C12.7848 0 8.16717 4.58142 8.16717 10.3401C8.16717 11.4012 8.9982 12.2614 10.0233 12.2614C11.0485 12.2614 11.8795 11.4012 11.8795 10.3401Z",fill:"white"}),i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8795 10.3401C11.8795 6.79968 14.7411 3.84276 18.3761 3.84276C22.011 3.84276 24.8727 6.79968 24.8727 10.3401C24.8727 13.8804 22.011 16.8374 18.3761 16.8374C18.1848 16.8374 18.0003 16.8673 17.8267 16.9229C15.64 17.0126 13.4838 17.502 11.4584 18.3704C9.20642 19.336 7.16019 20.7513 5.43658 22.5354C3.71298 24.3196 2.34573 26.4377 1.41292 28.7689C0.480111 31.1 0 33.5985 0 36.1217C0 37.1828 0.831034 38.043 1.85617 38.043H35.2672C36.2923 38.043 37.1233 37.1828 37.1233 36.1217C37.1233 33.5985 36.6432 31.1 35.7104 28.7689C34.7776 26.4377 33.4104 24.3196 31.6867 22.5354C30.9619 21.7851 29.7866 21.7851 29.0617 22.5354C28.3368 23.2858 28.3368 24.5023 29.0617 25.2527C30.4406 26.68 31.5344 28.3745 32.2807 30.2394C32.7889 31.5096 33.1292 32.8419 33.2945 34.2003L3.8288 34.2003C3.99413 32.8419 4.3344 31.5096 4.84267 30.2394C5.58892 28.3745 6.68271 26.68 8.0616 25.2527C9.44049 23.8254 11.0775 22.6931 12.8791 21.9207C14.6807 21.1482 16.6116 20.7506 18.5617 20.7506C18.7692 20.7506 18.9688 20.7154 19.1551 20.6503C24.3899 20.2483 28.585 15.8289 28.585 10.3401C28.585 4.58142 23.9673 0 18.3761 0C12.7848 0 8.16717 4.58142 8.16717 10.3401C8.16717 11.4012 8.9982 12.2614 10.0233 12.2614C11.0485 12.2614 11.8795 11.4012 11.8795 10.3401Z",fill:"url(#paint0_linear_18047_3240)"}),i("defs",null,[i("linearGradient",{id:"paint0_linear_18047_3240",x1:"7.955",y1:"16.8477",x2:"23.2962",y2:"38.2338",gradientUnits:"userSpaceOnUse"},[i("stop",{"stop-color":"rgba(1, 167, 125, .9)"}),i("stop",{offset:"1","stop-color":"#60a5fa"})])])],-1)),i("span",M6,d(t.__("Your friends sign up")),1)]),b(u,{class:"ait-w-[11px] ait-mx-[4px] ait-mt-[10px] ait-mb-[3px]",icon:"fa-solid fa-arrow-down"}),i("div",T6,[(o(),r("svg",H6,e[4]||(e[4]=[i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.1524 6.83074C11.1524 3.6117 13.7641 1 16.9831 1C20.2021 1 22.8138 3.6117 22.8138 6.83074V7.76822H27.9815C30.7352 7.76822 32.9662 9.99923 32.9662 12.7529V17.9206H33.9037C37.1227 17.9206 39.7344 20.5323 39.7344 23.7514C39.7344 26.9704 37.1227 29.5821 33.9037 29.5821H32.9662V34.7497C32.9662 37.5034 30.7352 39.7344 27.9815 39.7344H19.9511V35.5957C19.9511 33.9586 18.6203 32.6278 16.9831 32.6278C15.3459 32.6278 14.0151 33.9586 14.0151 35.5957V39.7344H5.98473C3.23101 39.7344 1 37.5034 1 34.7497L1.01059 26.7193H5.13867C6.77585 26.7193 8.10663 25.3885 8.10663 23.7513C8.10663 22.1141 6.77585 20.7833 5.13867 20.7833H1.00633L1.01692 12.7529C1.01692 12.7526 1.01692 12.7522 1.01692 12.7518C1.01755 10.0091 3.22096 7.76822 5.98473 7.76822H11.1524V6.83074ZM16.9831 4.20119C15.532 4.20119 14.3535 5.37967 14.3535 6.83074V10.9694H5.98473C5.00942 10.9694 4.21811 11.7567 4.21811 12.7529L4.21174 17.5822H5.13867C8.54382 17.5822 11.3078 20.3462 11.3078 23.7513C11.3078 27.1565 8.54382 29.9205 5.13867 29.9205H4.20756L4.20119 34.7497C4.20119 34.75 4.20119 34.7503 4.20119 34.7506C4.20168 35.7359 4.99928 36.5332 5.98473 36.5332H10.8139V35.5957C10.8139 32.1906 13.5779 29.4266 16.9831 29.4266C20.3882 29.4266 23.1522 32.1906 23.1522 35.5957V36.5332H27.9815C28.9672 36.5332 29.765 35.7354 29.765 34.7497V26.3809H33.9037C35.3547 26.3809 36.5332 25.2024 36.5332 23.7514C36.5332 22.3003 35.3547 21.1218 33.9037 21.1218H29.765V12.7529C29.765 11.7672 28.9672 10.9694 27.9815 10.9694H19.6126V6.83074C19.6126 5.37967 18.4342 4.20119 16.9831 4.20119Z",fill:"white"},null,-1),i("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.1524 6.83074C11.1524 3.6117 13.7641 1 16.9831 1C20.2021 1 22.8138 3.6117 22.8138 6.83074V7.76822H27.9815C30.7352 7.76822 32.9662 9.99923 32.9662 12.7529V17.9206H33.9037C37.1227 17.9206 39.7344 20.5323 39.7344 23.7514C39.7344 26.9704 37.1227 29.5821 33.9037 29.5821H32.9662V34.7497C32.9662 37.5034 30.7352 39.7344 27.9815 39.7344H19.9511V35.5957C19.9511 33.9586 18.6203 32.6278 16.9831 32.6278C15.3459 32.6278 14.0151 33.9586 14.0151 35.5957V39.7344H5.98473C3.23101 39.7344 1 37.5034 1 34.7497L1.01059 26.7193H5.13867C6.77585 26.7193 8.10663 25.3885 8.10663 23.7513C8.10663 22.1141 6.77585 20.7833 5.13867 20.7833H1.00633L1.01692 12.7529C1.01692 12.7526 1.01692 12.7522 1.01692 12.7518C1.01755 10.0091 3.22096 7.76822 5.98473 7.76822H11.1524V6.83074ZM16.9831 4.20119C15.532 4.20119 14.3535 5.37967 14.3535 6.83074V10.9694H5.98473C5.00942 10.9694 4.21811 11.7567 4.21811 12.7529L4.21174 17.5822H5.13867C8.54382 17.5822 11.3078 20.3462 11.3078 23.7513C11.3078 27.1565 8.54382 29.9205 5.13867 29.9205H4.20756L4.20119 34.7497C4.20119 34.75 4.20119 34.7503 4.20119 34.7506C4.20168 35.7359 4.99928 36.5332 5.98473 36.5332H10.8139V35.5957C10.8139 32.1906 13.5779 29.4266 16.9831 29.4266C20.3882 29.4266 23.1522 32.1906 23.1522 35.5957V36.5332H27.9815C28.9672 36.5332 29.765 35.7354 29.765 34.7497V26.3809H33.9037C35.3547 26.3809 36.5332 25.2024 36.5332 23.7514C36.5332 22.3003 35.3547 21.1218 33.9037 21.1218H29.765V12.7529C29.765 11.7672 28.9672 10.9694 27.9815 10.9694H19.6126V6.83074C19.6126 5.37967 18.4342 4.20119 16.9831 4.20119Z",fill:"url(#paint0_linear_18267_3259)"},null,-1),i("defs",null,[i("linearGradient",{id:"paint0_linear_18267_3259",x1:"9.30023",y1:"18.1538",x2:"24.794",y2:"40.2877",gradientUnits:"userSpaceOnUse"},[i("stop",{"stop-color":"rgba(1, 167, 125, .9)"}),i("stop",{offset:"1","stop-color":"#60a5fa"})])],-1)]))),i("span",A6,d(t.__("They install extension & login. You both earn credits!")),1)])]),i("div",P6,[i("span",I6,d(this.user.invite_url),1),i("button",{type:"button",class:"ait-w-7/12 ait-h-[36px] ait-rounded-full hover:ait-opacity-90 active:ait-opacity-80 ait-text-white ait-bg-gradient-to-r ait-from-[#01a77d] ait-to-[#60a5fa]",onClick:e[0]||(e[0]=p=>t.Helpers.copyClipboard(this.user.invite_url)),style:{"text-shadow":"rgba(0, 0, 0, 0.3) 1px 1px 1px"}},[i("span",U6,d(t.__("Copy Invitation Link")),1)])]),i("div",{class:"ait-mt-[18px] ait-text-[--ait-tab-menu-active-bg-color] ait-cursor-pointer ait-text-center",onClick:e[1]||(e[1]=p=>t.clickOpenPage(`${this.constants.site}/invite`))},[i("span",E6,d(t.__("Check Invitation Records")),1)])])])]),_:1},8,["title"])}const R6=R(b6,[["render",j6]]),B6=rt({extends:O,name:"UpgradePlanModal"}),D6={class:"ait-px-4 ait-py-12 ait-w-full ait-text-center ait-flex ait-flex-col ait-items-center ait-gap-8"},O6={class:"ait-px-4 ait-text-sm ait-text-neutral-600 dark:ait-text-neutral-400"},z6={class:"aitopia-pricing ait-cursor-pointer ait-w-full ait-font-semibold ait-text-white ait-text-sm ait-py-2 ait-rounded-md ait-flex ait-items-center ait-gap-2 ait-justify-center ait-bg-[var(--ait-link-color)] hover:ait-opacity-90 ait-transition-all"};function V6(t,e,a,l,n,s){const u=y("modal");return o(),E(u,{title:"Search",id:"ait-upgrade-plan-modal",className:"ait-w-full ait-items-center"},{default:D(()=>[i("div",D6,[i("p",O6,d(t.__("The data of AITOPIA isn't real-time. WebAccess Feature combines the intelligence of AITOPIA with realtime web information, allowing GPT to handle real-time information-related questions more effectively. Upgrade to gain this feature, and worry no more about outdated information!")),1),i("button",z6,d(t.__("Upgrade Now")),1)])]),_:1})}const F6=R(B6,[["render",V6]]),q6={extends:O,methods:{checkColor(){return this.app_details.app_logo.indexOf('fill="#000000"')!==-1||this.app_details.app_logo.indexOf('fill="currentColor"')!==-1}}},N6=["innerHTML"],Z6=["src"];function W6(t,e,a,l,n,s){const u=y("svg-logo");return this.constants.extension_id==null||this.constants.extension_id==this.constants.manuel_extension_id?(o(),E(u,Ct({key:0,name:"logo"},t.$attrs),null,16)):this.app_details.app_logo.indexOf("<svg")!==-1?(o(),r("span",{key:1,innerHTML:String(this.app_details.app_logo).replace("<svg ",`<svg class="${t.$attrs.class??""} ${t.$attrs.className??""} ${s.checkColor()?"aitopia-logo-dark":""} ait-logo ait-p-0.5 " `)??""},null,8,N6)):(o(),r("img",Ct({key:2,alt:"logo"},t.$attrs,{class:t.$attrs.class,src:this.getUri(this.app_details.app_logo??t.Helpers.notUndefined(t.Helpers.Browser().runtime.getManifest(),"icons.128")??"/logo.png")}),null,16,Z6))}const ue=R(q6,[["render",W6]]),G6=rt({name:"ContextWrapper",components:{SvgLogo:Pe,AppLogo:ue},extends:O,data(){return{showPopover:!1,showRecommendation:!1,askText:"",textareaContent:"",selectedText:"",isVisible:!1,resultCustomKey:"",contextSelectedTool:null,contextTextboxTools:null,logo_hover:!1,poperPosition:{top:10,right:10}}},methods:{togglePopover(t=null){this.popupType="writing",this.showPopover=t??!this.showPopover,this.showPopover!=!1&&setTimeout(()=>{this.poperPosition={top:this.contextWrapperSize.height+"px",right:"10px"};let e=document.querySelector(".aitopia-context-popover-content").getBoundingClientRect(),a=Math.max(-1,Math.min(this.contextWrapperSize.height+e.top,window.innerHeight-(this.contextWrapperSize.height+e.top+e.height+10)));a<=0?a=-(e.height+10):a=this.contextWrapperSize.height+10,this.poperPosition={top:a+"px",right:"10px"}},1)},hidePopover(){this.showPopover=!1},replaceSelectedText(){this.contextTextAreaTarget.value=this.askText},onClickSend(){this.contextSelectedTool=this.askText.trim().slice(0,20)+"..."||"Ask AI anything";const t=`Please use this text as your context "${this.textareaContent}". And the question is "${this.askText}"`;this.askToAi(t)},setupTextareaListener(){this.contextTextAreaTarget&&(this.contextTextAreaTarget.removeEventListener("input",this.onTextareaInput),this.contextTextAreaTarget.addEventListener("input",this.onTextareaInput))},onTextareaInput(){var t;this.contextTextAreaTarget&&(this.textareaContent=(t=this.contextTextAreaTarget)==null?void 0:t.value)},toggle(){this.isVisible=!this.isVisible},focusInput(){this.$refs.textInput.focus()},onClickTool(t,e=null,a=null){this.contextSelectedTool=t.name;let l=this.settings.language_detail.name;e&&e.model_prefix&&a&&(l=a[e.model_prefix]),this.askedQuestion.lang==""&&this.settings.language_detail&&typeof this.settings.language_detail.name<"u"&&(this.askedQuestion.lang=l);const n=t.prompt.replace("${lang}",l).replace("${selection}",this.textareaContent),s=f.SHA1(n);this.changeStorage("asked_lang",l,!1),this.showResponsePopup=!0,this.draggableModalToggle("ai-reply-context",!0),this.resultCustomKey=s,this.aiChat(n,this.settings.context_model??this.constants.ai_default_model,"ai_single",s,!0,!0)},askToAi(t){const e=f.SHA1(t);this.showResponsePopup=!0,this.draggableModalToggle("ai-reply-context",!0),this.resultCustomKey=e,this.aiChat(t,this.settings.context_model??this.constants.ai_default_model,"ai_single",e,!0,!0)},contextMenuPositionFixer(t,e=0,a=0){let l=document.querySelector(t);return this.constants.debugMode&&console.log(l,e,a,t),{top:this.contextWrapperSize.height+10+"px",right:"10px"}}},watch:{showContextWrapper:function(t){t||(this.showPopover=!1,this.askText="",this.textareaContent="")},contextTextAreaTarget:function(t,e){t!==e&&(this.setupTextareaListener(),t&&(this.textareaContent=t.value))}},mounted(){this.setupTextareaListener(),this.contextTextboxTools=Object.values(this.ai_prompts).filter(t=>t.mode==="ask")}}),K6={class:"aitopia light",noColor:""},Y6={key:0,class:"aitopia-context-container",style:{position:"absolute",left:"0px",top:"0px","pointer-events":"none","z-index":"2147483645"}},Q6={style:{top:"0px",left:"0px",position:"absolute"}},X6={class:"ait-flex ait-py-2 ait-flex-col ait-h-full ait-w-full ait-justify-start ait-items-start ait-gap-1"},J6={key:0,class:"ait-px-3 ait-text-sm dark:ait-text-neutral-200 ait-max-w-[420px] ait-overflow-x-hidden ait-line-clamp-1"},t8={class:"ait-flex ait-w-full ait-justify-between ait-gap-4 ait-items-center ait-h-full ait-p-2"},e8={class:"ait-flex ait-gap-2"},i8=["placeholder"],a8={key:0,class:"aitopia-writing-btn-wrapper",id:"aitopia-writing-btn",style:{bottom:"14px",right:"14px",width:"16px",height:"16px",position:"absolute"}},s8={key:0,class:"ait-grid ait-grid-cols-2 ait-items-center dark:ait-bg-neutral-800 ait-bg-white ait-rounded-xl ait-gap-1.5 ait-w-18 ait-px-1.5 ait-pr-1 ait-shadow",style:{"margin-top":"-25px","margin-left":"-50px"}},o8={class:"ait-w-full"},n8={role:"button",class:"ait-text-left ait-group ait-text-[13px] ait-whitespace-nowrap ait-pr-4 ait-flex ait-w-full ait-justify-between ait-rounded-md ait-items-center ait-gap-4 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},l8={class:"ait-flex ait-items-center ait-w-full ait-justify-start ait-gap-2"},r8={class:"ait-w-full"},d8={role:"button",class:"ait-text-left ait-group ait-text-[13px] ait-whitespace-nowrap ait-pr-4 ait-flex ait-w-full ait-justify-between ait-rounded-md ait-items-center ait-gap-4 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},c8={class:"ait-flex ait-items-center ait-w-full ait-justify-start ait-gap-2"},u8={class:"ait-w-full"},h8={role:"button",class:"ait-text-left ait-group ait-text-[13px] ait-whitespace-nowrap ait-pr-4 ait-flex ait-w-full ait-justify-between ait-rounded-md ait-items-center ait-gap-4 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},p8={class:"ait-flex ait-items-center ait-w-full ait-justify-start ait-gap-2"},g8={class:"ait-w-full"},f8={class:"ait-relative ait-w-full ait-daisy-dropdown ait-daisy-dropdown-hover ait-daisy-dropdown-right"},m8={class:"ait-flex ait-items-center ait-w-full ait-justify-start ait-gap-2"},_8={class:"ait-text-[var(--ait-link-color)]"},v8={class:"ait-w-5 ait-items-center ait-justify-center"},b8={key:0,class:"aitopia-context-menu",style:{position:"fixed","z-index":"2147483647",top:"15%",left:"50%",width:"220px",transform:"translate(-15%, -50%)"}},w8={class:"ait-flex ait-py-2 ait-flex-col ait-h-full ait-w-full ait-justify-start ait-items-start ait-gap-1"},y8={class:"ait-flex ait-w-full ait-justify-between ait-gap-4 ait-items-center ait-h-full ait-p-2"},x8=["placeholder"];function k8(t,e,a,l,n,s){const u=y("ChooseModel"),c=y("PopoverButton"),p=y("PromptTool"),m=y("PopoverPanel"),h=y("Popover"),v=y("HoverPopover"),g=y("font-awesome-icon"),w=y("AppLogo"),C=y("ContextAIPopup");return o(),E(re,{to:"html"},[i("div",K6,[b(_t,{name:"fade"},{default:D(()=>[this.showContextWrapper?(o(),r("div",Y6,[i("div",Q6,[i("div",{style:Q([{top:this.contextWrapperPosition.top+"px",left:this.contextWrapperPosition.left+"px",width:this.contextWrapperSize.width+"px",height:this.contextWrapperSize.height+"px"},{position:"absolute"}])},[b(_t,{name:"fade"},{default:D(()=>[t.showPopover?(o(),r("div",{key:0,class:$(["aitopia-context-popover-content ait-rounded-lg dark:ait-bg-neutral-800 ait-bg-white",{"ait-h-[44px]":!this.textareaContent}]),style:Q([{position:"absolute",width:"440px","z-index":"2147483647","pointer-events":"all","box-shadow":"0 2px 8px rgba(0, 0, 0, 0.15)"},this.poperPosition])},[i("div",X6,[this.textareaContent?(o(),r("span",J6,d(this.textareaContent),1)):_("",!0),i("div",t8,[b(h,{class:"ait-relative ait-w-full"},{default:D(({open:S})=>[i("div",e8,[b(u,{class:"ait-flex ait-flex-wrap ait-gap-[6px] ait-w-4 ait-h-4 ait-mx-1 ait-cursor-pointer ait-place-self-end ait-self-center",icon:!0,model_setting_key:"context_model",slim_mode:!0}),b(c,{as:"div",class:"ait-w-full"},{default:D(()=>[i("div",{onClick:e[5]||(e[5]=(...A)=>t.focusInput&&t.focusInput(...A)),class:"ait-w-full"},[F(i("input",{ref:"textInput",type:"text","onUpdate:modelValue":e[0]||(e[0]=A=>t.askText=A),class:"ait-p-2 ait-w-full ait-rounded-md ait-bg-transparent ait-border-none ait-outline-none dark:ait-text-white dark:ait-placeholder-neutral-800",placeholder:t.__("Ask AI anything"),onFocus:e[1]||(e[1]=A=>t.showRecommendation=!0),onBlur:e[2]||(e[2]=A=>t.showRecommendation=!1),onKeydown:e[3]||(e[3]=J(()=>{},["stop"])),onKeyup:e[4]||(e[4]=ti((...A)=>t.onClickSend&&t.onClickSend(...A),["enter"]))},null,40,i8),[[tt,t.askText]])])]),_:1})]),b(_t,{"enter-active-class":"ait-transition ait-duration-200 ait-ease-out","enter-from-class":"ait-translate-y-1 ait-opacity-0","enter-to-class":"ait-translate-y-0 ait-opacity-100","leave-active-class":"ait-transition ait-duration-150 ait-ease-in","leave-from-class":"ait-translate-y-0 ait-opacity-100","leave-to-class":"ait-translate-y-1 ait-opacity-0"},{default:D(()=>[t.showRecommendation?(o(),E(m,{key:0,style:{"z-index":"2147483647"},class:"ait-panel-calc ait-absolute dark:ait-bg-neutral-800 ait-bg-neutral-100 ait-left-0 ait-z-10 ait-mt-[4px] ait-max-w-md ait-transform ait-rounded-lg ait-p-1 ait-shadow-lg"},{default:D(()=>[b(p,{prompts:Object.values(this.ai_contextPrompts),onClickTool:t.onClickTool,mode:this.popupType},null,8,["prompts","onClickTool","mode"])]),_:1})):_("",!0)]),_:1})]),_:1}),b(v,{"popover-text":t.__("Send")},{default:D(()=>[i("button",{onClick:e[6]||(e[6]=(...S)=>t.onClickSend&&t.onClickSend(...S)),class:"ait-flex ait-items-center"},e[20]||(e[20]=[i("img",{src:Bt,class:"ait-w-4 ait-h-4 ait-opacity-80 ait-cursor-pointer dark:ait-invert"},null,-1)]))]),_:1},8,["popover-text"])])])],6)):_("",!0)]),_:1}),this.settings.context_writing_input?(o(),r("div",a8,[i("div",{style:{display:"inline-block",width:"12px",height:"12px","border-radius":"16px",cursor:"pointer","pointer-events":"all"},class:$(this.logo_hover==!0?"":"ait-bg-[--ait-tab-menu-active-bg-color]"),onMouseover:e[12]||(e[12]=S=>this.logo_hover=!0),onMouseleave:e[13]||(e[13]=S=>this.logo_hover=!1)},[b(_t,{"enter-active-class":"ait-transition ait-duration-200 ait-ease-out","enter-from-class":"ait-opacity-0","enter-to-class":"ait-opacity-100"},{default:D(()=>[this.logo_hover?(o(),r("div",s8,[b(h,{class:"ait-flex ait-col ait-relative ait-border-r ait-border-b-neutral-600"},{default:D(({open:S})=>[b(c,{class:"ait-items-center ait-gap-2 ait-rounded-xl ait-py-1 ait-px-1 svg_hover"},{default:D(()=>[b(g,{icon:"fa-solid fa-close",class:"ait-w-3 ait-h-3"})]),_:1}),b(_t,{"enter-active-class":"ait-transition ait-duration-200 ait-ease-out","enter-from-class":"ait-translate-y-1 ait-opacity-0","enter-to-class":"ait-translate-y-0 ait-opacity-100","leave-active-class":"ait-transition ait-duration-150 ait-ease-in","leave-from-class":"ait-translate-y-0 ait-opacity-100","leave-to-class":"ait-translate-y-1 ait-opacity-0"},{default:D(()=>[b(m,{class:"ait-panel-calc ait-absolute dark:ait-bg-neutral-800 ait-bg-white ait-left-0 ait-top-6 ait-z-10 ait-mt-[1px] ait-border-[1px] dark:ait-border-neutral-700 ait-border-neutral-50 ait-max-w-md ait-transform ait-rounded-lg ait-p-1 ait-shadow-lg"},{default:D(()=>[i("div",o8,[i("div",{onClick:e[7]||(e[7]=A=>{this.settings.context_writing_input=!1,this.togglePopover(!1)}),class:"ait-relative ait-w-full ait-daisy-dropdown ait-daisy-dropdown-hover ait-daisy-dropdown-right"},[i("div",n8,[i("div",l8,d(t.__("Hide until next visit")),1)])])]),i("div",r8,[i("div",{onClick:e[8]||(e[8]=A=>{this.settings.context_writing_input=!1,this.disabledForThisSite("writing",!1),this.togglePopover(!1)}),class:"ait-relative ait-w-full ait-daisy-dropdown ait-daisy-dropdown-hover ait-daisy-dropdown-right"},[i("div",d8,[i("div",c8,d(t.__("Disable for this site")),1)])])]),i("div",u8,[i("div",{onClick:e[9]||(e[9]=A=>{this.settings.context_writing_input=!1,this.changeStorage("settings.context_writing_input",!1,!0),this.togglePopover(!1)}),class:"ait-relative ait-w-full ait-daisy-dropdown ait-daisy-dropdown-hover ait-daisy-dropdown-right"},[i("div",h8,[i("div",p8,d(t.__("Disable globally")),1)])])]),e[21]||(e[21]=i("hr",null,null,-1)),i("div",g8,[i("div",f8,[i("div",{role:"button",onClick:e[10]||(e[10]=A=>t.Helpers.sendMessage("openPage",{url:`${this.constants.extension_main_dir}/options.html?mode=context`})),class:"ait-text-left ait-group ait-text-[13px] ait-whitespace-nowrap ait-pr-4 ait-flex ait-w-full ait-justify-between ait-rounded-md ait-items-center ait-gap-4 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},[i("div",m8,[U(d(t.__("You can re-enable in"))+" ",1),i("span",_8,d(t.__("Settings")),1)])])])])]),_:1,__:[21]})]),_:1})]),_:1}),i("div",{class:"ait-flex ait-col",onClick:e[11]||(e[11]=(...S)=>t.togglePopover&&t.togglePopover(...S))},[i("div",v8,[b(w,{name:"logo",className:"ait-w-5 ait-flex-initial"})])])])):_("",!0)]),_:1})],34)])):_("",!0)],4)])])):_("",!0)]),_:1}),b(_t,{name:"fade"},{default:D(()=>[this.showContextMenu?(o(),r("div",b8,[b(_t,{name:"fade"},{default:D(()=>[i("div",{class:"aitopia-context-popover-content ait-h-[44px] ait-rounded-lg dark:ait-bg-neutral-800 ait-bg-white",style:Q([{position:"absolute",width:"440px","z-index":"2147483647","pointer-events":"all","box-shadow":"0 2px 8px rgba(0, 0, 0, 0.15)"},{top:this.contextWrapperSize.height+10+"px",right:"10px"}])},[i("div",w8,[i("div",y8,[b(h,{class:"ait-relative ait-w-full"},{default:D(({open:S})=>[b(c,{as:"div",class:"ait-w-full"},{default:D(()=>[i("div",{onClick:e[18]||(e[18]=(...A)=>t.focusInput&&t.focusInput(...A)),class:"ait-flex ait-w-full"},[b(u,{class:"ait-flex ait-flex-wrap ait-gap-[6px] ait-w-4 ait-h-4 ait-mx-1 ait-cursor-pointer ait-place-self-end ait-self-center",icon:!0,model_setting_key:"context_model",slim_mode:!0}),F(i("input",{ref:"textInput",type:"text","onUpdate:modelValue":e[14]||(e[14]=A=>t.askText=A),class:"ait-p-2 ait-w-full ait-rounded-md ait-bg-transparent ait-border-none ait-outline-none dark:ait-text-white dark:ait-placeholder-neutral-800",placeholder:t.__("Ask AI anything"),onBlur:e[15]||(e[15]=A=>t.showRecommendation=!1),onKeydown:e[16]||(e[16]=J(()=>{},["stop"])),onKeyup:e[17]||(e[17]=ti((...A)=>t.onClickSend&&t.onClickSend(...A),["enter"]))},null,40,x8),[[tt,t.askText]])])]),_:1}),b(_t,{"enter-active-class":"ait-transition ait-duration-200 ait-ease-out","enter-from-class":"ait-translate-y-1 ait-opacity-0","enter-to-class":"ait-translate-y-0 ait-opacity-100","leave-active-class":"ait-transition ait-duration-150 ait-ease-in","leave-from-class":"ait-translate-y-0 ait-opacity-100","leave-to-class":"ait-translate-y-1 ait-opacity-0"},{default:D(()=>[t.showRecommendation?(o(),E(m,{key:0,style:{"z-index":"2147483647"},class:"ait-panel-calc ait-absolute dark:ait-bg-neutral-800 ait-bg-neutral-100 ait-left-0 ait-z-10 ait-mt-[4px] ait-max-w-md ait-transform ait-rounded-lg ait-p-1 ait-shadow-lg"},{default:D(()=>[b(p,{prompts:Object.values(this.ai_contextPrompts),onClickTool:t.onClickTool,mode:this.popupType},null,8,["prompts","onClickTool","mode"])]),_:1})):_("",!0)]),_:1})]),_:1}),b(v,{"popover-text":t.__("Send")},{default:D(()=>[i("button",{onClick:e[19]||(e[19]=(...S)=>t.onClickSend&&t.onClickSend(...S)),class:"ait-flex ait-items-center"},e[22]||(e[22]=[i("img",{src:Bt,class:"ait-w-4 ait-h-4 ait-opacity-80 ait-cursor-pointer dark:ait-invert"},null,-1)]))]),_:1},8,["popover-text"])])])],4)]),_:1})])):_("",!0)]),_:1}),b(C)])])}const C8=R(G6,[["render",k8],["__scopeId","data-v-135dc5aa"]]),$8=rt({name:"ContextAIPopup",extends:O,props:["context_type"],data(){return{popupPosition:{top:0,left:0},showPopup:!1,popupType:null,contextSelectedText:"",resultCustomKey:"",contextSelectedTool:null,pinnedContextReadTools:[],pinnedContextWriteTools:[],currentPinnedContextTools:[],lastAskedQuestion:null}},watch:{contextWrapperPosition:{handler:function(t){this.popupPosition={top:t.top,left:t.left}},deep:!0},aiReaderShowPopup:function(t){this.showPopup=t,this.popupType="reading"},aiReaderPopupPosition:{handler:function(t){this.popupPosition={top:t.top,left:t.left}},deep:!0},aiWriterShowPopup:function(t){this.showPopup=t,this.popupType="writing"},aiWriterPopupPosition:{handler:function(t){this.popupPosition={top:t.top,left:t.left}},deep:!0},aiReaderSelectedText:function(t){this.contextSelectedText=t},aiWriterSelectedTarget:function(t){if(t===null){this.contextSelectedText="";return}typeof t.value>"u"||typeof t.value.substring>"u"||(this.contextSelectedText=t.value.substring(t.selectionStart,t.selectionEnd))},ai_pinnedContextPrompts:{handler:function(t,e){t===null||e===null||t!==e&&this.getPinnedContextTools()},deep:!0},popupType:function(t){this.currentPinnedContextTools=this.popupType=="writing"?this.pinnedContextWriteTools:this.pinnedContextReadTools}},methods:{hidePopup(){this.showPopup=!1,this.hideAllPopups()},onClickTool(t,e=null,a=null){this.hidePopup(),this.contextSelectedTool=t;let l=this.settings.language_name??this.askedQuestion.lang;if(e==null&&typeof t.settings<"u"&&t.settings!==null&&t.settings[0]!==null&&(e=t.settings[0]),(this.askedQuestion.lang==""||this.askedQuestion.lang==null)&&(l=this.settings.language_detail.name),e&&e.model_prefix&&a)l=a[e.model_prefix];else if(e&&Object.keys(e).length>0){let u=null;Object.keys(e).forEach((c,p)=>{typeof e[c]=="object"&&Object.keys(e[c]).forEach(m=>{m=="lang"&&(u=this.prompt_settings[`${m}-_-${t.id}_${p}`]??null)})}),u!==null&&(l=u)}this.contextSelectedText==null&&window.getSelection().toString().length>1&&(this.contextSelectedText=window.getSelection().toString()),this.changeStorage("asked_lang",l,!1);const n=t.prompt.replace("${lang}",l).replace("${selection}",this.contextSelectedText),s=f.SHA1(n);this.showResponsePopup=!0,this.draggableModalToggle("ai-reply-context",!0),this.resultCustomKey=s,this.aiChat(n,this.settings.context_model??this.constants.ai_default_model,"ai_single",s,!0,!1),this.lastAskedQuestion=n,this.askedQuestion={text:this.contextSelectedText,lang:l}},askAgain(t=null,e=null,a=null,l=null){if(t==null&&(t=this.constants.ai_default_model),e&&a&&l){this.changeStorage("asked_lang",l,!1);const s=e.prompt.replace("${lang}",l).replace("${selection}",this.contextSelectedText);this.lastAskedQuestion=s}const n=f.SHA1(this.lastAskedQuestion);this.showResponsePopup=!0,this.draggableModalToggle("ai-reply-context",!0),this.resultCustomKey=n,this.hidePopup(),this.aiChat(this.lastAskedQuestion,t,"ai_single",n,!0,!1)},checkToolPinned(t,e){if(e==="reading")return this.ai_pinnedContextPrompts.reading.includes(t.id);if(e==="writing")return this.ai_pinnedContextPrompts.writing.includes(t.id)},getPinnedContextTools(){const{reading:t,writing:e}=this.ai_pinnedContextPrompts;typeof t=="object"&&(this.ai_pinnedContextPrompts.reading=Object.values(t)),typeof e=="object"&&(this.ai_pinnedContextPrompts.writing=Object.values(e)),this.pinnedContextReadTools=Object.values(this.ai_contextPrompts).filter(a=>this.ai_pinnedContextPrompts.reading.includes(a.id)),this.pinnedContextWriteTools=Object.values(this.ai_contextPrompts).filter(a=>this.ai_pinnedContextPrompts.writing.includes(a.id)),Object.values(this.ai_contextPrompts).forEach(a=>{if(Object.keys(f.notUndefined(a,"options")).length>0){let l=Object.values(a.options).filter(s=>this.ai_pinnedContextPrompts.writing.includes(s.id)),n=Object.values(a.options).filter(s=>this.ai_pinnedContextPrompts.reading.includes(s.id));l&&this.pinnedContextWriteTools.push(...l),n&&this.pinnedContextReadTools.push(...n)}}),this.currentPinnedContextTools=this.popupType=="writing"?this.pinnedContextWriteTools:this.pinnedContextReadTools},popUpSettingChange(t=!1){this.popupType=="reading"?t?(this.changeStorage("settings.context_reading",!1,!0),this.hidePopup()):(this.settings.context_reading=!1,this.hidePopup()):t?(this.changeStorage("settings.context_writing",!1,!0),this.hidePopup()):(this.settings.context_writing=!1,this.hidePopup())}},mounted(){this.askedQuestion.lang==""&&this.settings.language_detail&&typeof this.settings.language_detail.name<"u"&&(this.askedQuestion.lang=this.settings.language_detail.name)}}),L8={class:"ait-flex ait-h-full ait-justify-start ait-items-center ait-px-1 ait-select-none"},S8=["onClick"],M8=["innerHTML"],T8={key:1,class:"ait-text-black ait-line-clamp-1 dark:ait-text-white ait-text-[13px]"},H8={class:"ait-w-full"},A8={role:"button",class:"ait-text-left ait-group ait-text-[13px] ait-whitespace-nowrap ait-pr-4 ait-flex ait-w-full ait-justify-between ait-rounded-md ait-items-center ait-gap-4 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},P8={class:"ait-flex ait-items-center ait-w-full ait-justify-start ait-gap-2"},I8={class:"ait-w-full"},U8={role:"button",class:"ait-text-left ait-group ait-text-[13px] ait-whitespace-nowrap ait-pr-4 ait-flex ait-w-full ait-justify-between ait-rounded-md ait-items-center ait-gap-4 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},E8={class:"ait-flex ait-items-center ait-w-full ait-justify-start ait-gap-2"},j8={class:"ait-w-full"},R8={role:"button",class:"ait-text-left ait-group ait-text-[13px] ait-whitespace-nowrap ait-pr-4 ait-flex ait-w-full ait-justify-between ait-rounded-md ait-items-center ait-gap-4 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},B8={class:"ait-flex ait-items-center ait-w-full ait-justify-start ait-gap-2"},D8={class:"ait-w-full"},O8={class:"ait-relative ait-w-full ait-daisy-dropdown ait-daisy-dropdown-hover ait-daisy-dropdown-right"},z8={class:"ait-flex ait-items-center ait-w-full ait-justify-start ait-gap-2"},V8={class:"ait-text-[var(--ait-link-color)]"};function F8(t,e,a,l,n,s){const u=y("ChooseModel"),c=y("font-awesome-icon"),p=y("HoverPopover"),m=y("PopoverButton"),h=y("PromptTool"),v=y("PopoverPanel"),g=y("Popover"),w=y("ContextAIResponsePopup");return o(),r(L,null,[b(_t,{name:"fade"},{default:D(()=>[this.showPopup&&(this.settings.context_reading&&this.popupType=="reading"||this.settings.context_writing&&this.popupType=="writing")?(o(),r("div",{key:0,class:"aitopia-context-popup-container ait-rounded-lg ait-drop-shadow-xl dark:ait-bg-neutral-800 ait-bg-white",style:Q(this.context_type=="static"?{}:{position:"absolute","z-index":"2147483647",top:this.popupPosition.top+"px",left:this.popupPosition.left+"px"})},[i("div",L8,[b(u,{class:"ait-flex ait-flex-wrap ait-gap-[6px] ait-w-4 ait-h-4 ait-mx-1 ait-cursor-pointer ait-place-self-end ait-self-center",icon:!0,model_setting_key:"context_model",slim_mode:!0}),(o(!0),r(L,null,B(this.currentPinnedContextTools,C=>(o(),E(p,{key:C.id,"popover-text":t.__(C.name),disable:this.currentPinnedContextTools.length<3},{default:D(()=>[i("button",{onClick:S=>t.onClickTool(C),class:"ait-flex ait-rounded-none ait-items-center ait-gap-2 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},[C.icon?(o(),r(L,{key:0},[C.icon.indexOf("fa-")!==-1?(o(),E(c,{key:0,icon:C.icon,class:"ait-w-[14px] ait-h-[14px]"},null,8,["icon"])):(o(),r("span",{key:1,innerHTML:C.icon},null,8,M8))],64)):_("",!0),this.currentPinnedContextTools.length<3?(o(),r("span",T8,d(t.__(C.name).length>20?t.__(C.name).substring(0,12)+"...":t.__(C.name)),1)):_("",!0)],8,S8)]),_:2},1032,["popover-text","disable"]))),128)),b(g,{class:"ait-relative"},{default:D(({open:C})=>[b(m,{class:"group ait-flex ait-rounded-none ait-items-center ait-gap-2 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},{default:D(()=>[b(c,{icon:"fa-solid fa-chevron-down",class:"ait-w-[14px] ait-h-[14px]"})]),_:1}),b(_t,{"enter-active-class":"ait-transition ait-duration-200 ait-ease-out","enter-from-class":"ait-translate-y-1 ait-opacity-0","enter-to-class":"ait-translate-y-0 ait-opacity-100","leave-active-class":"ait-transition ait-duration-150 ait-ease-in","leave-from-class":"ait-translate-y-0 ait-opacity-100","leave-to-class":"ait-translate-y-1 ait-opacity-0"},{default:D(()=>[b(v,{class:"ait-panel-calc ait-absolute dark:ait-bg-neutral-800 ait-bg-white ait-left-0 ait-z-10 ait-mt-[1px] ait-border-[1px] dark:ait-border-neutral-700 ait-border-neutral-50 ait-max-w-md ait-transform ait-rounded-lg ait-p-1 ait-shadow-lg"},{default:D(()=>[b(h,{prompts:Object.values(this.ai_contextPrompts),onClickTool:t.onClickTool,mode:this.popupType},null,8,["prompts","onClickTool","mode"])]),_:1})]),_:1})]),_:1}),b(g,{class:"ait-relative"},{default:D(({open:C})=>[b(m,{class:"group ait-flex ait-rounded-none ait-items-center ait-gap-2 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},{default:D(()=>[b(c,{icon:"fa-solid fa-close",class:"ait-w-4 ait-h-4"})]),_:1}),b(_t,{"enter-active-class":"ait-transition ait-duration-200 ait-ease-out","enter-from-class":"ait-translate-y-1 ait-opacity-0","enter-to-class":"ait-translate-y-0 ait-opacity-100","leave-active-class":"ait-transition ait-duration-150 ait-ease-in","leave-from-class":"ait-translate-y-0 ait-opacity-100","leave-to-class":"ait-translate-y-1 ait-opacity-0"},{default:D(()=>[b(v,{class:"ait-panel-calc ait-absolute dark:ait-bg-neutral-800 ait-bg-white ait-left-0 ait-z-10 ait-mt-[1px] ait-border-[1px] dark:ait-border-neutral-700 ait-border-neutral-50 ait-max-w-md ait-transform ait-rounded-lg ait-p-1 ait-shadow-lg"},{default:D(()=>[i("div",H8,[i("div",{onClick:e[0]||(e[0]=S=>t.popUpSettingChange(!1)),class:"ait-relative ait-w-full ait-daisy-dropdown ait-daisy-dropdown-hover ait-daisy-dropdown-right"},[i("div",A8,[i("div",P8,d(t.__("Hide until next visit")),1)])])]),i("div",I8,[i("div",{onClick:e[1]||(e[1]=S=>{this.disabledForThisSite("reading",!1),t.popUpSettingChange(!1)}),class:"ait-relative ait-w-full ait-daisy-dropdown ait-daisy-dropdown-hover ait-daisy-dropdown-right"},[i("div",U8,[i("div",E8,d(t.__("Disable for this site")),1)])])]),i("div",j8,[i("div",{onClick:e[2]||(e[2]=S=>t.popUpSettingChange(!0)),class:"ait-relative ait-w-full ait-daisy-dropdown ait-daisy-dropdown-hover ait-daisy-dropdown-right"},[i("div",R8,[i("div",B8,d(t.__("Disable globally")),1)])])]),e[4]||(e[4]=i("hr",null,null,-1)),i("div",D8,[i("div",O8,[i("div",{role:"button",onClick:e[3]||(e[3]=S=>t.Helpers.sendMessage("openPage",{url:`${this.constants.extension_main_dir}/options.html?mode=context`})),class:"ait-text-left ait-group ait-text-[13px] ait-whitespace-nowrap ait-pr-4 ait-flex ait-w-full ait-justify-between ait-rounded-md ait-items-center ait-gap-4 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},[i("div",z8,[U(d(t.__("You can re-enable in"))+" ",1),i("span",V8,d(t.__("Settings")),1)])])])])]),_:1,__:[4]})]),_:1})]),_:1})])],4)):_("",!0)]),_:1}),b(w,{custom_key:this.resultCustomKey??null,askAgain:this.askAgain},null,8,["custom_key","askAgain"])],64)}const q8=R($8,[["render",F8],["__scopeId","data-v-6ba7f5da"]]),N8=rt({name:"ContextAIResponsePopup",extends:O,props:{custom_key:String,askAgain:Function},data(){return{showResponsePopup:!1,fixedResultPopupPosition:{top:0,left:0},isDraggingResultPopup:!1,dragStartX:0,dragStartY:0,askedQuestionShowMore:!1}},methods:{continueOnChat(){X.ai_single[this.custom_key]&&(this.newChat(X.ai_single[this.custom_key]),this.sidebarToggle(!0),this.changeStorage("settings.switchbar","chat",!1))},toggleAskedQuestionShowMore(){this.askedQuestionShowMore=!this.askedQuestionShowMore},handleKeyup(t){t.key==="j"?this.continueOnChat():t.key==="Enter"&&f.copyClipboard(f.notUndefined(this.ai_single[this.custom_key][1],"item").replace(/<br\/>/g,`
`))}}}),Z8={class:"ait-text-base ait-font-bold ait-select-none ait-h-full ait-w-full"},W8=["onChange"],G8=["selected","value","innerHTML"],K8={class:"ait-px-3 ait-w-full ait-max-h-[50px] ait-opacity-80 ait-overflow-y-auto ait-py-1 ait-flex ait-flex-row ait-justify-between ait-gap-2"},Y8=["data-key"],Q8=["aria-details"],X8={class:"ait-p-3 ait-w-full ait-overflow-y-auto ait-h-[135px]"},J8=["innerHTML"],tm={key:0,class:"ait-mt-2 ait-flex ait-items-center ait-float-left ait-gap-2 dark:ait-divide-neutral-700 ait-divide-x-[1px] ait-divide-solid ait-divide-neutral-200"},em={class:"ait-text-xs ait-text-neutral-500 dark:ait-text-neutral-300"},im={key:0,class:"ait-pl-2"},am={key:0,id:"ait-continue-chat-ai_single",class:"ait-continue-chat ait-flex ait-items-center ait-justify-center ait-w-full"},sm=["data-title"],om={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-justify-center"},nm={key:1,class:"ait-p-3 ait-flex ait-flex-row ait-justify-between ait-items-center"},lm=["onclick"],rm={class:"ait-flex ait-gap-2 ait-justify-start ait-items-center"},dm=["onClick"],cm={key:1,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200"},um={class:"ait-w-full ait-py-4 ait-flex"},hm={key:2,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 [&_*]:ait-text-red-800 dark:[&_*]:ait-text-red-200"},pm={class:"ait-py-4 [&_*]:ait-text-center"},gm={id:"ait-stop-chat-ai_single",class:"ait-stop-chat ait-hide ait-self-center"},fm={class:"ait-flex ait-items-center ait-text-white ait-px-5 ait-py-2.5 ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 ait-font-medium ait-text-sm ait-rounded-lg ait-transition-all ait-duration-200 ait-cursor-pointer"},mm={class:"ait-text-white"};function _m(t,e,a,l,n,s){const u=y("font-awesome-icon"),c=y("DraggableModal");return o(),E(c,{status:!1,id:"ai-reply-context",start_width:"500",start_height:"215",sticky_element:".aitopia-context-popover-content",sticky_position:"x",no_save:"true"},{title:D(()=>{var p;return[i("span",Z8,d(t.__((p=this.contextSelectedTool)==null?void 0:p.name)??t.__("AI Response")),1),t.Helpers.notUndefined(this.contextSelectedTool,"settings")?(o(!0),r(L,{key:0},B(this.contextSelectedTool.settings,(m,h)=>(o(),r("div",{key:h},[(o(!0),r(L,null,B(m,v=>(o(),r(L,null,[(o(!0),r(L,null,B(v,(g,w,C)=>(o(),r(L,null,[t.Helpers.notUndefined(this,t.Helpers.notUndefined(g,"model"))?F((o(),r("select",{key:0,class:"ait-block ait-px-4 ait-py-3 ait-text-xs ait-text-neutral-900 ait-border ait-border-neutral-400 ait-rounded-lg ait-bg-white focus:ait-ring-green-500 focus:ait-border-green-500 dark:ait-bg-neutral-700 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:ait-focus:ring-green-500 dark:ait-focus:border-green-500 ait-min-w-[100px] ait-w-auto",onChange:S=>this.askAgain(this.settings.model,this.contextSelectedTool,g,S.target.value),"onUpdate:modelValue":e[0]||(e[0]=S=>this.askedQuestion.lang=S)},[(o(!0),r(L,null,B(t.Helpers.notUndefined(this,t.Helpers.notUndefined(g,"model")),(S,A)=>(o(),r("option",{selected:this.askedQuestion.lang==(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element_before"))??null?(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element_before"))??null)+" ":"")+(t.Helpers.notUndefined(g,"no_translate")?t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element")):t.__(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element")))),value:t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_prefix")),innerHTML:(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element_before"))??null?(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element_before"))??null)+" ":"")+(t.Helpers.notUndefined(g,"no_translate")?t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element")):t.__(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element"))))},null,8,G8))),256))],40,W8)),[[oe,this.askedQuestion.lang]]):_("",!0)],64))),256))],64))),256))]))),128)):_("",!0)]}),default:D(()=>[i("div",K8,[U(d(this.askedQuestionShowMore?this.askedQuestion.text:(t.Helpers.notUndefined(this.askedQuestion,"text")??"").length>45?(t.Helpers.notUndefined(this.askedQuestion,"text")??"").substring(0,45)+"...":t.Helpers.notUndefined(this.askedQuestion,"text")??"")+" ",1),(t.Helpers.notUndefined(this.askedQuestion,"text")??"").length>45?(o(),r("span",{key:0,onClick:e[1]||(e[1]=(...p)=>t.toggleAskedQuestionShowMore&&t.toggleAskedQuestionShowMore(...p)),class:"ait-cursor-pointer ait-whitespace-nowrap ait-text-[var(--ait-link-color)] ait-text-xs"},d(t.__(this.askedQuestionShowMore?"Show less":"Show more")),1)):_("",!0)]),t.Helpers.notUndefined(this==null?void 0:this.ai_single,t.custom_key)?(o(),r("div",{key:0,"data-key":t.custom_key,class:"ait-w-full"},[(o(!0),r(L,null,B(Object.values(this.ai_single[t.custom_key]),(p,m)=>(o(),r("div",{"aria-details":`chat-key-${m}`,key:m},[p?(o(),r(L,{key:0},[p.role=="system"||p.role=="assistant"?(o(),r(L,{key:0},[i("div",X8,[i("div",{class:$(["ait-w-full",`ai_result ${p.loading?"ai_loading":""}`]),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(p.item)).replace(/\n/g,"<br/>")},null,10,J8),p.loading?_("",!0):(o(),r("div",tm,[i("span",em,d(t.__("By"))+" "+d(p.model),1),p.model==this.constants.ai_default_model?(o(),r("div",im,[i("button",{onClick:e[2]||(e[2]=h=>this.askAgain("GPT-4o")),type:"button",class:"ait-cursor-pointer ait-w-full ait-font-semibold ait-text-[var(--ait-link-color)] ait-text-xs ait-py-1 ait-px-2 ait-rounded-full ait-flex ait-items-center ait-gap-1 ait-justify-center ait-bg-transparent hover:ait-bg-neutral-200 dark:hover:ait-bg-neutral-700 ait-transition-all"},d(t.__("Ask GPT-4o")),1)])):_("",!0)]))]),t.Helpers.notUndefined(p,"finish_reason")=="length"?(o(),r("div",am,[i("button",{"data-title":t.__("Continue"),class:"ait-text-white hover:ait-opacity-90 ait-font-small ait-text-md ait-px-3 ait-py-1.5 ait-my-2 ait-rounded-md dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-items-center ait-justify-center"},[i("div",om,[b(u,{icon:"fa-solid fa-play",class:"ait-h-4 ait-w-4"}),U(" "+d(t.__("Continue generating")),1)])],8,sm)])):_("",!0),p.loading?_("",!0):(o(),r("div",nm,[i("button",{onclick:t.continueOnChat,role:"button",class:"ait-gap-1 ait-flex ait-items-center ait-justify-center ait-bg-neutral-100 ait-text-[var(--ait-tab-menu-active-bg-color)] dark:ait-bg-neutral-700 hover:ait-opacity-90 ait-rounded-lg focus:ait-outline-none ait-text-sm ait-py-1 ait-whitespace-nowrap ait-px-2 ait-text-center"},[U(d(t.__("Continue in chat"))+" ",1),e[4]||(e[4]=i("span",{class:"ait-text-xs"},"[J]",-1))],8,lm),i("div",rm,[i("button",{type:"button",class:"ait-gap-1 ait-flex ait-items-center ait-justify-center ait-bg-neutral-100 ait-text-neutral-700 dark:ait-text-neutral-100 dark:ait-bg-neutral-700 hover:ait-opacity-90 ait-rounded-lg focus:ait-outline-none ait-text-sm ait-py-1 ait-whitespace-nowrap ait-px-2 ait-text-center",onClick:h=>this.Helpers.copyClipboard(p.item.replace(/<br\/>/g,`
`))},[U(d(t.__("Copy"))+" ",1),e[5]||(e[5]=i("span",{class:"ait-text-xs"},"[Enter]",-1))],8,dm)])]))],64)):p.role=="limit"?(o(),r("div",cm,[i("div",um,[i("div",null,d(t.__("Your usage limit has been reached. Please upgrade your plan to continue using.")),1),i("button",{type:"button",onClick:e[3]||(e[3]=h=>this.clickOpenPage(this.constants.extension_pricing)),class:"ait-mt-3 ait-text-white ait-bg-green-700 hover:ait-opacity-90 focus:ait-outline-none focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-full ait-text-sm ait-px-5 ait-py-1 ait-text-center ait-ml-5 ait-mr-2 dark:ait-bg-green-600 dark:hover:ait-bg-green-700 dark:focus:ait-ring-green-800 aitopia-pricing"},d(t.__("Upgrade")),1)])])):p.role=="error"?(o(),r("div",hm,[i("div",pm,d(p.item),1)])):_("",!0)],64)):_("",!0)],8,Q8))),128)),i("div",gm,[i("button",fm,[b(u,{icon:"fa-solid fa-stop",class:"ait-w-4 ait-h-4 ait-mr-3"}),i("span",mm,d(t.__("Stop generating")),1)])])],8,Y8)):_("",!0)]),_:1})}const vm=R(N8,[["render",_m],["__scopeId","data-v-0f9edd6d"]]),bm=rt({name:"PromptTool",extends:O,data(){return{run_mounted:!1}},props:{onClickTool:Function,mode:String,prompts:Object,type:String},methods:{checkToolPinned(t,e){if(e==="reading")return this.ai_pinnedContextPrompts.reading.includes(t.id);if(e==="writing")return this.ai_pinnedContextPrompts.writing.includes(t.id)}},mounted(){this.run_mounted!=!0&&(this.popperPanelCalibration(30),this.run_mounted=!0)}}),wm={class:"ait-relative ait-w-full ait-daisy-dropdown ait-daisy-dropdown-hover ait-daisy-dropdown-right"},ym=["onClick"],xm={class:"ait-flex ait-items-center ait-w-full ait-justify-start ait-gap-2"},km=["innerHTML"],Cm={key:0,class:"ait-flex ait-items-end ait-text-[11px] ait-text-neutral-400 dark:ait-text-neutral-700"},$m={class:"ait-flex ait-items-center ait-justify-end ait-gap-2"},Lm={key:1,class:"ait-w-[14px] ait-h-[14px]"},Sm={key:0,class:"ait-daisy-dropdown-content ait-p-1 ait-border-[1px] dark:ait-border-neutral-600 ait-border-neutral-200 dark:ait-bg-neutral-800 ait-bg-white ait-rounded-lg ait-min-w-[200px] ait-absolute ait-z-[100] ait-daisy-menu ait-shadow-lg ait-pl-1 ait-dropdown-right"},Mm=["onClick","value","innerHTML"];function Tm(t,e,a,l,n,s){const u=y("font-awesome-icon"),c=y("svg-logo"),p=y("PromptTool",!0);return o(),r("div",{class:$(t.type==="options"?"ait-daisy-dropdown-content ait-p-1 ait-border-[1px] dark:ait-border-neutral-600 ait-border-neutral-200 dark:ait-bg-neutral-800 ait-bg-white ait-rounded-lg ait-min-w-[200px] ait-absolute ait-z-[100] ait-daisy-menu ait-shadow-lg ait-pl-1 ait-dropdown-right":"")},[(o(!0),r(L,null,B(t.prompts.filter(m=>m.mode.includes(t.mode)),(m,h,v)=>(o(),r("div",{key:m.name,class:"ait-w-full"},[i("div",wm,[i("div",{role:"button",onClick:g=>t.onClickTool(m),class:"ait-text-left ait-group ait-text-[13px] ait-whitespace-nowrap ait-pr-4 ait-flex ait-w-full ait-justify-between ait-rounded-md ait-items-center ait-gap-4 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},[i("div",xm,[t.Helpers.notUndefined(m,"icon")?(o(),r(L,{key:0},[t.Helpers.notUndefined(m,"icon").indexOf("fa-")!==-1?(o(),E(u,{key:0,icon:t.Helpers.notUndefined(m,"icon")},null,8,["icon"])):(o(),r("span",{key:1,innerHTML:t.Helpers.notUndefined(m,"icon")},null,8,km))],64)):_("",!0),U(" "+d(t.__(m.name)),1)]),t.Helpers.notUndefined(m,"settings")!==null?(o(),r("div",Cm,[(o(!0),r(L,null,B(Object.keys(t.Helpers.notUndefined(m,"settings.0")??{}),g=>(o(),r(L,null,[(o(!0),r(L,null,B(Object.keys(t.Helpers.notUndefined(m,`settings.0.${g}`)??{}),(w,C,S)=>(o(),r(L,null,[U(d(t.Helpers.notUndefined(this.prompt_settings,`${w}-_-${m.id}_${g}`)),1)],64))),256))],64))),256))])):_("",!0),i("div",$m,[b(c,{role:"button",onClick:J(g=>this.togglePromptToPinnedPrompts(m.id,t.mode),["stop"]),className:"ait-w-[14px] ait-h-[14px]",class:$({"ait-opacity-0 group-hover:ait-opacity-100":!this.checkToolPinned(m,t.mode),"ait-opacity-100":this.checkToolPinned(m,t.mode)}),name:"pin_icon"},null,8,["onClick","class"]),t.Helpers.notUndefined(m,"settings")||Object.keys(t.Helpers.notUndefined(m,"options")??{}).length>0?(o(),E(u,{key:0,icon:"fa-solid fa-chevron-right",class:"ait-w-[14px] ait-h-[14px]"})):(o(),r("div",Lm))])],8,ym),t.Helpers.notUndefined(m,"settings")?(o(),r("div",Sm,[(o(!0),r(L,null,B(m.settings,(g,w)=>(o(),r("ul",{key:w,class:"ait-flex ait-max-h-[300px] ait-overflow-y-scroll ait-flex-col ait-text-sm ait-w-full ait-justify-start ait-rounded-none ait-items-start"},[(o(!0),r(L,null,B(g,C=>(o(),r(L,null,[(o(!0),r(L,null,B(C,(S,A,x)=>(o(),r(L,null,[t.Helpers.notUndefined(this,t.Helpers.notUndefined(S,"model"))?(o(!0),r(L,{key:0},B(t.Helpers.notUndefined(this,t.Helpers.notUndefined(S,"model")),(I,Y,ot)=>(o(),r("li",{class:"ait-text-left ait-text-sm ait-whitespace-nowrap ait-m-0 ait-pr-2 ait-w-full ait-rounded-md dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50",onClick:K=>{t.onClickTool(m,S,I),this.prompt_settings[`${A}-_-${m.id}_${w}`]=t.Helpers.notUndefined(I,t.Helpers.notUndefined(S,"model_prefix")),this.changeStorage(`prompt_settings.${A}-_-${m.id}_${w}`,this.prompt_settings[`${A}-_-${m.id}_${w}`],!1)},value:t.Helpers.notUndefined(I,t.Helpers.notUndefined(S,"model_prefix")),innerHTML:(t.Helpers.notUndefined(I,t.Helpers.notUndefined(S,"model_element_before"))??null?(t.Helpers.notUndefined(I,t.Helpers.notUndefined(S,"model_element_before"))??null)+" ":"")+(t.Helpers.notUndefined(S,"no_translate")?t.Helpers.notUndefined(I,t.Helpers.notUndefined(S,"model_element")):t.__(t.Helpers.notUndefined(I,t.Helpers.notUndefined(S,"model_element"))))},null,8,Mm))),256)):_("",!0)],64))),256))],64))),256))]))),128))])):_("",!0),Object.keys(t.Helpers.notUndefined(m,"options")??{}).length>0?(o(),E(p,{key:1,prompts:Object.values(m.options),onClickTool:t.onClickTool,mode:this.popupType,type:"options"},null,8,["prompts","onClickTool","mode"])):_("",!0)])]))),128))],2)}const Hm=R(bm,[["render",Tm]]),Am={reply_button_container:null,reply_edit_container:null,reply_main_container:null,reply_insert_container:null,reply_insert_text:null,first_show:!1,run:!1,process:!1,reply_prompt_text:null,add_click_event:!1,reply_text:null,last_data:null,dot_position:null,keys:{},build(t){if(this.reply_main_container=document.querySelector("body"),!this.run){if(this.run=!0,V.ai_reply[window.location.hostname]){window.addEventListener("hashchange",l=>(this.first_show=!1,this.last_data=null,this.reply_insert_text=t.EmailReply.reply_insert_text=null,t.draggableModalToggle("ai-reply-popup",!1),t.draggableModalToggle("ai-reply-voice-settings",!1),this.getData(t,l)));const e=new MutationObserver((l,n)=>this.observerCheck(l,n,t)),a=document.querySelector("body");return e.observe(a,{attributes:!1,childList:!0,subtree:!1}),this.getData(t)}return null}},observerCheck(t,e,a){let l=this.getData(a,null,!0,!0);return l||null},getData(t=null,e=null,a=!1,l=!1){if(V.ai_reply[window.location.hostname]){const{reply_button:n,button:s,container:u,alternative_container:c,edit_container:p,reply_insert_container:m,dot_position:h,detail_elements:v}=V.ai_reply[window.location.hostname];if(l&&this.last_data!==null&&document.querySelector(p)!==null&&document.querySelector("#aitopia-reply-wrapper-dot")!==null&&this.last_data.email_content.length>3)return this.last_data;t.EmailReply.reply_edit_container=null;let g=document.querySelector(u);if(g==null&&c!==null&&(g=document.querySelector(c)),g==null)return t.draggableModalToggle("ai-reply-popup",!1),t.draggableModalToggle("ai-reply-voice-settings",!1),this.reply_insert_text=t.EmailReply.reply_insert_text=null,null;if(t.EmailReply.keys=this.buildKeys(),this.keys=this.buildKeys(),g.querySelector(s)!==null?(this.reply_button_container=null,this.reply_button_container=g.querySelector(s)):document.querySelector(s)!==null&&(this.reply_button_container=null,this.reply_button_container=document.querySelector(s)),this.dot_position=h,this.reply_edit_container=null,document.querySelector(p)!==null?this.reply_edit_container=document.querySelector(p):e!==null&&(this.first_show=!1,t.draggableModalToggle("ai-reply-popup",!1),this.reply_insert_text=t.EmailReply.reply_insert_text=null),document.querySelector(m)!==null&&(this.reply_insert_container=document.querySelector(m)),v&&g!==null){v.forEach(C=>{let S=[];g.querySelectorAll(C.selector)!==null&&(g.querySelectorAll(C.selector).forEach(A=>{S.push(f.onSettingTypeByValue(C,A))}),V.ai_reply_data||(V.ai_reply_data={}),typeof V.ai_reply_data[f.SHA1(window.location.hash)]>"u"&&(V.ai_reply_data[f.SHA1(window.location.hash)]={}),V.ai_reply_data[f.SHA1(window.location.hash)][C.name]=f.removeEmptyLines(S.join(`
`)))});let w=V.ai_reply_data[f.SHA1(window.location.hash)];return this.last_data&&(this.last_data.email_content.length>0?(w==null&&(w=this.last_data),w.email_content||(w=this.last_data),w.email_content.length==0&&(w=this.last_data),V.ai_reply_data[f.SHA1(window.location.hash)]=w):this.last_data=null),this.last_data=w??this.last_data,!this.first_show&&e!==null&&this.last_data!==null&&this.reply_edit_container!==null&&(this.first_show=!0),a?V.ai_reply_data[f.SHA1(window.location.hash)]:V.ai_reply_data}}return null},replyButton(t,e){if(V.ai_reply[window.location.hostname]){const{reply_button:a,button:l,container:n,alternative_container:s,edit_container:u,dot_position:c,detail_elements:p}=V.ai_reply[window.location.hostname];let m=document.querySelector(a);this.sendAi(t,this.last_data),m!==null&&(m.click(),this.getData(t,e))}},sendAi(t,e,a=!1){t.EmailReply.process=!0,this.reply_prompt_text=null,this.reply_insert_text=t.EmailReply.reply_insert_text=null,this.sendSingleAi(t,"getEmailIntent","intentKey",e),this.sendSingleAi(t,"getEmailKeyPoints","keyPointKey",e),this.sendSingleAi(t,"getRelatedSuggestions","suggestionKey",e).then(()=>{t.EmailReply.process=!1;let l=this;document.querySelectorAll(".ait-action-suggestion").forEach(n=>{n.addEventListener("click",s=>{if(this.add_click_event=!0,s.target.classList.contains("ait-action-suggestion")&&!l.process){let u=s.target.innerText.replace(//gi,"");l.reply_prompt_text=u,this.getReply(t,u)}})})}).finally(()=>{t.EmailReply.process=!1;let l=this;document.querySelectorAll(".ait-action-suggestion").forEach(n=>{n.addEventListener("click",s=>{if(this.add_click_event=!0,s.target.classList.contains("ait-action-suggestion")&&!l.process){let u=s.target.innerText.replace(//gi,"");l.reply_prompt_text=u,this.getReply(t,u)}})})})},async sendSingleAi(t,e,a,l,n=null){let s=V.reply_prompts[e],u=`${window.location.hash}#${a}`;if(typeof t.ai_prompts[`id_${s}`]<"u"){let c=t.ai_prompts[`id_${s}`],p=f.SHA1(u);await f.Browser().storage.local.get("delete_key").then(h=>{let v=[];if(typeof h.delete_key<"u"&&(v=h.delete_key),typeof v!="object"&&(v=[]),v.indexOf(p)===-1)return v.push(p),f.Browser().storage.local.set({delete_key:v})}),t.ai_single!=null&&typeof t.ai_single=="object"&&typeof t.ai_single[p]<"u"&&(t.ai_single[p]={});let m=Object.assign({},l);return m.mode=e,await He.build(t,u,n??l.email_content,V.ai_default_model,c.prompt,null,m,!1,s)}},async getReply(t,e=null){let a=this.getData(t,null,!0);t.EmailReply.process=!0,t.EmailReply.reply_prompt_text=e,this.reply_insert_text=t.EmailReply.reply_insert_text="",this.sendSingleAi(t,"askAiReply","askReply",a,e).then(l=>{t.EmailReply.process=!1;let n=t.EmailReply.keys.askReply;this.reply_insert_text=t.EmailReply.reply_insert_text=f.notUndefined(t.ai_single,`${n}.1.item`)})},insertReply(t=null){t==null&&this.reply_insert_text!==null&&(t=this.reply_insert_text),this.reply_insert_container!==null&&t!==null&&(this.reply_insert_container.innerHTML=t.replace(/\n/g,"<br/>"))},buildKeys(){return{keyPointKey:f.SHA1(window.location.hash+"#keyPointKey"),suggestionKey:f.SHA1(window.location.hash+"#suggestionKey"),intentKey:f.SHA1(window.location.hash+"#intentKey"),askReply:f.SHA1(window.location.hash+"#askReply")}}},$i=rt({extends:O,data(){return X.EmailReply=Am,X},async beforeCreate(){},beforeMount(){},created(){this.run||(this.run=!0,this.EmailReply.build(this),this.$watch(()=>this.EmailReply,()=>{},{immediate:!0}),this.$watch(()=>V.ai_reply_data,()=>{},{immediate:!0}))},mounted(){}}),Pm={extends:$i,data(){return{selected:!1,improving:!1}}},Im={class:"ait-w-full ait-flex ait-flex-col ait-items-start ait-justify-start ait-gap-2 ait-min-h-[180px] ait-max-h-[180px]"},Um={class:"ait-flex ait-border-[1px] ait-border-neutral-200 dark:ait-border-neutral-600 ait-space-x-1 ait-rounded-full ait-bg-neutral-100 dark:ait-bg-neutral-700"},Em={class:"ait-flex-1 ait-px-3 ait-flex ait-w-full ait-flex-col ait-items-start ait-justify-start ait-mb-2 ait-gap-2 ait-min-h-[140px] ait-max-h-[140px] ait-overflow-auto"},jm={class:"ait-flex-1 ait-flex ait-px-3 ait-w-full ait-flex-col ait-items-start ait-justify-start ait-mb-2 ait-gap-2 ait-min-h-[265px] ait-max-h-[265px]"},Rm={key:0,class:"ait-text-neutral-400 ait-text-md ait-font-bold dark:ait-text-neutral-500"},Bm={key:1,class:"ait-text-neutral-400 ait-text-md ait-font-bold dark:ait-text-neutral-500"},Dm={key:0,class:"ait-text-[12px]"},Om=["title"],zm={class:"ait-w-full ait-flex ait-justify-between ait-items-center ait-gap-3 ait-mb-2 ait-pt-4"},Vm=["placeholder"],Fm={class:"ait-flex ait-justify-start ait-items-center ait-gap-3"},qm=["disabled"],Nm=["placeholder"];function Zm(t,e,a,l,n,s){const u=y("AiReplyResponse"),c=y("svg-logo"),p=y("HoverPopover"),m=y("font-awesome-icon");return o(),r("div",Im,[i("div",Um,[i("button",{onClick:e[0]||(e[0]=h=>n.selected=!1),class:$(["ait-w-fit ait-whitespace-nowrap ait-rounded-full ait-py-1 ait-px-2 ait-text-sm ait-font-bold",n.selected?"ait-text-neutral-400 dark:ait-text-neutral-500 hover:ait-bg-neutral-200":"ait-bg-white dark:ait-bg-neutral-900 ait-text-[--ait-tab-menu-active-bg-color]"])},d(t.__("Intent")),3),i("button",{onClick:e[1]||(e[1]=h=>n.selected=!0),class:$(["ait-w-fit ait-whitespace-nowrap ait-rounded-full ait-py-1 ait-px-2 ait-text-sm ait-font-bold",n.selected?"ait-bg-white dark:ait-bg-neutral-900 ait-text-[--ait-tab-menu-active-bg-color]":"ait-text-neutral-400 dark:ait-text-neutral-500 hover:ait-bg-neutral-200"])},d(t.__("Key Points")),3)]),i("div",Em,[n.selected?_("",!0):(o(),E(u,{key:0,response_key:this.EmailReply.keys.intentKey},null,8,["response_key"])),n.selected?(o(),E(u,{key:1,response_key:this.EmailReply.keys.keyPointKey},null,8,["response_key"])):_("",!0)]),i("div",jm,[this.EmailReply.reply_insert_text!=null?(o(),r("div",Rm,d(t.__("Suggestions: ")),1)):(o(),r("div",Bm,d(t.__("Result: ")),1)),i("div",{class:"ait-flex ait-gap-[4px] ait-cursor-pointer",onClick:e[2]||(e[2]=h=>this.draggableModalToggle("ai-reply-voice-settings"))},[i("span",null,[b(c,{name:"voice_icon","class-name":"ait-stroke-[var(--ait-link-color)]"})]),this.prompt_settings?(o(!0),r(L,{key:0},B(Object.values(t.Helpers.promptIdByGetValues(this.selected_reply.id)),(h,v)=>(o(),r(L,null,[h&&v>0?(o(),r("span",Dm," / ")):_("",!0),h?(o(),r("span",{key:1,class:"ait-text-[var(--ait-link-color)] ait-text-[12px] ait-capitalize",title:(h.name??"").toCapitalizeCase()+" : "+h.title},d(t.__(h.title)),9,Om)):_("",!0)],64))),256)):_("",!0)]),this.EmailReply.reply_insert_text!=null?(o(),r(L,{key:2},[b(u,{response_key:this.EmailReply.keys.askReply,start_height:"160px"},null,8,["response_key"]),i("div",zm,[this.improving?_("",!0):(o(),r("button",{key:0,onClick:e[3]||(e[3]=h=>this.improving=!this.improving),type:"button",class:"ait-text-neutral-400 dark:ait-text-neutral-500"},d(t.__("Continue Improving")),1)),this.improving?(o(),r("form",{key:1,onSubmit:e[6]||(e[6]=J(()=>{},["prevent"])),class:"ait-text-neutral-900 ait-border ait-border-neutral-300 ait-p-1 ait-rounded-lg ait-bg-neutral-50 focus:ait-ring-green-500 focus:ait-border-green-500 dark:ait-bg-neutral-800 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-green-500 dark:focus:ait-border-green-500 ait-h-[40px] ait-w-full ait-relative ait-flex ait-justify-between ait-items-center ait-gap-2"},[F(i("input",{type:"text",class:"ait-w-full ait-h-full ait-bg-transparent ait-p-2 focus:ait-border-none","onUpdate:modelValue":e[4]||(e[4]=h=>this.EmailReply.reply_prompt_text=h),placeholder:t.__("Tell how you want to reply")},null,8,Vm),[[tt,this.EmailReply.reply_prompt_text]]),b(p,{"popover-text":t.__("Send")},{default:D(()=>[i("button",{onClick:e[5]||(e[5]=h=>this.EmailReply.getReply(this,this.EmailReply.reply_prompt_text)),type:"submit"},e[13]||(e[13]=[i("img",{src:Bt,class:"ait-w-4 ait-h-4 ait-opacity-80 ait-mt-[4px] ait-cursor-pointer dark:ait-invert",height:"16",width:"16"},null,-1)]))]),_:1},8,["popover-text"])],32)):_("",!0),i("div",Fm,[b(p,{"popover-text":t.__("Regenerate")},{default:D(()=>[i("button",{onClick:e[7]||(e[7]=h=>this.EmailReply.getReply(this,this.EmailReply.reply_prompt_text)),type:"button",class:"ait-text-sm ait-font-bold hover:ait-opacity-90"},[b(m,{icon:"fa-solid fa-redo",class:"ait-w-4 ait-h-4"})])]),_:1},8,["popover-text"]),b(p,{"popover-text":t.__("Copy")},{default:D(()=>[i("button",{type:"button",class:"ait-text-sm ait-font-bold hover:ait-opacity-90",onClick:e[8]||(e[8]=h=>{var v;return this.Helpers.copyClipboard((v=this.EmailReply.reply_insert_text)==null?void 0:v.replace(/<br\/>/g,`
`))})},[b(m,{icon:"fa-regular fa-clipboard",class:"ait-w-4 ait-h-4"})])]),_:1},8,["popover-text"]),i("button",{type:"button",onClick:e[9]||(e[9]=h=>this.EmailReply.insertReply()),disabled:this.EmailReply.process,class:"ait-text-sm ait-font-bold hover:ait-opacity-90 ait-px-2 ait-py-1 ait-bg-[--ait-tab-menu-active-bg-color] ait-text-white ait-rounded-md dark:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:ait-text-white disabled:ait-opacity-50"},d(t.__("Insert")),9,qm)])])],64)):(o(),r(L,{key:3},[b(u,{response_key:this.EmailReply.keys.suggestionKey,start_height:"160px"},null,8,["response_key"]),i("form",{onSubmit:e[12]||(e[12]=J(()=>{},["prevent"])),class:"ait-text-neutral-900 ait-border ait-border-neutral-300 ait-p-1 ait-rounded-lg ait-bg-neutral-50 focus:ait-ring-green-500 focus:ait-border-green-500 dark:ait-bg-neutral-800 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-green-500 dark:focus:ait-border-green-500 ait-h-[40px] ait-w-full ait-relative ait-flex ait-justify-between ait-items-center ait-gap-2"},[F(i("input",{type:"text",class:"ait-w-full ait-h-full ait-bg-transparent ait-p-2 focus:ait-border-none","onUpdate:modelValue":e[10]||(e[10]=h=>this.EmailReply.reply_prompt_text=h),placeholder:t.__("Tell how you want to reply")},null,8,Nm),[[tt,this.EmailReply.reply_prompt_text]]),b(p,{"popover-text":t.__("Send")},{default:D(()=>[i("button",{onClick:e[11]||(e[11]=h=>this.EmailReply.getReply(this,this.EmailReply.reply_prompt_text)),type:"submit"},e[14]||(e[14]=[i("img",{src:Bt,class:"ait-w-4 ait-h-4 ait-opacity-80 ait-mt-[4px] ait-cursor-pointer dark:ait-invert",height:"16",width:"16"},null,-1)]))]),_:1},8,["popover-text"])],32)],64))])])}const Wm=R(Pm,[["render",Zm]]),Gm=rt({name:"AiReplyResponse",extends:O,props:["response_key","start_height"],data(){return{height:this.$props.start_height??"90px"}},methods:{continueOnChat(){this.ai_single[this.$props.response_key]&&(this.newChat(this.ai_single[this.$props.response_key]),this.sidebarToggle(!0),this.changeStorage("settings.switchbar","chat",!1))}}}),Km={key:0,class:"ait-px-1 ait-py-1 ait-text-left ait-text-neutral-400 dark:ait-text-neutral-500"},Ym=["data-key"],Qm=["aria-details"],Xm={class:"ait-p-0 ait-w-full"},Jm=["innerHTML"],t7={key:0,id:"ait-continue-chat-ai_single",class:"ait-continue-chat ait-flex ait-items-center ait-justify-center ait-w-full"},e7=["data-title"],i7={class:"ait-flex ait-w-full ait-gap-2 ait-items-center ait-justify-center"},a7={key:1,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 dark:ait-text-gray-200"},s7={class:"ait-w-full ait-py-4 ait-flex"},o7={key:2,class:"ait-px-3 ait-py-1 ait-bg-white dark:ait-bg-neutral-800 [&_*]:ait-text-red-800 dark:[&_*]:ait-text-red-200"},n7={class:"ait-py-4 [&_*]:ait-text-center"};function l7(t,e,a,l,n,s){const u=y("font-awesome-icon");return o(),r("div",{class:$(`ait-w-full ait-h-[${this.$props.start_height??"90px"}] ait-max-h-[${this.$props.start_height??"90px"}] ait-overflow-y-auto`)},[t.Helpers.notUndefined(this.ai_single,this.$props.response_key)?(o(),r("div",{key:1,"data-key":this.$props.response_key,class:"ait-w-full"},[(o(!0),r(L,null,B(Object.values(this.ai_single[this.$props.response_key]),(c,p)=>(o(),r("div",{"aria-details":`chat-key-${p}`,key:p},[c?(o(),r(L,{key:0},[c.role=="system"||c.role=="assistant"?(o(),r(L,{key:0},[i("div",Xm,[i("div",{class:$(["!ait-w-full !ait-min-w-full",`ai_result ${c.loading?"ai_loading":""}`]),innerHTML:t.AiApi.prefixify(t.AiApi.linkify(c.item)).replace(/\n/g,"<br/>")},null,10,Jm)]),t.Helpers.notUndefined(c,"finish_reason")=="length"?(o(),r("div",t7,[i("button",{"data-title":t.__("Continue"),class:"ait-text-white hover:ait-opacity-90 ait-font-small ait-text-md ait-px-3 ait-py-1.5 ait-my-2 ait-rounded-md dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-items-center ait-justify-center"},[i("div",i7,[b(u,{icon:"fa-solid fa-play",class:"ait-h-4 ait-w-4"}),U(" "+d(t.__("Continue generating")),1)])],8,e7)])):_("",!0)],64)):c.role=="limit"?(o(),r("div",a7,[i("div",s7,[i("div",null,d(t.__("Your usage limit has been reached. Please upgrade your plan to continue using.")),1),i("button",{type:"button",onClick:e[0]||(e[0]=m=>this.clickOpenPage(this.constants.extension_pricing)),class:"ait-mt-3 ait-text-white ait-bg-green-700 hover:ait-opacity-90 focus:ait-outline-none focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-full ait-text-sm ait-px-5 ait-py-1 ait-text-center ait-ml-5 ait-mr-2 dark:ait-bg-green-600 dark:hover:ait-bg-green-700 dark:focus:ait-ring-green-800 aitopia-pricing"},d(t.__("Upgrade")),1)])])):c.role=="error"?(o(),r("div",o7,[i("div",n7,d(c.item),1)])):_("",!0)],64)):_("",!0)],8,Qm))),128))],8,Ym)):(o(),r("div",Km,d(t.__("Loading...")),1))],2)}const r7=R(Gm,[["render",l7]]),d7=rt({name:"AiReplySettingsPanel",extends:O}),c7={class:"ait-text-sm ait-font-medium ait-text-neutral-500 dark:ait-text-neutral-200 ait-cursor-pointer hover:ait-text-neutral-600 dark:hover:ait-text-neutral-300 ait-flex ait-items-center ait-gap-1 ait-p-2 ait-rounded-lg ait-bg-neutral-100 dark:ait-bg-neutral-800 ait-transition ait-duration-200 ait-ease-in-out"},u7={key:0,id:"ait-prompt-container",class:"ait-mb-3 ait-mx-2 ait-px-1 ait-h-full"},h7={class:"ait-grid ait-gap-2 ait-grid-cols-1"},p7={class:"ait-col-span-1 ait-relative"},g7=["for","innerHTML"],f7=["name","id","onUpdate:modelValue","placeholder","onChange"],m7=["selected","value","innerHTML"],_7=["type","placeholder","name","onUpdate:modelValue","onChange","value"],v7=["name","onUpdate:modelValue","placeholder","onChange"],b7={key:0,class:"ait-flex ait-flex-wrap ait-gap-[6px] ait-mt-1 ait-py-[4px] ait-rounded-md"},w7={key:0,class:"ait-relative"},y7={class:"ait-flex ait-items-center ait-gap-1 ait-leading-none ait-cursor-pointer ait-transition-all ait-duration-200"},x7=["value","name","onUpdate:modelValue","id","onChange","checked"],k7=["for","innerHTML"];function C7(t,e,a,l,n,s){const u=y("PopoverButton"),c=y("PopoverPanel"),p=y("Popover");return o(),E(p,null,{default:D(()=>[b(u,null,{default:D(()=>[i("span",c7,d(t.__("Reply Settings")),1)]),_:1}),b(_t,{"enter-active-class":"ait-transition ait-duration-200 ait-ease-out","enter-from-class":"ait-translate-y-1 ait-opacity-0","enter-to-class":"ait-translate-y-0 ait-opacity-100","leave-active-class":"ait-transition ait-duration-150 ait-ease-in","leave-from-class":"ait-translate-y-0 ait-opacity-100","leave-to-class":"ait-translate-y-1 ait-opacity-0"},{default:D(()=>[b(c,{class:"ait-absolute ait-origin-bottom-right -ait-left-[410px] ait-p-3 ait-w-[400px] dark:ait-bg-neutral-800 ait-bg-white ait-bottom-5 ait-right-5 ait-z-[9999] ait-border-[1px] dark:ait-border-neutral-700 ait-border-neutral-50 ait-max-w-md ait-transform ait-rounded-lg ait-shadow-xl"},{default:D(()=>[this.ai_prompts&&t.Helpers.notUndefined(this,"selected_write.id")!=null?(o(),r("div",u7,[i("div",h7,[t.Helpers.notUndefined(this,"selected_write.settings")!=null?(o(!0),r(L,{key:0},B(this.selected_write.settings,(m,h)=>(o(),r(L,null,[(o(!0),r(L,null,B(m,v=>(o(),r(L,null,[(o(!0),r(L,null,B(v,(g,w,C)=>(o(),r("div",p7,[t.Helpers.notUndefined(g,"label")||t.Helpers.notUndefined(g,"label_before")?(o(),r("label",{key:0,for:`${w}-_-${this.selected_write.id}_${h}`,class:"ait-inline-flex ait-gap-2 ait-p-1 ait-m-1 ait-text-neutral-500 dark:ait-text-neutral-200",innerHTML:(t.Helpers.notUndefined(this,t.Helpers.notUndefined(g,"label"))?(t.Helpers.notUndefined(this,t.Helpers.notUndefined(g,"label_before"))?t.Helpers.notUndefined(this,t.Helpers.notUndefined(g,"label_before"))+" ":"")+t.__(t.Helpers.notUndefined(this,t.Helpers.notUndefined(g,"label"))):(t.Helpers.notUndefined(g,"label_before")?t.Helpers.notUndefined(g,"label_before")+" ":"")+t.__(t.Helpers.notUndefined(g,"label")))+":"},null,8,g7)):_("",!0),t.Helpers.notUndefined(g,"type")=="select"?F((o(),r("select",{key:1,name:`${w}-_-${this.selected_write.id}_${h}`,id:`${w}-_-${this.selected_write.id}_${h}`,"onUpdate:modelValue":S=>this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`]=S,placeholder:t.__(t.Helpers.notUndefined(g,"placeholder")),onChange:S=>{this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`]=S.target.value,this.changeStorage(`prompt_settings.${w}-_-${this.selected_write.id}_${h}`,this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`],!1)},class:$((t.Helpers.notUndefined(g,"class")??"")+" ait-block ait-w-full ait-p-2 ait-text-md ait-text-neutral-900 ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-neutral-100 focus:ait-border-green-500 dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:ait-focus:border-green-500")},[t.Helpers.notUndefined(this,t.Helpers.notUndefined(g,"model"))?(o(!0),r(L,{key:0},B(t.Helpers.notUndefined(this,t.Helpers.notUndefined(g,"model")),(S,A)=>(o(),r("option",{selected:t.Helpers.vueDefaultChecker(this,`prompt_settings.${w}-_-${this.selected_write.id}_${h}`,S,g),value:t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_prefix")),class:"ait-text-md ait-p-2",innerHTML:(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element_before"))??null?(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element_before"))??null)+" ":"")+(t.Helpers.notUndefined(g,"no_translate")?t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element")):t.__(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element"))))},null,8,m7))),256)):_("",!0)],42,f7)),[[oe,this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`]]]):t.Helpers.notUndefined(g,"type")=="input"?F((o(),r("input",{key:2,type:t.Helpers.notUndefined(g,"input_type")??"text",placeholder:t.__(t.Helpers.notUndefined(g,"placeholder")),name:`${w}-_-${this.selected_write.id}_${h}`,"onUpdate:modelValue":S=>this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`]=S,onChange:S=>{this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`]=S.target.value,this.changeStorage(`prompt_settings.${w}-_-${this.selected_write.id}_${h}`,this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`],!1)},class:$((t.Helpers.notUndefined(g,"class")??"")+" ait-block ait-w-full ait-p-2 ait-text-md ait-text-neutral-900 ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-neutral-100 focus:ait-border-green-500 dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:ait-focus:border-green-500"),value:t.Helpers.vueDefaultChecker(this,`prompt_settings.${w}-_-${this.selected_write.id}_${h}`,g,g,null,!1)},null,42,_7)),[[Me,this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`]]]):t.Helpers.notUndefined(g,"type")=="textarea"?F((o(),r("textarea",{key:3,name:`${w}-_-${this.selected_write.id}_${h}`,"onUpdate:modelValue":S=>this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`]=S,placeholder:t.__(t.Helpers.notUndefined(g,"placeholder")),onChange:S=>{this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`]=S.target.value,this.changeStorage(`prompt_settings.${w}-_-${this.selected_write.id}_${h}`,this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`],!1)},class:$((t.Helpers.notUndefined(g,"class")??"")+" ait-h-[112px] ait-resize-none ait-block ait-p-2.5 ait-w-full ait-text-xs ait-text-neutral-900 ait-bg-neutral-50 ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-[var(--ait-tab-menu-active-bg-color)] dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-border-[var(--ait-tab-menu-active-bg-color)]"),rows:"4"},d(t.Helpers.vueDefaultChecker(this,`prompt_settings.${w}-_-${this.selected_write.id}_${h}`,t.prompt_settings,g,null,!1)),43,v7)),[[tt,this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`]]]):_("",!0),t.Helpers.notUndefined(g,"type")=="radio"?(o(),r(L,{key:4},[t.Helpers.notUndefined(this,t.Helpers.notUndefined(g,"model"))?(o(),r("div",b7,[(o(!0),r(L,null,B(t.Helpers.notUndefined(this,t.Helpers.notUndefined(g,"model")),(S,A)=>(o(),r(L,null,[!t.Helpers.notUndefined(g,"indexof")||Object.values(t.Helpers.notUndefined(g,"indexof")??{}).indexOf(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_prefix")))!=-1?(o(),r("div",w7,[i("div",y7,[F(i("input",{type:"radio",class:"ait-hidden ait-peer",required:"",value:t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_prefix")),name:`${w}-_-${this.selected_write.id}_${h}`,"onUpdate:modelValue":x=>this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`]=x,id:`${w}-_-${this.selected_write.id}_${h}_${t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_prefix"))}`,onChange:x=>{this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`]=x.target.value,this.changeStorage(`prompt_settings.${w}-_-${this.selected_write.id}_${h}`,this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`],!1)},checked:t.Helpers.vueDefaultChecker(this,`prompt_settings.${w}-_-${this.selected_write.id}_${h}`,S,g)},null,40,x7),[[le,this.prompt_settings[`${w}-_-${this.selected_write.id}_${h}`]]]),i("label",{for:`${w}-_-${this.selected_write.id}_${h}_${t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_prefix"))}`,class:$((t.Helpers.notUndefined(g,"class")??"")+(t.Helpers.vueDefaultChecker(this,`prompt_settings.${w}-_-${this.selected_write.id}_${h}`,S,g)?" ait-checked ":"")+" ait-inline-flex ait-items-center ait-justify-between ait-gap-2 ait-py-1 ait-px-2 ait-text-neutral-500 ait-bg-white ait-border ait-border-neutral-200 ait-rounded-lg ait-cursor-pointer dark:hover:ait-text-neutral-300 dark:ait-border-neutral-700 dark:peer-checked:ait-text-[var(--ait-tab-menu-active-bg-color)] peer-checked:ait-border-[var(--ait-tab-menu-active-bg-color)] peer-checked:ait-text-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-neutral-600 hover:ait-bg-neutral-100 dark:ait-text-neutral-400 dark:ait-bg-neutral-800 dark:hover:ait-bg-neutral-700"),innerHTML:(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element_before"))??null?(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element_before"))??null)+" ":"")+(t.Helpers.notUndefined(g,"no_translate")?t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element")):t.__(t.Helpers.notUndefined(S,t.Helpers.notUndefined(g,"model_element"))))},null,10,k7)])])):_("",!0)],64))),256))])):_("",!0)],64)):_("",!0)]))),256))],64))),256))],64))),256)):_("",!0)])])):_("",!0)]),_:1})]),_:1})]),_:1})}const $7=R(d7,[["render",C7]]),L7={name:"ShortcutRecorder",extends:O,props:{label:{type:String},shortcutKey:{type:String}},data(){return{shortcutKeys:{ctrl:!1,shift:!1,alt:!1,meta:!1,key:""},startRecording:!1}},mounted(){if(this.shortcutKey){const e=this.settings[this.shortcutKey].toLowerCase().split("+");this.shortcutKeys.ctrl=e.includes("ctrl"),this.shortcutKeys.shift=e.includes("shift"),this.shortcutKeys.alt=e.includes("alt"),this.shortcutKeys.meta=e.includes("meta"),this.shortcutKeys.key=e[e.length-1]}},computed:{displayShortcut(){const t=[];return this.shortcutKeys.ctrl&&t.push("ctrl"),this.shortcutKeys.shift&&t.push("shift"),this.shortcutKeys.alt&&t.push("alt"),this.shortcutKeys.meta&&t.push("meta"),this.shortcutKeys.key&&t.push(this.shortcutKeys.key),t.join("+")}},methods:{keydownHandler(t){this.shortcutKeys.ctrl=t.ctrlKey,this.shortcutKeys.shift=t.shiftKey,this.shortcutKeys.alt=t.altKey,this.shortcutKeys.meta=t.metaKey,["Control","Shift","Alt","Meta"].indexOf(t.key)===-1&&(t.preventDefault(),this.shortcutKeys.key=t.key.toUpperCase())},onClick(){this.startRecording=!0,this.$nextTick(()=>{this.$refs.shortcutInput.focus()})},cancel(){this.startRecording=!1},save(){this.changeStorage(`settings.${this.shortcutKey}`,this.displayShortcut,!0),this.startRecording=!1}}},S7={class:"ait-p-5 ait-w-full ait-rounded-lg ait-bg-neutral-50 dark:ait-bg-neutral-800"},M7={class:"ait-flex ait-items-center ait-w-full"},T7={class:"ait-relative ait-inline-flex ait-justify-between ait-w-full ait-items-center ait-cursor-pointer"},H7={class:"ait-mr-5"},A7={class:"ait-font-bold"},P7={class:"ait-relative ait-flex ait-justify-start ait-items-center ait-gap-2"},I7=["placeholder","value"];function U7(t,e,a,l,n,s){const u=y("font-awesome-icon");return o(),r("div",S7,[i("div",M7,[i("div",T7,[i("div",H7,[i("div",A7,d(a.label),1)]),i("div",P7,[n.startRecording?(o(),r(L,{key:0},[i("button",{class:"ait-text-black dark:ait-text-white ait-bg-gray-100 ait-font-medium ait-rounded-lg ait-text-md ait-px-5 ait-py-2 dark:ait-bg-gray-800",onClick:e[0]||(e[0]=(...c)=>s.cancel&&s.cancel(...c))},d(t.__("Cancel")),1),i("button",{class:"ait-text-white ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 focus:ait-ring-4 focus:ait-outline-none focus:ait-ring-green-300 ait-font-medium ait-rounded-lg ait-text-md ait-px-5 ait-py-2 dark:ait-bg-green-800 dark:hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-ring-green-800",onClick:e[1]||(e[1]=(...c)=>s.save&&s.save(...c))},d(t.__("Save")),1)],64)):_("",!0),i("input",{ref:"shortcutInput",type:"text",placeholder:t.__("Type a shortcut"),class:"ait-capitalize ait-block ait-w-full ait-p-2 ait-text-sm ait-text-neutral-900 ait-border ait-border-neutral-300 ait-rounded-lg ait-bg-neutral-50 focus:ait-ring-green-500 focus:ait-border-green-500 dark:ait-bg-neutral-700 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-green-500 dark:focus:ait-border-green-500",onKeydown:e[2]||(e[2]=(...c)=>s.keydownHandler&&s.keydownHandler(...c)),value:s.displayShortcut,onClick:e[3]||(e[3]=(...c)=>s.onClick&&s.onClick(...c)),readonly:""},null,40,I7),n.startRecording?_("",!0):(o(),r("button",{key:1,onClick:e[4]||(e[4]=(...c)=>s.onClick&&s.onClick(...c))},[b(u,{icon:"fa-solid fa-edit",class:"ait-w-5 ait-h-5"})]))])])])])}const E7=R(L7,[["render",U7]]),j7={extends:O,mounted(){this.changeSectionsRoundedValue()},props:{showUploadAPdf:{type:Boolean,default:!0},showReadPage:{type:Boolean,default:!1},uploadAnImage:{type:Boolean,default:!0},showSuggestions:{type:Boolean,default:!0}},methods:{toggleHistory(){this.showHistorySideBar=!this.showHistorySideBar,this.changeSectionsRoundedValue()},changeSectionsRoundedValue(){const t=document.getElementById("ait-tab-0-chat");t&&(this.showHistorySideBar?(t.classList.remove("ait-rounded-l-lg"),t.classList.remove("lg:ait-rounded-r-lg"),t.classList.add("ait-rounded-r-none")):(t.classList.remove("ait-rounded-r-none"),t.classList.add("ait-rounded-l-lg"),t.classList.add("lg:ait-rounded-r-lg")))}}},R7={id:"ait-tab-0-chat",class:"ait-flex-initial ait-w-full ait-mr-0 ait-show"},B7={class:"ait-flex ait-flex-row ait-responsive-zoom ait-justify-between"},D7={class:"ait-flex"},O7={class:"ait-flex ait-items-center ait-mr-5"},z7={class:"ait-leading-[50px] ait-text-2xl"},V7={class:"ait-flex ait-items-center ait-max-h-[50px]"},F7={class:"ait-whitespace-nowrap ait-flex ait-items-center ait-space-x-2 ait-bg-transparent hover:ait-bg-[var(--ait-link-color)] ait-transition-all ait-rounded-full ait-p-1 ait-px-2"},q7={id:"aitopia-sidebar"},N7={id:"ai-sidebar",class:"ait-flex ait-w-full ait-h-full ait-overflow-hidden"},Z7={class:"ait-flex ait-flex-col ait-w-full"};function W7(t,e,a,l,n,s){const u=y("AppLogo"),c=y("SvgLogo"),p=y("InnerContentView");return o(),r("div",R7,[i("div",B7,[i("div",D7,[i("div",O7,[b(u,{name:"logo",className:"ait-w-8 ait-h-8 ait-mr-2 lg:ait-hidden"}),i("h1",z7,d(t.__("Chat")),1)])]),i("div",V7,[i("button",F7,[e[2]||(e[2]=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hide":"true",class:"ait-w-4 ait-h-4 dark:ait-text-gray-200"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)),i("span",{class:"ait-text-sm dark:ait-text-gray-200 ait-whitespace-nowrap",onClick:e[0]||(e[0]=m=>this.newChat())},d(t.__("New Conversation")),1)]),i("button",{type:"button",class:"ait-ml-3 lg:ait-ml-4 svg-logo",onClick:e[1]||(e[1]=m=>this.show_history_sidebar=!0)},[b(c,{name:"history_icon",className:"ait-h-6 ait-w-6"})])])]),e[3]||(e[3]=i("div",{class:"ait-py-1 lg:ait-py-2"},[i("hr")],-1)),i("div",q7,[i("div",N7,[i("div",Z7,[b(p,{mode:"full",showUploadAPdf:a.showUploadAPdf,showReadPage:a.showReadPage,uploadAnImage:a.uploadAnImage,showSuggestions:a.showSuggestions},null,8,["showUploadAPdf","showReadPage","uploadAnImage","showSuggestions"])])])])])}const G7=R(j7,[["render",W7]]),K7={extends:O,mounted(){this.$props.selected_agent!==null&&this.$props.selected_agent!==void 0&&this.changeStorage("selected_agent",this.$props.selected_agent),this.changeSectionsRoundedValue()},props:{returnToBotList:{type:Function,required:!0},showUploadAPdf:{type:Boolean,default:!0},showReadPage:{type:Boolean,default:!1},uploadAnImage:{type:Boolean,default:!0},showSuggestions:{type:Boolean,default:!0},mode:{type:String,default:"full"}},methods:{goBackToList(){new URLSearchParams(window.location.search).get("id")!==null?this.navigateTo("agents"):this.returnToBotList()},toggleHistory(){this.showHistorySideBar=!this.showHistorySideBar,this.changeSectionsRoundedValue()},changeSectionsRoundedValue(){const t=document.getElementById("ait-tab-0-chat");t&&(this.showHistorySideBar?(t.classList.remove("ait-rounded-l-lg"),t.classList.remove("lg:ait-rounded-r-lg"),t.classList.add("ait-rounded-r-none")):(t.classList.remove("ait-rounded-r-none"),t.classList.add("ait-rounded-l-lg"),t.classList.add("lg:ait-rounded-r-lg")))}}},Y7={id:"ait-agents",class:"ait-flex-initial ait-w-full ait-mr-0 ait-show"},Q7={class:"ait-header ait-flex-shrink"},X7={class:"ait-w-full ait-bg-[transparent]"},J7={class:"ait-flex ait-items-center ait-w-full ait-p-0"},t_={class:"ait-flex ait-items-center ait-justify-between ait-w-full"},e_={class:"ait-flex ait-items-center ait-justify-between"},i_={key:0,class:"ait-self-center ait-text-base ait-text-black dark:ait-text-gray-200 ait-whitespace-nowrap"},a_={class:"ait-w-8 ait-h-8 ait-rounded-full ait-flex ait-items-center ait-justify-center"},s_={key:1,class:"ait-self-center lg:ait-text-base ait-text-xs ait-w-[120px] ait-text-black ait-ml-1 dark:ait-text-gray-200 ait-whitespace-nowrap",style:{"text-overflow":"ellipsis",overflow:"hidden"}},o_={class:"ait-font-semibold ait-ml-2"},n_={class:"ait-flex ait-items-center ait-max-h-[50px]"},l_={class:"md:ait-text-sm ait-text-[10px] dark:ait-text-gray-200"},r_={class:"ait-flex ait-flex-col ait-w-full"};function d_(t,e,a,l,n,s){var h;const u=y("font-awesome-icon"),c=y("AgentLogo"),p=y("SvgLogo"),m=y("InnerContentViewForAgents");return o(),r("div",Y7,[i("div",Q7,[i("nav",X7,[i("div",J7,[i("div",t_,[i("div",e_,[i("button",{onClick:e[0]||(e[0]=(...v)=>s.goBackToList&&s.goBackToList(...v)),class:"ait-rounded-full ait-p-2 hover:ait-bg-[var(--ait-hover-bg-color)] ait-mr-1"},[b(u,{icon:"fa-solid fa-arrow-left",class:"ait-w-4 ait-h-4"})]),t.selected_agent?(o(),r("div",i_,[i("div",a_,[t.selected_agent?(o(),E(c,{key:0,agent:t.selected_agent},null,8,["agent"])):_("",!0)])])):_("",!0),t.selected_agent?(o(),r("div",s_,[i("span",o_,d((h=t.selected_agent)==null?void 0:h.title),1)])):_("",!0)]),i("div",n_,[i("button",{onClick:e[1]||(e[1]=v=>this.newChat()),class:"ait-flex ait-items-center ait-space-x-2 ait-bg-transparent hover:ait-bg-[var(--ait-link-color)] ait-transition-all ait-rounded-full ait-p-1 ait-px-2"},[e[3]||(e[3]=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hide":"true",class:"ait-w-4 ait-h-4 dark:ait-text-gray-200"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)),i("span",l_,d(t.__("New Conversation")),1)]),i("button",{type:"button",class:"ait-ml-2 svg-logo",onClick:e[2]||(e[2]=v=>this.show_history_sidebar=!0)},[b(p,{name:"history_icon",className:"ait-h-6 ait-w-6"})])])])])])]),i("div",r_,[b(m,{mode:this.mode,showUploadAPdf:a.showUploadAPdf,showReadPage:a.showReadPage,uploadAnImage:a.uploadAnImage,showSuggestions:a.showSuggestions,selected_agent:t.selected_agent,headerMode:"suggestions"},null,8,["mode","showUploadAPdf","showReadPage","uploadAnImage","showSuggestions","selected_agent"])])])}const c_=R(K7,[["render",d_]]),u_=rt({extends:O,name:"ModelSelector",props:{modelValue:{type:String,default:""},type:{type:String,default:"text"}},data(){return{showDropdown:!1}},computed:{selectedModel:{get(){return this.modelValue||this.constants.ai_default_model},set(t){this.$emit("update:modelValue",t)}},selectedModelDetail:{get(t){return this.getModelDetails(this.modelValue||this.constants.ai_default_model)},set(t){this.$emit("update:modelValue",t)}}},mounted(){document.addEventListener("click",this.handleClickOutside),f.initAutoPositionDropdowns()},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},methods:{toggleDropdown(){this.showDropdown=!this.showDropdown},handleClickOutside(t){const e=this.$el;e&&!e.contains(t.target)&&this.showDropdown&&(this.showDropdown=!1)},selectModel(t){this.selectedModel=t.model_id,this.changeStorage("selected_agent.base_model_id",t.model_id),this.showDropdown=!1},getModelByTooltip(t){let e=t;typeof t=="object"&&typeof t.model_id<"u"&&(e=t.model_id);let a={"GPT-3.5":{detail:"Very fast, great for most everyday tasks.",cost:"Cost 1 Fast Text query."},"GPT-4o Mini":{detail:"Very fast, great for most everyday tasks.",cost:"Cost 1 Fast query."},"GPT-4":{detail:"Most capable model, best for complex tasks requiring advanced reasoning.",cost:"Cost 1 Advanced query."},"GPT-4o":{detail:"OpenAI's newest and most advanced flagship model which can reason across audio, vision, and text in real time.",cost:"Cost 1 Advanced query."},"Claude 3 Haiku":{detail:"Anthropic's most compact model, designed for near-instant responsiveness and seamless AI experiences that mimic human interactions",cost:"Cost 1 Fast query."},"Claude 3 Sonnet":{detail:"Very fast, great for most everyday tasks.",cost:"Cost 1 Advanced query."},"Claude 3 Opus":{detail:"Anthropic's most powerful model, delivering state-of-the-art performance on highly complex tasks and demonstrating fluency and human-like understanding.",cost:"Cost 2 Advanced query."}};if(typeof t=="object"&&typeof t.detail<"u"){let l=t.parent_model.toString().split("_")[0].toCapitalizeCase(),n=` ${t.credit} ${l}`;t.type=="text"?n=`Cost ${n} query`:n=`Each ${t.type} cost ${n} Credit`,a[e]={detail:t.detail,cost:n}}return typeof a[e]<"u"?'<div class="ait-text-xs"><div class="ait-text-xs ait-break-words ait-whitespace-pre-wrap ait-text-gray-200 dark:ait-text-gray-800">'+f.__(a[e].detail)+'</div><div class="ait-text-[10px] ait-opacity-60 ait-mt-1 ait-text-gray-200 dark:ait-text-gray-800">'+a[e].cost+"</div></div>":""},getVoices(t=null){return t==null&&(t=f.notUndefined(this.settings,"voice_id")),console.log(this.voices),this.voices.filter(e=>e.voice_id===t)},remove(t){t()},onDropdownOpen(){this.$nextTick(()=>{const t=document.querySelector(".ait-panel-auto-position");t&&f.autoPositionDropdown(t)})}}}),h_={class:"ait-flex ait-items-center"},p_={class:"ait-ai-icon ait-flex ait-justify-center ait-items-center ait-rounded-full ait-h-4 ait-w-4 ait-mr-2"},g_={class:"ait-flex ait-items-center ait-justify-center ait-rounded-full"},f_={key:0,class:"ait-panel-auto-position ait-whitespace-nowrap ait-absolute ait-min-w-[140px] dark:ait-bg-neutral-800 ait-bg-white ait-left-0 ait-z-[999] ait-mt-[1px] ait-border-[1px] dark:ait-border-neutral-700 ait-border-neutral-50 ait-max-w-md ait-transform ait-rounded-lg ait-p-1 ait-shadow-lg"},m_={key:0,class:"HoverPopover-wrapper"},__=["onClick"],v_={class:"ait-w-full"},b_={class:"ait-gap-4 ait-text-neutral-900 dark:ait-text-white ait-text-sm dark:ait-text-neutral-400"},w_={class:"ait-ai-icon ait-flex ait-gap-2 ait-text-[12px]"},y_=["onClick"],x_={class:"ait-w-full"},k_={class:"ait-gap-4 ait-text-neutral-900 dark:ait-text-white ait-text-sm dark:ait-text-neutral-400"},C_={class:"ait-ai-icon ait-flex ait-gap-2 ait-text-[12px]"};function $_(t,e,a,l,n,s){const u=y("ModelLogo"),c=y("font-awesome-icon"),p=y("PopoverButton"),m=y("HoverPopover"),h=y("PopoverPanel"),v=y("Popover");return o(),E(v,{class:"ait-relative"},{default:D(({close:g})=>[b(p,{class:"group ait-flex ait-rounded-none ait-items-center ait-gap-2 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},{default:D(()=>[i("div",h_,[i("div",p_,[i("div",g_,[b(u,{class:"ait-w-[16px] ait-h-[16px]",model:t.selectedModelDetail},null,8,["model"])])]),i("span",null,d(t.selectedModel),1)]),b(c,{icon:"fa-solid fa-chevron-down",class:"ait-ml-1 ait-w-4 ait-h-4"})]),_:1}),b(_t,{"enter-active-class":"ait-transition ait-duration-200 ait-ease-out","enter-from-class":"ait-translate-y-1 ait-opacity-0","enter-to-class":"ait-translate-y-0 ait-opacity-100","leave-active-class":"ait-transition ait-duration-150 ait-ease-in","leave-from-class":"ait-translate-y-0 ait-opacity-100","leave-to-class":"ait-translate-y-1 ait-opacity-0",onEnter:t.onDropdownOpen},{default:D(()=>[b(h,null,{default:D(()=>[this.ai_type_models?(o(),r("div",f_,[(o(!0),r(L,null,B(this.ai_type_models[t.type],(w,C)=>(o(),r(L,{key:C},[t.Helpers.notUndefined(t.$options.components,"HoverPopover")&&(w.use_skills||0)==="1"?(o(),r("div",m_,[b(m,{"popover-text":t.getModelByTooltip(w)??"",position:"y"},{default:D(()=>[i("div",{class:"ait-flex ait-px-4 ait-py-2.5 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 hover:ait-rounded-lg ait-cursor-pointer",style:Q(t.selectedModel===w.model_id?"background:rgba(1,167,125,.3);":""),onClick:S=>{t.selectModel(w),t.showDropdown=!1,t.remove(g)}},[i("div",v_,[i("div",b_,[i("div",w_,[b(u,{class:"ait-w-[16px] ait-h-[16px]",model:w},null,8,["model"]),U(" "+d(w.model_id),1)])])])],12,__)]),_:2},1032,["popover-text"])])):!t.Helpers.notUndefined(t.$options.components,"HoverPopover")&&(w.use_skills||0)==="1"?(o(),r("div",{key:1,class:"ait-flex ait-px-4 ait-py-2.5 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 hover:ait-rounded-lg ait-cursor-pointer",style:Q(t.selectedModel===w.model_id?"background:rgba(1,167,125,.3);":""),onClick:S=>{t.showDropdown=!1,t.remove(g)}},[i("div",x_,[i("div",k_,[i("div",C_,[b(u,{class:"ait-w-[16px] ait-h-[16px]",model:w},null,8,["model"]),U(" "+d(w.model_id),1)])])])],12,y_)):_("",!0)],64))),128))])):_("",!0)]),_:2},1024)]),_:2},1032,["onEnter"])]),_:1})}const Li=R(u_,[["render",$_],["__scopeId","data-v-b18a3e98"]]),L_=rt({extends:O,name:"FullScreenBotsSection",props:{mode:{type:String,default:"full"}},components:{ModelSelector:Li},data(){return{activeTab:"Agent",bots:[],loading:!1,loadingMore:!1,currentPage:1,hasMorePages:!0,scrollContainer:null,showCreateModal:!1,showDeleteModal:!1,botToDelete:null,newBot:{title:"",personalization:"",description:"",short_description:"",base_model_id:"GPT-4o Mini",share_type:"Private",icon:null},showAccessibilityDropdown:!1,isInChatMode:!1}},async mounted(){let e=new URLSearchParams(window.location.search).get("id"),a=0;if(e){await this.fetchBots(!0,e);let l=this.bots.filter(n=>n._listkey===e);if(f.notUndefined(l,"0.title"))a=1,this.openChat(f.notUndefined(l,"0"));else return}a==0&&await this.fetchBots(),this.setupScrollListener(),document.addEventListener("click",this.handleOutsideClick)},beforeUnmount(){this.removeScrollListener(),document.removeEventListener("click",this.handleOutsideClick)},methods:{async fetchBots(t=!1,e=null){t?this.loadingMore=!0:(this.loading=!0,this.currentPage=1,this.bots=[]);try{let a=[];if(e==null){let{data:n}=await yt.search(null,this.currentPage);a=n}else a=[await yt.get(e)];if(!a||a.length===0||typeof a.map!="function"){this.hasMorePages=!1;return}const l=a;t?this.bots=[...this.bots,...l]:this.bots=l,this.currentPage++}catch(a){console.error("Error fetching bots:",a)}finally{this.loading=!1,this.loadingMore=!1}},async loadSpecificBot(t){this.loading=!0;try{const e=await yt.get(t);e?(this.selected_agent=e,this.isInChatMode=!0):(console.error(`Agent with ID ${t} not found.`),await this.fetchBots(),this.setupScrollListener())}catch(e){console.error("Error loading specific bot:",e),await this.fetchBots(),this.setupScrollListener()}finally{this.loading=!1}},setupScrollListener(){this.$nextTick(()=>{const t=document.querySelector(".agents-list");t&&(this.scrollContainer=t,t.addEventListener("scroll",this.handleScroll))})},removeScrollListener(){this.scrollContainer&&(this.scrollContainer.removeEventListener("scroll",this.handleScroll),this.scrollContainer=null)},handleScroll(){if(this.loading||this.loadingMore||!this.hasMorePages)return;const t=this.scrollContainer;if(!t)return;const e=t.scrollTop+t.clientHeight,a=t.scrollHeight;e>a-100&&this.loadMoreBots()},async loadMoreBots(){this.hasMorePages&&!this.loadingMore&&await this.fetchBots(!0)},switchTab(t){this.activeTab=t},getActionIcon(t){switch(t){case"chat":return"fa-solid fa-comment-dots";case"edit":return"fa-solid fa-edit";case"delete":return"fa-solid fa-trash";default:return""}},toggleCreateModal(){this.showCreateModal=!this.showCreateModal},openDiagramEditor(t=null){const e=`${this.constants.extension_main_dir}/agent_manage.html`,a=t?`${e}?id=${t}`:`${e}`;this.constants.runtime_id!=null?this.clickOpenPage(a):window.location.href=a},resetBotForm(){this.newBot={title:"",personilation:"",description:"",short_description:"",base_model_id:"GPT-4o Mini",share_type:"Private",icon:null}},cancelCreateBot(){this.toggleCreateModal(),this.resetBotForm()},async createBot(){var t,e,a,l;try{if(!((t=this.newBot.title)!=null&&t.trim())){console.error("Bot name is required");return}const n="fa-solid fa-robot";console.log(this.newBot,"newBot");const s=await yt.set(this.newBot.title.trim(),this.newBot.base_model_id,(e=this.newBot.description)==null?void 0:e.trim(),(a=this.newBot.personalization)==null?void 0:a.trim(),this.newBot.icon,this.newBot.share_type,[],[],(l=this.newBot.short_description)==null?void 0:l.trim());this.selected_agent=s,this.changeStorage("selected_agent",s,!1),this.toggleCreateModal(),this.resetBotForm(),await this.fetchBots(),this.openChat(this.bots[0])}catch(n){console.error("Error creating bot:",n)}},autoCreateBotName(){const t=["Master translator","Writing expert","Code assistant","Financial advisor","Travel planner"];this.newBot.title=t[Math.floor(Math.random()*t.length)]},confirmDelete(t){this.botToDelete=t,this.showDeleteModal=!0},cancelDelete(){this.botToDelete=null,this.showDeleteModal=!1},async deleteBot(){if(this.botToDelete){console.log(this.botToDelete,"botToDelete");try{await yt.delete(this.botToDelete._listkey),await this.fetchBots(),this.cancelDelete()}catch(t){console.error("Error deleting bot:",t)}}},selectAccessibility(t){this.newBot.share_type=t,this.showAccessibilityDropdown=!1},handleOutsideClick(t){if(this.showAccessibilityDropdown){const e=document.querySelector(".share_type-dropdown-container");e&&!e.contains(t.target)&&(this.showAccessibilityDropdown=!1)}},openChat(t){this.changeStorage("selected_agent",t),this.selected_agent=t,this.isInChatMode=!0,this.newChat(),this.removeScrollListener()},returnToBotList(){this.isInChatMode=!1,this.selected_agent=null,this.$nextTick(()=>{this.setupScrollListener()})},openEditPage(t){this.constants.runtime_id!=null?this.clickOpenPage(`${this.constants.extension_main_dir}/agent_manage.html?id=${t}`):window.location.href=`${this.constants.extension_main_dir}/agent_manage.html?id=${t}`},triggerFileSelection(){typeof this.$refs<"u"&&typeof this.$refs.imageFileInput<"u"&&this.$refs.imageFileInput.click()},async handleFile(t){const e=t.target.files[0];await this.processFile(e),t.target.value=null},async processFile(t){if(this.inputImageFile=t,!t||!t.type.match("image.*")){this.errorMessage=this.__("Please upload a valid image file.");return}this.errorMessage="";const e=this.createPreviewImageURL(t);this.newBot.icon=e,this.uploadImageFile(t)},createPreviewImageURL(t){return URL.createObjectURL(t)},uploadImageFile(t){this.ai_wait=this.isUploadingImage=!0,this.Uploader.upload(t,41943040,["image/jpeg","image/jpg","image/png","image/svg+xml"],e=>{this.files||(this.files={});let a=f.SHA1(t.name+t.size).toString(),l=this.files[a];f.notUndefined(l,"url")&&(this.newBot.icon=f.notUndefined(l,"url")),this.files[a]=l,document.querySelector("#imageFileInput")!=null&&(document.querySelector("#imageFileInput").value=null),this.inputImageFile=null,this.ai_wait=this.isUploadingImage=!1},{type:"agent_icon",key:f.notUndefined(this.newBot,"_listkey")}),setTimeout(()=>{this.inputImageFile=null,this.ai_wait=this.isUploadingImage=!1},3e4)}}}),S_={key:0,class:"ait-header ait-flex-shrink"},M_={class:"ait-w-full ait-bg-[transparent]"},T_={class:"ait-flex ait-items-center ait-w-full ait-p-0"},H_={class:"ait-flex ait-items-center ait-justify-between ait-w-full"},A_={class:"ait-flex ait-items-center ait-justify-between"},P_={class:"ait-self-center ait-text-base ait-text-black ait-ml-2 dark:ait-text-gray-200 ait-whitespace-nowrap"},I_={class:"ait-flex ait-items-center ait-max-h-[50px]"},U_={class:"ait-flex ait-flex-col ait-h-full ait-text-[var(--ait-text-color)]"},E_={key:0,class:"ait-flex-1 ait-overflow-y-auto ait-px-1 ait-pb-4 ait-space-y-3 agents-list"},j_={key:0,class:"ait-text-center ait-py-4 ait-text-[var(--ait-text-color-secondary)]"},R_={key:1,class:"ait-text-center ait-py-4 ait-text-[var(--ait-text-color-secondary)]"},B_=["onClick"],D_={key:0,class:"ait-flex ait-items-center ait-gap-3"},O_={class:$(["ait-w-10 ait-h-10 ait-rounded-full ait-flex ait-items-center ait-justify-center ait-flex-shrink-0"])},z_={class:"ait-font-medium ait-text-sm"},V_={key:0,class:"ait-text-xs ait-text-[var(--ait-text-color-secondary)]"},F_={class:"ait-flex ait-items-center ait-gap-4 ait-text-xs"},q_={key:0,class:"ait-text-[var(--ait-text-color-secondary)] ait-flex ait-items-center ait-gap-1"},N_={key:3,class:"ait-text-center ait-py-4 ait-text-[var(--ait-text-color-secondary)] ait-flex ait-items-center ait-justify-center ait-gap-2"},Z_={key:4,class:"ait-text-center ait-py-4 ait-text-[var(--ait-text-color-secondary)]"},W_={key:5,class:"ait-text-center ait-py-4"},G_={key:1,class:"ait-flex ait-flex-col ait-h-full"},K_={class:"ait-flex-1"},Y_={key:1,class:"ait-fixed ait-inset-0 ait-z-50 ait-flex ait-items-center ait-justify-center ait-bg-black ait-bg-opacity-50"},Q_={class:"ait-bg-[var(--ait-switchbar-bg-color)] ait-rounded-lg ait-shadow-lg ait-w-full ait-max-w-md ait-mx-4 ait-flex ait-flex-col ait-max-h-[90vh]"},X_={class:"ait-flex ait-justify-between ait-items-center ait-p-5 ait-border-b ait-border-[var(--ait-border-color)]"},J_={class:"ait-text-xl ait-font-semibold"},t9={class:"ait-p-5 ait-space-y-6 ait-overflow-y-auto ait-flex-1"},e9={class:"ait-flex ait-justify-center ait-mb-6"},i9={class:"ait-relative"},a9=["title"],s9=["disabled"],o9=["title"],n9={class:"ait-flex ait-justify-between ait-mb-2"},l9={class:"ait-block ait-text-sm ait-font-medium"},r9=["placeholder"],d9={class:"ait-mt-2 ait-text-xs ait-text-[var(--ait-link-color)]"},c9={class:"ait-block ait-text-sm ait-font-medium ait-mb-2"},u9=["placeholder"],h9={class:"ait-block ait-text-sm ait-font-medium ait-mb-2"},p9=["placeholder"],g9={class:"ait-block ait-text-sm ait-font-medium ait-mb-2"},f9=["placeholder"],m9={class:"ait-block ait-text-sm ait-font-medium ait-mb-2"},_9={class:"ait-relative"},v9={class:"ait-block ait-text-sm ait-font-medium ait-mb-2"},b9={class:"ait-relative accessibility-dropdown-container"},w9={class:"ait-flex ait-items-center"},y9={key:0,class:"ait-absolute ait-z-20 ait-mt-1 ait-w-full ait-bg-white ait-divide-y ait-divide-neutral-100 ait-rounded-lg ait-shadow dark:ait-bg-neutral-900 dark:ait-divide-neutral-700"},x9={class:"ait-flex ait-gap-2 ait-items-center"},k9={class:"ait-flex ait-gap-2 ait-items-center"},C9={class:"ait-flex ait-gap-2 ait-items-center"},$9={class:"ait-flex ait-items-center ait-justify-between ait-p-5 ait-border-t ait-border-[var(--ait-border-color)]"},L9={class:"ait-flex ait-items-center ait-gap-3"},S9={key:2,class:"ait-fixed ait-inset-0 ait-z-50 ait-flex ait-items-center ait-justify-center ait-bg-black ait-bg-opacity-50"},M9={class:"ait-bg-[var(--ait-switchbar-bg-color)] ait-rounded-lg ait-shadow-lg ait-w-full ait-max-w-md ait-mx-4"},T9={class:"ait-flex ait-justify-between ait-items-center ait-p-5 ait-border-b ait-border-[var(--ait-border-color)]"},H9={class:"ait-text-xl ait-font-semibold"},A9={class:"ait-p-5 ait-space-y-6"},P9={class:"ait-flex ait-flex-col ait-items-center ait-text-center"},I9={class:"ait-text-lg ait-font-medium ait-mb-2"},U9={class:"ait-text-[var(--ait-text-color-secondary)]"},E9={class:"ait-font-semibold"},j9={class:"ait-flex ait-items-center ait-justify-between ait-p-5 ait-border-t ait-border-[var(--ait-border-color)]"},R9={class:"ait-flex ait-items-center ait-justify-end ait-w-full ait-gap-3"};function B9(t,e,a,l,n,s){var w;const u=y("AppLogo"),c=y("font-awesome-icon"),p=y("AgentLogo"),m=y("HoverPopover"),h=y("FullScreenChatSectionForAgents"),v=y("ModelSelector"),g=y("InviteFriends");return o(),r(L,null,[t.isInChatMode?_("",!0):(o(),r("div",S_,[i("nav",M_,[i("div",T_,[i("div",H_,[i("div",A_,[b(u,{name:"logo",className:"ait-w-8 ait-h-8 "}),i("div",P_,d(t.__("Agents").toFirstUpperCase()),1)]),i("div",I_,[i("button",{onClick:e[0]||(e[0]=C=>this.navigateTo("agent_marketplace")),class:"ait-flex ait-items-center ait-space-x-2 ait-bg-orange-700 hover:ait-bg-orange-500 hover:dark:ait-bg-orange-900 ait-transition-all ait-rounded-lg ait-text-[10px] ait-p-1 ait-px-2 ait-mr-1 lg:ait-text-base lg:ait-p-2 lg:ait-px-3 lg:ait-mr-2"},[b(c,{icon:"fa-solid fa-shopping-bag",class:"ait-w-3 ait-h-3 ait-mr-0.5 lg:ait-mr-2"}),U(" "+d(t.__("Market")),1)]),i("button",{onClick:e[1]||(e[1]=C=>t.openDiagramEditor()),class:"ait-flex ait-items-center ait-space-x-2 ait-bg-[var(--ait-link-color)] hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-transition-all ait-rounded-lg ait-text-[10px] ait-p-1 ait-px-2 ait-mr-1 lg:ait-text-base lg:ait-p-2 lg:ait-px-3 lg:ait-mr-2"},[b(c,{icon:"fa-solid fa-plus",class:"ait-w-3 ait-h-3 ait-mr-0.5 lg:ait-mr-2"}),U(" "+d(t.__("Create Agent")),1)])])])])])])),i("div",U_,[t.isInChatMode?(o(),r("div",G_,[i("div",K_,[b(h,{mode:this.mode,selected_agent:this.selected_agent,"return-to-bot-list":t.returnToBotList},null,8,["mode","selected_agent","return-to-bot-list"])])])):(o(),r("div",E_,[t.loading?(o(),r("div",j_,d(t.__("Loading agents...")),1)):!t.loading&&t.bots.length===0?(o(),r("div",R_,d(t.__("No agents found.")),1)):(o(!0),r(L,{key:2},B(t.bots,C=>(o(),r("div",{key:C._listkey,class:"ait-flex ait-items-center ait-justify-between ait-p-3 ait-bg-[var(--ait-secondary-bg-color)] ait-rounded-lg hover:ait-bg-[var(--ait-tab-menu-hover-bg-color)] ait-cursor-pointer",onClick:S=>t.openChat(C)},[C?(o(),r("div",D_,[i("div",O_,[C?(o(),E(p,{key:0,agent:C},null,8,["agent"])):_("",!0)]),i("div",null,[i("p",z_,d(C.title),1),C.short_description?(o(),r("p",V_,d(C.short_description),1)):_("",!0)])])):_("",!0),i("div",F_,[C.share_type?(o(),r("span",q_,[b(m,{"popover-text":t.__(C.share_type==="Market Place"?"Marketplace":C.share_type)},{default:D(()=>[b(c,{icon:C.share_type==="Private"?"fa-solid fa-lock":C.share_type==="Market Place"?"fa-solid fa-store":"fa-solid fa-globe",class:"ait-w-3 ait-h-3"},null,8,["icon"])]),_:2},1032,["popover-text"])])):_("",!0),(o(!0),r(L,null,B(C.actions,S=>(o(),E(c,{key:S,icon:t.getActionIcon(S),class:"ait-cursor-pointer hover:ait-text-[var(--ait-primary-color)] ait-w-4 ait-h-4 ait-text-[var(--ait-text-color-secondary)]",onClick:J(A=>S==="delete"?t.confirmDelete(C):S==="chat"?t.openChat(C):t.openEditPage(C._listkey),["stop"])},null,8,["icon","onClick"]))),128))])],8,B_))),128)),t.loadingMore?(o(),r("div",N_,[e[26]||(e[26]=i("div",{class:"ait-loader ait-w-4 ait-h-4 ait-border-2 ait-border-t-transparent ait-rounded-full ait-animate-spin"},null,-1)),U(" "+d(t.__("Loading more agents...")),1)])):_("",!0),!t.hasMorePages&&t.bots.length>0&&!t.loading&&!t.loadingMore?(o(),r("div",Z_,d(t.__("No more agents to load.")),1)):_("",!0),t.hasMorePages&&t.bots.length>0&&!t.loading&&!t.loadingMore?(o(),r("div",W_,[i("button",{onClick:e[2]||(e[2]=(...C)=>t.loadMoreBots&&t.loadMoreBots(...C)),class:"ait-bg-[var(--ait-option-card-bg-color)] ait-rounded-lg ait-px-6 ait-py-2 ait-text-sm hover:ait-bg-[var(--ait-tab-menu-hover-bg-color)]"},d(t.__("Load More")),1)])):_("",!0)]))]),t.showCreateModal?(o(),r("div",Y_,[i("div",Q_,[i("div",X_,[i("h3",J_,d(t.__("Create Agent")),1),i("button",{onClick:e[3]||(e[3]=(...C)=>t.toggleCreateModal&&t.toggleCreateModal(...C)),class:"ait-text-[var(--ait-text-color-secondary)] hover:ait-text-[var(--ait-text-color)]"},[b(c,{icon:"fa-solid fa-times",class:"ait-w-5 ait-h-5"})])]),i("div",t9,[i("div",e9,[i("div",i9,[i("div",{class:"ait-w-16 ait-h-16 ait-rounded-full ait-border ait-border-[var(--ait-tab-menu-active-bg-color)] ait-flex ait-items-center ait-justify-center",title:t.__("Upload icon"),onClick:e[5]||(e[5]=(...C)=>t.triggerFileSelection&&t.triggerFileSelection(...C))},[t.newBot?(o(),E(p,{key:0,agent:t.newBot},null,8,["agent"])):_("",!0),i("input",{type:"file",ref:"imageFileInput",id:"imageFileInput",onChange:e[4]||(e[4]=(...C)=>t.handleFile&&t.handleFile(...C)),disabled:t.isUploadingImage,style:{display:"none"},accept:"image/jpeg,image/png,image/svg+xml"},null,40,s9)],8,a9),i("button",{class:"ait-absolute ait-bottom-0 ait-right-0 ait-bg-[var(--ait-link-color)] ait-rounded-full ait-w-6 ait-h-6",title:t.__("Upload icon"),onClick:e[6]||(e[6]=(...C)=>t.triggerFileSelection&&t.triggerFileSelection(...C))},[b(c,{icon:"fa-solid fa-pencil",class:"ait-text-white ait-w-2 ait-h-2"})],8,o9)])]),i("div",null,[i("div",n9,[i("label",l9,d(t.__("Name")),1),i("button",{onClick:e[7]||(e[7]=(...C)=>t.autoCreateBotName&&t.autoCreateBotName(...C)),class:"ait-text-[var(--ait-link-color)] ait-text-sm ait-flex ait-items-center"},[b(c,{icon:"fa-solid fa-magic",class:"ait-w-3 ait-h-3 ait-mr-1"}),U(" "+d(t.__("Auto-create")),1)])]),F(i("input",{"onUpdate:modelValue":e[8]||(e[8]=C=>t.newBot.title=C),type:"text",placeholder:t.__("Enter the name"),class:"ait-w-full ait-bg-[var(--ait-option-card-bg-color)] ait-border ait-border-[var(--ait-border-color)] ait-rounded-lg ait-p-2.5 ait-text-sm"},null,8,r9),[[tt,t.newBot.title]]),i("div",d9,[U(d(t.__("Example:"))+" ",1),i("span",{class:"ait-cursor-pointer hover:ait-text-[var(--ait-link-color)]",onClick:e[9]||(e[9]=C=>t.newBot.title="Master translator")},d(t.__("Master translator")),1),e[27]||(e[27]=U(" | ")),i("span",{class:"ait-cursor-pointer hover:ait-text-[var(--ait-link-color)]",onClick:e[10]||(e[10]=C=>t.newBot.title="Writing expert")},d(t.__("Writing expert")),1),e[28]||(e[28]=U(" | ")),i("span",{class:"ait-cursor-pointer hover:ait-text-[var(--ait-link-color)]",onClick:e[11]||(e[11]=C=>t.newBot.title="Code assistant")},d(t.__("Code assistant")),1)])]),i("div",null,[i("label",c9,d(t.__("Prompt")),1),F(i("textarea",{"onUpdate:modelValue":e[12]||(e[12]=C=>t.newBot.personalization=C),rows:"6",placeholder:t.__("Example: You are an experienced translator with skills in multiple languages around the world. You are good at translating business scenario cases, making the translation results more formal and professional."),class:"ait-w-full ait-bg-[var(--ait-option-card-bg-color)] ait-border ait-border-[var(--ait-border-color)] ait-rounded-lg ait-p-2.5 ait-text-sm"},null,8,u9),[[tt,t.newBot.personalization]])]),i("div",null,[i("label",h9,d(t.__("Brief Description")),1),F(i("textarea",{"onUpdate:modelValue":e[13]||(e[13]=C=>t.newBot.short_description=C),rows:"3",placeholder:t.__("Description of your agent"),class:"ait-w-full ait-bg-[var(--ait-option-card-bg-color)] ait-border ait-border-[var(--ait-border-color)] ait-rounded-lg ait-p-2.5 ait-text-sm"},null,8,p9),[[tt,t.newBot.short_description]])]),i("div",null,[i("label",g9,d(t.__("Detailed Description")),1),F(i("textarea",{"onUpdate:modelValue":e[14]||(e[14]=C=>t.newBot.description=C),rows:"3",placeholder:t.__("Detailed explanation of the agent"),class:"ait-w-full ait-bg-[var(--ait-option-card-bg-color)] ait-border ait-border-[var(--ait-border-color)] ait-rounded-lg ait-p-2.5 ait-text-sm"},null,8,f9),[[tt,t.newBot.description]])]),i("div",null,[i("label",m9,d(t.__("Model")),1),i("div",_9,[b(v,{modelValue:t.newBot.base_model_id,"onUpdate:modelValue":e[15]||(e[15]=C=>t.newBot.base_model_id=C),type:"text"},null,8,["modelValue"])])]),i("div",null,[i("label",v9,d(t.__("Accessibility")),1),i("div",b9,[i("div",{onClick:e[16]||(e[16]=J(C=>t.showAccessibilityDropdown=!t.showAccessibilityDropdown,["stop"])),class:"ait-w-full ait-bg-[var(--ait-option-card-bg-color)] ait-border ait-border-[var(--ait-border-color)] ait-rounded-lg ait-p-2.5 ait-text-sm ait-flex ait-items-center ait-justify-between ait-cursor-pointer"},[i("div",w9,[b(c,{icon:t.newBot.share_type==="Private"?"fa-solid fa-lock":t.newBot.share_type==="Market Place"?"fa-solid fa-store":"fa-solid fa-globe",class:"ait-w-4 ait-h-4 ait-mr-2"},null,8,["icon"]),i("span",null,d(t.__(t.newBot.share_type)),1)]),b(c,{icon:"fa-solid fa-chevron-down",class:"ait-w-4 ait-h-4"})]),t.showAccessibilityDropdown?(o(),r("ul",y9,[i("li",{onClick:e[17]||(e[17]=C=>t.selectAccessibility("Private")),class:$(["ait-flex ait-px-4 ait-py-2.5 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 hover:ait-rounded-lg ait-cursor-pointer",{"ait-bg-opacity-30 ait-bg-[var(--ait-link-color)]":t.newBot.share_type==="Private"}])},[i("div",x9,[b(c,{icon:"fa-solid fa-lock",class:"ait-w-4 ait-h-4"}),i("span",null,d(t.__("Private")),1)])],2),i("li",{onClick:e[18]||(e[18]=C=>t.selectAccessibility("Public")),class:$(["ait-flex ait-px-4 ait-py-2.5 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 hover:ait-rounded-lg ait-cursor-pointer",{"ait-bg-opacity-30 ait-bg-[var(--ait-primary-color)]":t.newBot.share_type==="Public"}])},[i("div",k9,[b(c,{icon:"fa-solid fa-globe",class:"ait-w-4 ait-h-4"}),i("span",null,d(t.__("Public")),1)])],2),i("li",{onClick:e[19]||(e[19]=C=>t.selectAccessibility("Market Place")),class:$(["ait-flex ait-px-4 ait-py-2.5 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 hover:ait-rounded-lg ait-cursor-pointer",{"ait-bg-opacity-30 ait-bg-[var(--ait-primary-color)]":t.newBot.share_type==="Market Place"}])},[i("div",C9,[b(c,{icon:"fa-solid fa-store",class:"ait-w-4 ait-h-4"}),i("span",null,d(t.__("Marketplace")),1)])],2)])):_("",!0)])])]),i("div",$9,[i("button",{onClick:e[20]||(e[20]=C=>this.clickOpenPage(`${this.constants.extension_main_dir}/agent_manage.html`)),class:"ait-border ait-border-[var(--ait-link-color)] ait-text-[var(--ait-link-color)] ait-rounded-lg ait-px-6 ait-py-2 ait-text-sm ait-flex ait-items-center ait-gap-2"},d(t.__("Advanced Create")),1),i("div",L9,[i("button",{onClick:e[21]||(e[21]=(...C)=>t.cancelCreateBot&&t.cancelCreateBot(...C)),class:"ait-bg-[var(--ait-option-card-bg-color)] ait-rounded-lg ait-px-6 ait-py-2 ait-text-sm"},d(t.__("Cancel")),1),i("button",{onClick:e[22]||(e[22]=(...C)=>t.createBot&&t.createBot(...C)),class:"ait-bg-[var(--ait-link-color)] ait-rounded-lg ait-px-6 ait-py-2 ait-text-sm ait-text-white"},d(t.__("Create Now")),1)])])])])):_("",!0),t.showDeleteModal?(o(),r("div",S9,[i("div",M9,[i("div",T9,[i("h3",H9,d(t.__("Delete Agent")),1),i("button",{onClick:e[23]||(e[23]=(...C)=>t.cancelDelete&&t.cancelDelete(...C)),class:"ait-text-[var(--ait-text-color-secondary)] hover:ait-text-[var(--ait-text-color)]"},[b(c,{icon:"fa-solid fa-times",class:"ait-w-5 ait-h-5"})])]),i("div",A9,[i("div",P9,[b(c,{icon:"fa-solid fa-triangle-exclamation",class:"ait-text-yellow-500 ait-w-16 ait-h-16 ait-mb-4"}),i("h4",I9,d(t.__("Confirm Deletion")),1),i("p",U9,[e[29]||(e[29]=U(" Are you sure you want to delete ")),i("span",E9,d((w=t.botToDelete)==null?void 0:w.title),1),e[30]||(e[30]=U("? This action cannot be undone. "))])])]),i("div",j9,[i("div",R9,[i("button",{onClick:e[24]||(e[24]=(...C)=>t.cancelDelete&&t.cancelDelete(...C)),class:"ait-bg-[var(--ait-option-card-bg-color)] ait-rounded-lg ait-px-6 ait-py-2 ait-text-sm"},d(t.__("Cancel")),1),i("button",{onClick:e[25]||(e[25]=(...C)=>t.deleteBot&&t.deleteBot(...C)),class:"ait-bg-red-500 hover:ait-bg-red-600 ait-rounded-lg ait-px-6 ait-py-2 ait-text-sm ait-text-white"},d(t.__("Delete")),1)])])])])):_("",!0),b(g)],64)}const D9=R(L_,[["render",B9],["__scopeId","data-v-b6a78ba4"]]),O9={extends:O,data(){return{image_ai_models:{StableDiffusion:"Stable Diffusion"},selectedAIModel:"StableDiffusion"}},methods:{onEditToolsClick(){this.showEditToolUploadModal&&(this.showEditToolUploadModal=!1),localStorage.setItem("reference_edit_tool_image",null),localStorage.setItem("is_edit_modal_redirected_from_painter","1"),this.showEditToolsModal=!0},toggleImageChatSettingsSection(){const t=document.getElementById("full-screen-image-settings");if(t){if(t.classList.contains("ait-show")){t.classList.remove("ait-show"),t.classList.add("ait-hide"),this.changeSectionsRoundedValue(t);return}t.classList.contains("ait-hide")&&(t.classList.remove("ait-hide"),t.classList.add("ait-show"),this.changeSectionsRoundedValue(t))}},changeSectionsRoundedValue(t){const e=document.getElementById("ait-tab-0-image");if(!(!e&&!t)){if(t.classList.contains("ait-show")){e.classList.remove("ait-rounded-r-lg"),e.classList.add("ait-rounded-r-none");return}e.classList.remove("ait-rounded-r-none"),e.classList.add("ait-rounded-r-lg")}}}},z9={id:"ait-tab-0-image",class:"ait-flex-initial ait-w-full ait-mr-0 ait-show"},V9={class:"ait-flex ait-responsive-zoom ait-flex-row ait-justify-between"},F9={class:"ait-grid ait-grid-cols-1 lg:ait-grid-cols-2"},q9={class:"ait-flex ait-items-center"},N9={class:"ait-leading-[50px] ait-text-2xl"},Z9={class:"ait-flex ait-flex-row ait-items-center ait-justify-center"},W9={class:"max-lg:ait-hidden ait-text-white"},G9={class:"max-lg:ait-hidden ait-text-white"},K9={id:"aitopia-sidebar"},Y9={id:"ai-sidebar",class:"ait-flex ait-w-full ait-h-full ait-overflow-hidden"},Q9={class:"ait-flex ait-flex-col ait-w-full"},X9={id:"full-screen-image-settings",class:"max-lg:ait-hidden ait-flex-none ait-w-[400px]"},J9={class:"ait-rounded-l-none ait-bg-[var(--ait-option-card-bg-color)] ait-overflow-y-auto ait-ml-0 ait-h-full"};function tv(t,e,a,l,n,s){const u=y("AppLogo"),c=y("svg-logo"),p=y("SvgLogo"),m=y("Painter"),h=y("ImageChatSettings");return o(),r("div",z9,[i("div",V9,[i("div",F9,[i("div",q9,[b(u,{name:"logo",className:"ait-w-8 ait-h-8 ait-mr-2 lg:ait-hidden"}),i("h1",N9,d(t.__("Image")),1)])]),i("div",Z9,[i("button",{onClick:e[0]||(e[0]=(...v)=>s.onEditToolsClick&&s.onEditToolsClick(...v)),type:"button",style:{"border-radius":"24px !important"},class:"ait-whitespace-nowrap ait-flex ait-text-white ait-font-bold ait-py-2 ait-px-4 hover:ait-opacity-90 active:ait-opacity-80 ait-bg-[var(--ait-tab-menu-active-orange-bg-color)]"},[b(c,{name:"magic_wand"}),i("span",W9,d(t.__("Editing Tools")),1)]),i("button",{onClick:e[1]||(e[1]=v=>this.newChat(null,"ai_single",t.Helpers.SHA1("image"))),type:"button",style:{"border-radius":"24px !important"},class:"ait-whitespace-nowrap ait-flex ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white ait-font-bold ait-py-2 ait-px-4 ait-ml-2 hover:ait-opacity-90 active:ait-opacity-80"},[b(c,{class:"lg:ait-mr-1",name:"reference_image_icon"}),i("span",G9,d(t.__("New Image")),1)]),i("button",{type:"button",onClick:e[2]||(e[2]=(...v)=>s.toggleImageChatSettingsSection&&s.toggleImageChatSettingsSection(...v)),class:"ait-hidden lg:ait-block lg:ait-ml-4 svg-logo"},[b(c,{id:"image_chat_settings_icon",name:"image_chat_settings_icon"})]),i("button",{type:"button",class:"ait-ml-3 lg:ait-ml-4 svg-logo",onClick:e[3]||(e[3]=v=>this.show_history_sidebar=!0)},[b(p,{name:"history_icon",className:"ait-h-6 ait-w-6"})])])]),e[5]||(e[5]=i("div",{class:"ait-py-1 lg:ait-py-2"},[i("hr")],-1)),i("div",K9,[i("div",Y9,[i("div",Q9,[b(m,{mode:"full"})]),i("div",X9,[i("div",J9,[e[4]||(e[4]=i("div",{class:"ait-font-bold ait-text-xl ait-px-5 ait-pb-4"}," Options ",-1)),b(h,{mode:"full"})])])])])])}const ev=R(O9,[["render",tv]]),iv={extends:O,mounted(){this.changeSectionsRoundedValue()},methods:{toggleHistory(){this.showHistorySideBar=!this.showHistorySideBar,this.changeSectionsRoundedValue()},changeSectionsRoundedValue(){const t=document.getElementById("ait-tab-0-chat");t&&(this.showHistorySideBar?(t.classList.remove("ait-rounded-r-lg"),t.classList.add("ait-rounded-r-none")):(t.classList.remove("ait-rounded-r-none"),t.classList.add("ait-rounded-r-lg")))}}},av={id:"ait-tab-0-web_search",class:"ait-flex-initial ait-w-full ait-mr-0 ait-show"},sv={class:"ait-flex ait-flex-row ait-responsive-zoom ait-justify-between"},ov={class:"ait-flex"},nv={class:"ait-flex ait-items-center ait-mr-5"},lv={class:"ait-leading-[50px] ait-text-2xl"},rv={class:"ait-flex ait-items-center ait-max-h-[50px]"},dv={class:"ait-whitespace-nowrap ait-flex ait-items-center ait-space-x-2 ait-bg-transparent hover:ait-bg-[var(--ait-link-color)] ait-transition-all ait-rounded-full ait-p-1 ait-px-2"},cv={id:"aitopia-sidebar"},uv={id:"ai-sidebar",class:"ait-flex ait-w-full ait-h-full ait-overflow-hidden"},hv={class:"ait-flex ait-flex-col ait-w-full"};function pv(t,e,a,l,n,s){const u=y("AppLogo"),c=y("InnerContentView");return o(),r("div",av,[i("div",sv,[i("div",ov,[i("div",nv,[b(u,{name:"logo",className:"ait-w-8 ait-h-8 ait-mr-2 lg:ait-hidden"}),i("h1",lv,d(t.__("Search")),1)])]),i("div",rv,[i("button",dv,[e[1]||(e[1]=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hide":"true",class:"ait-w-4 ait-h-4 dark:ait-text-gray-200"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)),i("span",{class:"ait-text-sm dark:ait-text-gray-200",onClick:e[0]||(e[0]=p=>this.newChat())},d(t.__("New Conversation")),1)])])]),e[2]||(e[2]=i("div",{class:"ait-py-1 lg:ait-py-2"},[i("hr")],-1)),i("div",cv,[i("div",uv,[i("div",hv,[b(c,{mode:"full",headerMode:"search",needUpgrade:this.storage.Local.plan=="Free"},null,8,["needUpgrade"])])])])])}const gv=R(iv,[["render",pv]]),fv={extends:O,mounted(){this.changeSectionsRoundedValue()},props:{showUploadAPdf:{type:Boolean,default:!0},showReadPage:{type:Boolean,default:!0},uploadAnImage:{type:Boolean,default:!0},showSuggestions:{type:Boolean,default:!0}},methods:{changeSectionsRoundedValue(){const t=document.getElementById("ait-tab-0-chat");t&&(this.showHistorySideBar?(t.classList.remove("ait-rounded-l-lg"),t.classList.remove("lg:ait-rounded-r-lg"),t.classList.add("ait-rounded-r-none")):(t.classList.remove("ait-rounded-r-none"),t.classList.add("ait-rounded-l-lg"),t.classList.add("lg:ait-rounded-r-lg")))},newConversationHandler(){this.newChat(null,"ai_single",f.SHA1("chat_with_file")),this.ai_single[f.SHA1("chat_with_file")]=[],f.Browser().storage.local.set({ai_single:this.ai_single})}}},mv={id:"ait-tab-0-chat",class:"ait-flex-initial ait-w-full ait-mr-0 ait-show"},_v={class:"ait-flex ait-flex-row ait-responsive-zoom ait-justify-between"},vv={class:"ait-flex"},bv={class:"ait-flex ait-items-center ait-mr-5"},wv={class:"ait-self-center ait-text-base ait-text-black ait-ml-2 dark:ait-text-gray-200 ait-whitespace-nowrap"},yv={class:"ait-flex ait-items-center ait-max-h-[50px]"},xv={class:"ait-whitespace-nowrap ait-flex ait-items-center ait-space-x-2 ait-bg-transparent hover:ait-bg-[var(--ait-link-color)] ait-transition-all ait-rounded-full ait-p-1 ait-px-2"},kv={id:"aitopia-sidebar"},Cv={id:"ai-sidebar",class:"ait-flex ait-w-full ait-h-full ait-overflow-hidden"},$v={class:"ait-flex ait-flex-col ait-w-full"};function Lv(t,e,a,l,n,s){const u=y("AppLogo"),c=y("ChatWithFileInnerContentView");return o(),r("div",mv,[i("div",_v,[i("div",vv,[i("div",bv,[b(u,{name:"logo",className:"ait-w-8 ait-h-8 ait-mr-2"}),i("div",wv,d(t.__("Chat With File")),1)])]),i("div",yv,[i("button",xv,[e[1]||(e[1]=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hide":"true",class:"ait-w-4 ait-h-4 dark:ait-text-gray-200"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)),i("span",{class:"ait-text-sm dark:ait-text-gray-200 ait-whitespace-nowrap",onClick:e[0]||(e[0]=(...p)=>s.newConversationHandler&&s.newConversationHandler(...p))},d(t.__("New Conversation")),1)])])]),e[2]||(e[2]=i("div",{class:"ait-py-1 lg:ait-py-2"},[i("hr")],-1)),i("div",kv,[i("div",Cv,[i("div",$v,[b(c,{mode:"full",showUploadAPdf:a.showUploadAPdf,showReadPage:a.showReadPage,uploadAnImage:a.uploadAnImage,showSuggestions:a.showSuggestions},null,8,["showUploadAPdf","showReadPage","uploadAnImage","showSuggestions"])])])])])}const Sv=R(fv,[["render",Lv]]),Mv={components:{GroupChatModels:Ie},extends:O,props:{showSuggestions:{type:Boolean,default:!0},uploadAnImage:{type:Boolean,default:!0},showReadPage:{type:Boolean,default:!0},showUploadAPdf:{type:Boolean,default:!0},headerMode:{type:String},needUpgrade:{type:Boolean,default:!1},mode:{type:String}},mounted(){document.addEventListener("click",this.handleClickOutside),Rt.on("send_message_chat_with_file",()=>{this.sendMessageHandler()})},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)},data(){return{showOptionsDropdown:!1,pageContext:null}},computed:{summaryText(){if(this.ai_single&&typeof this.ai_single.fileAnalysis<"u"){const e=Object.values(this.ai_single.fileAnalysis)[1].item.match(/##SUMMARY_START##(.*?)##SUMMARY_END##/);return e?e[1].trim():this.__("Summary not found")}return this.__("Summary not found")},relatedQuestions(){if(this.ai_single&&typeof this.ai_single.fileAnalysis<"u"){const t=Object.values(this.ai_single.fileAnalysis)[1].item,e=[],a=/##SUGGESTION_START##(.*?)##SUGGESTION_END##/g;let l;for(;(l=a.exec(t))!==null;)e.push(l[1].trim());return e}return[]}},methods:{handleClickOutside(t){const e=document.querySelector(".page-options-dropdown"),a=document.querySelector(".page-options-button");e&&a&&!e.contains(t.target)&&!a.contains(t.target)&&(this.showOptionsDropdown=!1)},screenCalcFixer(t){document.querySelector(".ait-selection-prompts .ait-panel-calc")},sendMessageHandler(){if(this.ai_ask==null||this.ai_ask.length==0)return"";this.aiChat(this.ai_ask,this.settings.ai_model,"ai_single",f.SHA1("chat_with_file"),!1,!0),this.ai_ask=null,this.ai_selection=""},suggestionHandler(t){this.ai_ask=t,this.sendMessageHandler()}}},Tv={class:"ait-flex-shrink-0 ait-sticky ait-top-0 ait-z-10"},Hv={class:"ait-self-center ait-text-base ait-font-medium ait-text-black dark:ait-text-gray-200 ait-whitespace-nowrap ait-mt-2 ait-mb-2"},Av={key:0,class:"ait-ml-2 ait-pb-3"},Pv={class:"ait-w-full"},Iv={class:"ait-flex ait-flex-col ait-space-y-3"},Uv={id:"aitopia-example",class:"ait-border-b-1"},Ev={class:"ait-self-center ait-text-base ait-text-black dark:ait-text-gray-200 ait-whitespace-nowrap ait-mt-2 ait-mb-2"},jv={key:0,class:"ait-p-1"},Rv=["onClick"],Bv={class:"ait-px-3 ait-pt-3 ait-flex-shrink-0"},Dv={class:"ait-flex ait-relative ait-w-full ait-items-center ait-justify-start ait-my-3 ait-grid ait-grid-cols-5 lg:ait-grid-none lg:grid-cols-2"},Ov={class:"ait-flex ait-w-full ait-gap-3 ait-items-center ait-col-span-5 lg:ait-col-span-none"},zv=["readonly","placeholder"],Vv={class:"ait-flex ait-w-full ait-justify-between ait-items-center ait-gap-2 ait-p-0.5"},Fv={class:"ait-flex ait-gap-4"},qv={key:1,class:"ait-flex ait-justify-center ait-w-full lg:ait-max-w-lg ait-mx-auto ait-px-4 ait-h-[var(--ait-height-100)] ait-items-center"},Nv={class:"ait-border-[1px] ait-border-neutral-300 ait-rounded-md ait-flex ait-flex-col ait-items-center ait-gap-8 ait-text-center ait-p-4"},Zv={class:"ait-px-4 ait-text-sm ait-text-neutral-600 dark:ait-text-neutral-400"},Wv={class:"aitopia-pricing ait-cursor-pointer ait-w-full ait-font-semibold ait-text-white ait-text-sm ait-py-2 ait-rounded-md ait-flex ait-items-center ait-gap-2 ait-justify-center ait-bg-[var(--ait-link-color)] hover:ait-opacity-80 ait-transition-all"};function Gv(t,e,a,l,n,s){const u=y("UpgradePlanModal"),c=y("ChatWithFileAiResponse"),p=y("ChooseModel"),m=y("Credit"),h=y("ChatToolbar"),v=y("VisionImagePreview"),g=y("GroupChatModels"),w=y("font-awesome-icon"),C=y("HoverPopover"),S=y("make-a-review");return o(),r(L,null,[b(u),e[6]||(e[6]=i("button",{"data-ait-dropdown-toggle":"ait-upgrade-plan-modal",id:"ait-toggle-upgrade-button",class:"ait-hidden"},null,-1)),i("div",{id:"ai-sidebar-content",class:$(`${a.mode==="full"&&"ait-h-full"} ait-flex ait-flex-col ait-overflow-hidden`)},[i("div",{class:$([`${a.mode==="full"?"ait-h-full":"ait-h-screen"}`,"ait-flex ait-flex-col ait-overflow-hidden"])},[a.needUpgrade?(o(),r("div",qv,[i("div",Nv,[i("p",Zv,d(t.__("The data of AITOPIA isn't real-time. WebAccess Feature combines the intelligence of AITOPIA with realtime web information, allowing GPT to handle real-time information-related questions more effectively. Upgrade to gain this feature, and worry no more about outdated information!")),1),i("button",Wv,d(t.__("Upgrade Now")),1)])])):(o(),r(L,{key:0},[i("div",Tv,[i("div",Hv,d(t.__("Summary")),1),s.summaryText?(o(),r("div",Av,d(s.summaryText),1)):_("",!0)]),i("div",{id:"ai-message-container",class:$(["ait-flex ait-relative ait-flex-grow ait-w-full ait-overflow-y-auto ait-overflow-x-hidden",{generating:this.ai_wait}])},[i("div",Pv,[i("div",Iv,[i("div",Uv,[i("div",Ev,d(t.__("Related Questions")),1),(o(!0),r(L,null,B(s.relatedQuestions,(A,x)=>{var I;return o(),r(L,{key:A},[((I=s.relatedQuestions)==null?void 0:I.length)>0?(o(),r("div",jv,[i("div",{class:"ait-text-xs ait-text-[var(--ait-link-color)] hover:ait-underline ait-cursor-pointer ait-flex ait-items-center ait-gap-1 ait-ml-2",onClick:Y=>s.suggestionHandler(A)},d(A),9,Rv)])):_("",!0)],64)}),128))]),b(c)])])],2),i("div",Bv,[i("div",Dv,[i("div",Ov,[b(p),b(m),b(h,{mode:a.mode,showUploadAPdf:a.showUploadAPdf,showReadPage:a.showReadPage,uploadAnImage:a.uploadAnImage},null,8,["mode","showUploadAPdf","showReadPage","uploadAnImage"]),(o(),E(gi,null,[(o(),E(pi("PDFUpload")))],1024))])]),i("div",{class:$(`ait-flex ait-flex-col ait-relative ait-items-end ait-p-1 ait-space-x-1 ait-border ait-rounded-xl ${this.ai_image_url?"ait-h-[210px] ait-flex-col ait-items-start ait-justify-start":n.pageContext?"ait-h-[200px]":"ait-h-[140px]"}`)},[b(v),b(g),F(i("textarea",{readonly:this.ai_wait??!1,"onUpdate:modelValue":e[0]||(e[0]=A=>t.ai_ask=A),name:"ask",onChange:e[1]||(e[1]=A=>this.ai_ask=A.target.value),class:"ait-selection-container ait-ai-text-item ait-relative ait-w-full ait-h-full ait-p-1 ait-border-0 focus:ait-border-0 focus:ait-shadow-none ait-outline-none ait-resize-none dark:ait-bg-neutral-700 dark:ait-text-neutral-200",id:"ask",rows:"4",placeholder:t.__("Ask me anything...")},null,40,zv),[[tt,t.ai_ask]]),i("div",Vv,[e[5]||(e[5]=i("div",{class:"ait-flex ait-gap-1.5 ait-ml-1.5"},null,-1)),i("div",Fv,[this.speech_record?(o(),E(C,{key:1,"popover-text":t.__("Stop Voice")},{default:D(()=>[i("div",{onClick:e[3]||(e[3]=A=>t.speechToText("stop"))},[b(w,{icon:"fa-solid fa-microphone-slash",class:"ait-w-5 ait-h-5 ait-opacity-70 ait-cursor-pointer light:ait-invert"})])]),_:1},8,["popover-text"])):(o(),E(C,{key:0,"popover-text":t.__("Voice Input")},{default:D(()=>[i("div",{onClick:e[2]||(e[2]=A=>t.speechToText())},[b(w,{icon:"fa-solid fa-microphone",class:"ait-w-5 ait-h-5 ait-opacity-70 ait-cursor-pointer light:ait-invert"})])]),_:1},8,["popover-text"])),b(C,{"popover-text":t.__("Send")},{default:D(()=>[i("img",{onClick:e[4]||(e[4]=(...A)=>s.sendMessageHandler&&s.sendMessageHandler(...A)),style:Q(this.ai_ask==null||this.ai_ask.length==0?"filter: invert(0.5)!important;":""),src:Bt,class:"ait-w-5 ait-h-5 ait-opacity-80 ait-cursor-pointer dark:ait-invert"},null,4)]),_:1},8,["popover-text"])])])],2)])],64))],2)],2),a.mode!=="full"?(o(),E(S,{key:0})):_("",!0)],64)}const Kv=R(Mv,[["render",Gv]]),Yv={extends:O},Qv={id:"ait-user-dropdown",class:$("ait-stroke ait-z-20 ait-width-full ait-hide ait-w-max ait-min-w-[180px] ait-max-w-[250px] ait-bg-white ait-divide-y ait-divide-neutral-100 ait-rounded-lg ait-shadow dark:ait-bg-neutral-900 dark:ait-divide-neutral-700 ")},Xv={class:"ait-p-2 ait-flex ait-flex-col ait-gap-2 ait-min-w-[240px]"},Jv={class:"ait-flex ait-cursor-pointer ait-h-8 ait-w-8 ait-flex-center ait-justify-center ait-items-center"},tb={class:"ait-relative ait-flex-shrink-0"},eb={class:"ait-flex ait-items-center"},ib={key:0,class:"ait-text-sm ait-leading-5 ait-truncate ait-w-full"},ab={key:1,class:"ait-text-sm ait-leading-5 ait-truncate ait-w-full ait-text-white aitopia-login-prefix"},sb={key:0,class:"ait-text-xs ait-text-[var(--ait-tab-menu-active-bg-color)] ait-mt-1"},ob={key:0,type:"button",class:"ait-text-white ait-bg-green-700 hover:ait-opacity-90 focus:ait-outline-none focus:ait-ring-4 ait-text-[11px] focus:ait-ring-green-300 ait-rounded-full ait-px-3 ait-py-0.5 ait-text-center ait-ml-2 ait-mr-1 dark:ait-bg-green-600 dark:hover:ait-bg-green-700 dark:focus:ait-ring-green-800 aitopia-pricing"},nb={key:0,"data-ait-dropdown-toggle":"ait-invite-friends",class:"ait-hidden ait-p-3 ait-mb-2 ait-rounded-lg ait-bg-cover ait-items-center ait-justify-center ait-bg-no-repeat lg:ait-grid ait-grid-flow-col ait-content-center ait-gap-[5px] ait-text-xs ait-leading-4 ait-align-middle ait-cursor-pointer hover:ait-opacity-90 active:ait-opacity-80 ait-text-white ait-bg-gradient-to-r ait-from-[#01a77d] ait-to-[#60a5fa]",style:{"grid-auto-columns":"minmax(min-content, max-content)","text-shadow":"rgba(0, 0, 0, 0.3) 1px 1px 1px"}},lb={class:"ait-hidden ait-text-white lg:ait-flex ait-align-text-bottom ait-text-xs"},rb={key:1,class:"ait-flex ait-flex-align ait-gap-3 hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-rounded-lg ait-py-2 ait-px-3 ait-cursor-pointer aitopia-profile"},db={class:"ait-size-[16px] ait-flex-center ait-items-center"},cb={key:2,class:"ait-flex ait-flex-align ait-gap-3 hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-rounded-lg ait-py-2 ait-px-3 ait-cursor-pointer aitopia-subscription"},ub={class:"ait-size-[16px] ait-flex-center ait-items-center"},hb={class:"ait-flex ait-flex-align ait-gap-3 hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-rounded-lg ait-py-2 ait-px-3 ait-cursor-pointer aitopia-contact"},pb={class:"ait-size-[16px] ait-flex-center ait-items-center"},gb={key:3,class:"ait-h-[1px] ait-mx-[10px] ait-bg-[var(--ait-sidebar-border-color)] ait-my-[10px]"},fb={class:"ait-size-[16px] ait-flex-center ait-items-center"};function mb(t,e,a,l,n,s){const u=y("font-awesome-icon"),c=y("svg-logo");return o(),r("div",Qv,[i("div",Xv,[i("div",{class:$("ait-flex ait-items-center ait-cursor-pointer ait-rounded-lg "+(this.user.email?"":"ait-text-white ait-bg-green-700 hover:ait-opacity-90 ait-px-3 ait-py-1 ait-text-center dark:ait-bg-green-600 dark:hover:ait-bg-green-700"))},[i("div",Jv,[i("div",tb,[b(u,{icon:"fa-solid fa-user",class:"ait-h-4 ait-w-4"})])]),i("div",{class:$("ait-flex ait-flex-col ait-ml-1 "+(this.user.email?"":"aitopia-login-prefix"))},[i("div",eb,[this.user.email?(o(),r("div",ib,d(this.user.email),1)):(o(),r("div",ab,d(t.__("Log in as a user")),1))]),this.user.email?(o(),r("div",sb,[U(d(this.storage.Local.plan)+" ",1),this.storage.Local.plan!="Premium"?(o(),r("button",ob,d(t.__("Upgrade")),1)):_("",!0)])):_("",!0)],2)],2),i("div",null,[this.user.email&&(this.constants.manuel_extension_id==this.constants.extension_id||this.constants.extension_id==null)?(o(),r("div",nb,[b(c,{className:"ait-w-5 ait-h-5",name:"gift_white_icon"}),i("p",lb,d(t.__("Friends & Earn Credits")),1)])):_("",!0),this.user.email?(o(),r("div",rb,[i("div",db,[b(u,{icon:"far fa-user",class:"ait-h-4 ait-w-4"})]),i("div",null,d(t.__("My Account")),1)])):_("",!0),this.user.email?(o(),r("div",cb,[i("div",ub,[b(c,{className:"ait-w-4 ait-h-4",name:"plan_icon"})]),i("div",null,d(t.__("My Package")),1)])):_("",!0),i("div",hb,[i("div",pb,[b(u,{icon:"far fa-envelope",class:"ait-h-4 ait-w-4"})]),i("div",null,d(t.__("Feedback")),1)]),this.user.email?(o(),r("div",gb)):_("",!0),this.user.email?(o(),r("div",{key:4,onClick:e[0]||(e[0]=p=>t.Helpers.logout()),class:"ait-flex ait-flex-align ait-gap-3 hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-rounded-lg ait-py-2 ait-px-3 ait-cursor-pointer"},[i("div",fb,[b(u,{icon:"fa-solid fa-arrow-right-from-bracket",class:"ait-h-4 ait-w-4"})]),i("div",null,d(t.__("Log out")),1)])):_("",!0)])])])}const Si=R(Yv,[["render",mb]]),_b=rt({components:{UserDropdown:Si},extends:O,name:"UserInfoSection",data(){return{queryTitle:null}},methods:{getQueryTitle(){return this.queryTitle="Queries"},checkEmailLength(t){return t&&t.length>18?`${t.substring(0,18)}...`:t},getCreditSelect(){if(!this.credit_model)return{balance:"",credit:"0",extra_credit:"0"};let t=f.notUndefined(this.credit_model,"model_id")??this.credit_model;return f.notUndefined(this.credit_details,`${t.replace(/\./g,"###")}`)}}}),vb={key:0,"data-ait-dropdown-toggle":"ait-invite-friends",class:"ait-hidden ait-p-3 ait-rounded-lg ait-mx-1 ait-bg-cover ait-items-center ait-justify-center ait-bg-no-repeat lg:ait-grid ait-grid-flow-col ait-content-center ait-gap-[5px] ait-text-xs ait-leading-4 ait-align-middle ait-cursor-pointer hover:ait-opacity-90 active:ait-opacity-80 ait-text-white ait-bg-gradient-to-r ait-from-[#01a77d] ait-to-[#60a5fa]",style:{"grid-auto-columns":"minmax(min-content, max-content)","text-shadow":"rgba(0, 0, 0, 0.3) 1px 1px 1px"}},bb={class:"ait-hidden ait-text-white lg:ait-flex ait-align-text-bottom ait-text-xs"},wb={class:"ait-hidden lg:ait-block ait-w-full ait-py-5 ait-px-2 ait-mb-4 ait-bg-[var(--ait-option-card-bg-color)] ait-mx-auto"},yb={class:"ait-block dark:ait-text-white ait-text-sm ait-font-medium ait-mb-4"},xb={class:"ait-flex ait-flex-col"},kb={class:"ait-flex ait-flex-row ait-justify-between"},Cb={class:"ait-block dark:ait-text-white ait-text-xs ait-font-small ait-mb-2"},$b={class:"ait-block dark:ait-text-white ait-text-xs ait-font-small ait-mb-2"},Lb={class:"ait-w-full"},Sb={class:"ait-w-full ait-bg-gray-200 ait-rounded-full ait-h-2.5 ait-mb-4 dark:ait-bg-gray-700"},Mb={class:"ait-flex ait-flex-row ait-justify-between"},Tb={class:"ait-block dark:ait-text-white ait-text-xs ait-font-small ait-mb-2"},Hb={class:"ait-block dark:ait-text-white ait-text-xs ait-font-small ait-mb-2"},Ab={class:"ait-w-full"},Pb={class:"ait-w-full ait-bg-gray-200 ait-rounded-full ait-h-2.5 ait-mb-4 dark:ait-bg-gray-700"},Ib={title:"Go premium to get more",type:"button",class:"aitopia-pricing ait-relative ait-my-2 ait-h-8 ait-w-full ait-text-white ait-border-none ait-rounded-full ait-text-wrap ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 active:ait-opacity-80"},Ub={class:"relative ait-text-sm ait-text-white"},Eb={class:"ait-flex ait-flex-row ait-justify-between ait-mt-3"},jb={class:"ait-cursor-pointer ait-flex ait-flex-row aitopia-login"},Rb={class:"ait-flex ait-cursor-pointer"},Bb={class:"ait-switchbar-tab-item ait-rounded-lg ait-cursor-pointer arc-edge aitopia-options ait-ml-1"},Db={class:"ait-cursor-pointer ait-flex ait-flex-row"},Ob={class:"ait-flex ait-ml-2"},zb={class:"bottom-area ait-show lg:ait-hidden lg:ait-mt-auto ait-flex ait-flex-col ait-justify-center ait-items-center ait-gap-3 ait-mb-[10px] lg:ait-mb-[14px] lg:ait-mb-[4px]"},Vb={class:"ait-cursor-pointer ait-flex ait-flex-row"},Fb={key:1,class:"ait-flex ait-flex-col ait-gap-1 ait-cursor-pointer"},qb={class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-items-center ait-flex ait-flex-col ait-cursor-pointer","data-ait-dropdown-toggle":"ait-invite-friends"},Nb={class:"ait-cursor-pointer ait-text-center ait-text-balance",style:{"font-size":"10px"}},Zb={class:"ait-flex ait-flex-col ait-gap-1 ait-cursor-pointer ait-w-full aitopia-contact"},Wb={class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-min-h-[40px] ait-justify-center ait-items-center ait-flex ait-flex-col ait-cursor-pointer"},Gb={class:"ait-flex ait-flex-col ait-gap-1 ait-cursor-pointer ait-w-full aitopia-options"},Kb={class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-min-h-[40px] ait-justify-center ait-items-center ait-flex ait-flex-col ait-cursor-pointer"},Yb={class:"ait-flex ait-flex-col ait-gap-1 ait-w-full ait-cursor-pointer"};function Qb(t,e,a,l,n,s){const u=y("svg-logo"),c=y("font-awesome-icon"),p=y("UserDropdown");return o(),r(L,null,[this.constants.manuel_extension_id==this.constants.extension_id||this.constants.extension_id==null?(o(),r("div",vb,[b(u,{className:"ait-w-5 ait-h-5",name:"gift_white_icon"}),i("p",bb,d(t.__("Friends & Earn Credits")),1)])):_("",!0),i("div",wb,[i("label",yb,d(t.__(this.getQueryTitle())),1),i("div",xb,[i("div",kb,[i("label",Cb,d(t.__("Plan: ")),1),i("label",$b,d(t.Helpers.notUndefined(this.getCreditSelect(),"balance")>=0?t.Helpers.notUndefined(this.getCreditSelect(),"credit"):"")+" "+d(t.__("left")),1)]),i("div",Lb,[i("div",Sb,[i("div",{class:"ait-bg-green-600 ait-h-2.5 ait-rounded-full dark:ait-bg-green-500",style:Q(`max-width:100%;transition: width 2s;width:${t.Helpers.notUndefined(this.getCreditSelect(),"balance")/t.Helpers.notUndefined(this.getCreditSelect(),"credit")*100}%`)},null,4)])]),i("div",Mb,[i("label",Tb,d(t.__("Extra: ")),1),i("label",Hb,d(t.Helpers.notUndefined(this.getCreditSelect(),"extra_credit")+" "+t.__("left")),1)]),i("div",Ab,[i("div",Pb,[i("div",{class:"ait-bg-green-600 ait-h-2.5 ait-rounded-full dark:ait-bg-green-500",style:Q(`max-width:100%;transition: width 2s;width:${t.Helpers.notUndefined(this.getCreditSelect(),"extra_credit")/100*100}%`)},null,4)])])]),i("button",Ib,[i("div",Ub,d(t.__("Upgrade Plan")),1)]),i("div",Eb,[i("div",jb,[b(c,{icon:"fa-solid fa-user",class:"ait-h-4 ait-w-4 ait-mr-1 ait-cursor-pointer"}),i("label",Rb,d(t.checkEmailLength(this.email)),1)]),i("div",Bb,[b(c,{icon:"fa-solid fa-gear",class:"ait-h-4 ait-w-4"})])]),this.constants.runtime_id!=null?(o(),r("div",{key:0,class:"ait-flex ait-flex-row ait-justify-between ait-mt-5",onClick:e[0]||(e[0]=m=>t.Helpers.openPage({url:`${this.constants.extension_main_dir}/setup.html?side-bar-option=true`}))},[i("div",Db,[b(u,{className:"ait-w-4.5 ait-h-4.5",name:"collapse_sidebar_icon"}),i("label",Ob,d(t.__("Back to Sidebar")),1)])])):_("",!0)]),i("div",zb,[this.constants.runtime_id!=null?(o(),r("div",{key:0,class:"ait-flex ait-flex-row ait-justify-between ait-mt-5",onClick:e[1]||(e[1]=m=>t.Helpers.openPage({url:`${this.constants.extension_main_dir}/setup.html?side-bar-option=true`}))},[i("div",Vb,[b(u,{className:"ait-w-4.5 ait-h-4.5",name:"collapse_sidebar_icon"})])])):_("",!0),this.constants.manuel_extension_id==this.constants.extension_id||this.constants.extension_id==null?(o(),r("div",Fb,[i("div",qb,[b(u,{className:"ait-w-4 ait-h-4",name:"gift_icon"}),i("label",Nb,d(t.__(`Invite &
          Earn`)),1)])])):_("",!0),i("div",Zb,[i("div",Wb,[b(c,{icon:"fa-solid fa-envelope",class:"ait-h-4 ait-w-4"})])]),i("div",Gb,[i("div",Kb,[b(c,{icon:"fa-solid fa-gear",class:"ait-h-4 ait-w-4"})])]),i("div",Yb,[i("div",{"data-ait-dropdown-toggle":"ait-user-dropdown","data-placement":"top-end",onClick:e[2]||(e[2]=m=>t.Helpers.uuid()),class:"ait-switchbar-tab-item ait-rounded-lg ait-p-1 ait-cursor-pointer ait-items-center ait-flex ait-flex-col ait-min-h-[36px] ait-justify-center"},[b(c,{icon:"fa-solid fa-user",class:"ait-h-4 ait-w-4"})])])]),b(p)],64)}const Xb=R(_b,[["render",Qb]]),Jb={extends:O,async beforeMount(){return await f.getHistories(!0)},data(){return{history_search:null,showHistorySideBar:!1,cleanChatItem:t=>{if(!t)return"";if(typeof t=="string"&&t.trim().startsWith("{")&&t.trim().endsWith("}"))try{const e=JSON.parse(t);if(e&&typeof e=="object"&&"context"in e)return""}catch{}return t},getHistoryElement:t=>((t=="chat"||t=="search")&&(t="ai_chat"),this.histories==null?{}:typeof this.histories[t]>"u"?{}:t=="agent"?this.selected_agent==null?{}:typeof this.histories[t][this.selected_agent._listkey]>"u"?{}:this.histories[t][this.selected_agent._listkey]:this.histories[t]),setHistory:async(t,e)=>{(t=="chat"||t=="search")&&(t="ai_chat");let a=null;if(this.histories[t]){if(typeof this.histories[t][e]<"u"&&(a=this.histories[t][e].id,typeof this.histories[t][e].items>"u")){let n=await f.apiCall("/extensions/app/get_history",{chat_id:a,mode:f.SHA1(t)},"POST");this.histories[t][e]=f.notUndefined(n,"all_histories")??{},this.histories=f.getHistoryFixer(this.histories)}if(t=="ai_chat")this[t]=this.histories[t][e].items,this.ai_chat_ids[t]=this.histories[t][e].id;else if(t=="agent"){let n=f.notUndefined(this.selected_agent,"id")??null;n!=null&&(this.ai_chat=this.histories[t][n][e].items,this.ai_chat_ids.ai_chat=this.histories[t][n][e].id,console.log(this.ai_chat),console.log(await f.Browser().storage.local.get()),t="ai_chat")}else{let n=f.SHA1(t);if(n===f.SHA1("chat_with_file")||n==="chat_with_file")return;typeof this.ai_single>"u"&&(this.ai_single={}),this.ai_single||(this.ai_single={}),this.ai_single[n]=this.histories[t][e].items,typeof this.ai_chat_ids.ai_single>"u"&&(this.ai_chat_ids.ai_single={}),this.ai_chat_ids.ai_single||(this.ai_chat_ids.ai_single={}),this.ai_chat_ids.ai_single[n]=this.histories[t][e].id}if(!this.ai_chat_ids||Object.keys(this.ai_chat_ids).length==0)return;let l={ai_chat_ids:this.ai_chat_ids};t=="ai_chat"?l.ai_chat=this.ai_chat:l.ai_single=this.ai_single,console.log(l),await f.Browser().storage.local.set(l).then(()=>{this.show_history_sidebar=!1,document.querySelector("#full-screen-history-sidebar")!==null&&document.querySelector("#full-screen-history-sidebar").classList.replace("ait-show","ait-hide")})}setTimeout(f.scrollToBottom,50)},removeHistory:(t,e,a)=>{(t=="chat"||t=="search")&&(t="ai_chat"),!(typeof this.histories[t]>"u")&&(typeof this.histories[t][e]>"u"||(delete this.histories[t][e],f.apiCall("/extensions/app/remove_history",{history_id:a},"POST"),f.Browser().storage.local.set({histories:this.histories}),this.constants.debugMode&&console.log(a)))},selectedHistory:t=>{let e=null,a=this.settings.switchbar;return(a=="chat"||a=="search")&&(a="ai_chat"),a=="ai_chat"?e=this.ai_chat_ids[a]??null:a=="agent"?e=this.ai_chat_ids[a]??null:e=f.notUndefined(this.ai_chat_ids,"ai_single."+f.SHA1(a))??null,t==e}}}},tw={key:0,class:"ait-fixed ait-top-0 ait-left-0 ait-w-full ait-h-[var(--ait-height-100)] ait-bg-[rgba(0,0,0,0.4)]"},ew={class:"ait-slider-modal ait-flex-none ait-w-full md:ait-w-[400px] ait-max-w-full ait-h-[var(--ait-height-100)] ait-float-right ait-mb-5"},iw={class:"ait-w-full md:ait-w-[400px] ait-max-w-full ait-bg-[var(--ait-option-card-bg-color)] ait-h-full ait-ml-0 ait-rounded-l-none"},aw={class:"ait-logo ait-flex ait-w-full ait-py-2 ait-border-bottom ait-border-neutral-900"},sw={class:"ait-relative ait-w-full ait-logo-text ait-items-center ait-grid ait-grid-cols-6 ait-px-4"},ow={class:"ait-font-bold ait-text-base ait-col-span-5 ait-pt-2 ait-mb-1"},nw={class:"ait-p-4"},lw={class:"ait-search ait-relative ait-w-full"},rw={class:"ait-absolute ait-top-[6px] ait-left-[10px]"},dw={key:0,class:"ait-pb-6 ait-px-4 ait-flex ait-h-[98%] ait-justify-center ait-items-center"},cw={class:"ait-flex ait-flex-col"},uw=["src"],hw={key:1,class:"ait-pb-6 ait-px-1 ait-flex ait-h-[86%] lg:ait-h-[96%] ait-flex-col ait-overflow-y-auto"},pw=["onClick","data-id"],gw={class:"ait-col-span-4 ait-pr-1 ait-leading-6 ait-font-bold ait-truncate"},fw={class:"ait-text-[10px] ait-leading-6 ait-text-neutral-400 dark:ait-text-neutral-600 ait-truncate"},mw={class:"ait-col-span-5 ait-leading-6 ait-text-xs ait-text-neutral-400 dark:ait-text-neutral-400 ait-truncate"},_w=["onClick"];function vw(t,e,a,l,n,s){const u=y("font-awesome-icon");return this.show_history_sidebar?(o(),r("div",tw,[i("div",ew,[i("div",iw,[i("div",aw,[i("div",sw,[i("div",ow," History ("+d(Object.keys(t.Helpers.getSearchFilter(this.getHistoryElement(this.settings.switchbar),this.history_search)??{}).length)+") ",1),i("button",{type:"button",class:"ait-absolute ait-right-3 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white",onClick:e[0]||(e[0]=c=>this.show_history_sidebar=!1)},e[2]||(e[2]=[i("svg",{class:"ait-w-3 ait-h-3","aria-hide":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)]))])]),e[4]||(e[4]=i("div",{class:"ait-py-1"},[i("hr")],-1)),i("div",nw,[i("div",lw,[i("div",rw,[b(u,{icon:"fa-solid fa-magnifying-glass",class:"ait-h-5 ait-w-5"})]),F(i("input",{"onUpdate:modelValue":e[1]||(e[1]=c=>this.history_search=c),type:"text",class:"ait-block ait-w-full ait-p-2 ait-pl-[40px] ait-text-xs ait-text-neutral-900 ait-border ait-border-neutral-300 ait-rounded-lg ait-bg-neutral-50 focus:ait-ring-green-500 focus:ait-border-green-500 dark:ait-bg-neutral-800 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-green-500 dark:focus:ait-border-green-500"},null,512),[[tt,this.history_search]])])]),this.getHistoryElement(this.settings.switchbar)?(o(),r("div",hw,[(o(!0),r(L,null,B(t.Helpers.getSearchFilter(this.getHistoryElement(this.settings.switchbar),this.history_search),(c,p)=>(o(),r("div",{key:c.id||p,class:"ait-relative ait-history-element"},[c?(o(),r("div",{key:0,class:$("ait-card ait-m-2 ait-p-2 ait-flex ait-grid ait-bg-neutral-100 dark:ait-bg-neutral-800 ait-grid-cols-5 ait-flex-row ait-justify-between ait-cursor-pointer "+(this.selectedHistory(c.id)?"ait-border-[var(--ait-tab-menu-active-bg-color)] ait-text-[var(--ait-tab-menu-active-bg-color)]":"hover:ait-border-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-[var(--ait-tab-menu-active-bg-color)]")),onClick:m=>this.setHistory(this.settings.switchbar,p),"data-id":c.id??""},[i("span",gw,d(n.cleanChatItem(c.title??c.item)),1),i("span",fw,d(c.updated_date),1),i("span",mw,d(n.cleanChatItem(c.short_desc)),1)],10,pw)):_("",!0),i("div",{class:"ait-history-trash ait-absolute ait-right-[15px] ait-p-1 ait-bottom-[15px] ait-cursor-pointer",onClick:m=>this.removeHistory(this.settings.switchbar,p,c.id)},[b(u,{icon:"fa-regular fa-trash-can",class:"ait-h-3 ait-w-3"})],8,_w)]))),128))])):(o(),r("div",dw,[i("div",cw,[i("img",{src:`${t.constants.extension_dir}assets/images/no-data-planet.png`,alt:"no data"},null,8,uw),e[3]||(e[3]=i("label",{class:"ait-flex ait-justify-center ait-text-base"},"No Data",-1))])]))])])])):_("",!0)}const bw=R(Jb,[["render",vw]]),ww=rt({name:"DraggableModal",extends:O,props:["title","status","start_width","start_height","start_left","start_top","id","match_ids","no_save","sticky_element","sticky_position"],data(){return{showResponsePopup:this.$props.status??!1,isDraggingResultPopup:!1,dragStartX:0,dragStartY:0,width:this.$props.start_width??"450",height:this.$props.start_height??"250",last_position:{left:0,top:0},sticky_calibration:!1}},created(){if(this.$props.id==null)return;let t=this.draggable_modal_history[this.$props.id]??{},e=null;if(t!==null&&(e={},t.status=this.$props.status,t.zindex=2147483647,t.match_ids=[],e=t,(this.$props.no_save??!1)&&typeof this.draggable_modal_history[this.$props.id]=="object"&&(delete this.draggable_modal_history[this.$props.id],f.Browser().storage.local.set({draggable_modal_history:this.draggable_modal_history}).then(()=>{this.draggable_modal_history[this.$props.id]={id:this.$props.id,width:this.$props.start_width??null,height:this.$props.start_height??null,top:this.$props.start_top??null,left:this.$props.start_left??null,status:this.$props.status??!1,zindex:2147483647}}))),this.zindexBuild(),this.$props.start_top&&this.$props.start_top!==null)if(this.$props.start_top.indexOf("%")!==-1){let l=this.$props.start_top.replace("%","");l>0&&(e.top=window.innerHeight*(l/100))}else this.$props.start_top>0&&(e.top=this.$props.start_top);if(this.$props.start_left)if(this.$props.start_left.indexOf("%")!==-1){let l=this.$props.start_left.replace("%","");l>0&&(e.left=window.innerWidth*(l/100))}else this.$props.start_left>0&&(e.left=this.$props.start_left);if(this.$props.start_width)if(this.$props.start_width.indexOf("%")!==-1){let l=this.$props.start_width.replace("%","");l>0&&(e.width=window.innerWidth*(l/100))}else this.$props.start_width>0&&(e.width=this.$props.start_width??this.width);if(this.$props.start_height)if(this.$props.start_height.indexOf("%")!==-1){let l=this.$props.start_height.replace("%","");l>0&&(e.height=window.innerHeight*(l/100))}else this.$props.start_height>0&&(e.height=this.$props.start_height??this.height);let a=[];this.$props.match_ids&&(a=this.$props.match_ids.split(","),e&&(e.match_ids=a)),this.draggable_modal_history[this.$props.id]=Object.assign({id:this.$props.id,width:this.$props.start_width??null,height:this.$props.start_height??null,top:this.$props.start_top??null,left:this.$props.start_left??null,status:this.$props.status??!1,match_ids:a??[],zindex:2147483647},e),typeof e.left<"u"&&delete e.left,typeof e.top<"u"&&delete e.top,this.draggable_modal_history[this.$props.id].top!=null&&window.innerHeight<=this.draggable_modal_history[this.$props.id].top&&(this.draggable_modal_history[this.$props.id].top=this.$props.start_top??0),this.draggable_modal_history[this.$props.id].left!=null&&window.innerWidth<=this.draggable_modal_history[this.$props.id].left&&(this.draggable_modal_history[this.$props.id].left=this.$props.start_left??0),this.draggable_modal_history[this.$props.id].top==null&&(this.draggable_modal_history[this.$props.id].top=window.innerHeight/2-this.height/2-20,this.draggable_modal_history[this.$props.id].top<0&&(this.draggable_modal_history[this.$props.id].top=0)),this.draggable_modal_history[this.$props.id].left==null&&(this.draggable_modal_history[this.$props.id].left=window.innerWidth/2-this.width/2,this.draggable_modal_history[this.$props.id].left<0&&(this.draggable_modal_history[this.$props.id].left=0))},methods:{hideResponsePopup(t=null){this.showResponsePopup=!1,this.draggableModalToggle(t,!1),f.Browser().storage.local.set({draggable_modal_history:this.draggable_modal_history})},startDrag(t){this.zindexBuild(),this.dragStartX=t.clientX-this.draggable_modal_history[this.$props.id].left,this.dragStartY=t.clientY-this.draggable_modal_history[this.$props.id].top,this.draggable_modal_history[this.$props.id].status=!0,window.addEventListener("mousemove",this.doDrag),window.addEventListener("mouseup",this.stopDrag)},zindexBuild(){Object.keys(this.draggable_modal_history).forEach(t=>{this.draggable_modal_history[t].zindex=2147483646})},doDrag(t){var m,h;if(!this.draggable_modal_history[this.$props.id])return;this.last_position={left:this.draggable_modal_history[this.$props.id].left,top:this.draggable_modal_history[this.$props.id].top};let e=t.clientX-this.dragStartX,a=t.clientY-this.dragStartY;t.target.offsetWidth,t.target.offsetHeight;let{width:l,height:n,top:s,left:u}=this.draggable_modal_history[this.$props.id];u=e,s=a,l=Number.parseFloat(((m=document.querySelector(`#ait-modal-${this.$props.id}`))==null?void 0:m.clientWidth.toFixed(4))??l),n=Number.parseFloat(((h=document.querySelector(`#ait-modal-${this.$props.id}`))==null?void 0:h.clientHeight.toFixed(4))??n);let c=Math.max(-1,Math.min(u,window.innerWidth-(u+l))),p=Math.max(-1,Math.min(s,window.innerHeight-(s+n)));(c<0||u<0)&&(c-u<0||u<0?u=this.last_position.left>0?this.last_position.left:0:u=c-u>0?c-u:0),(p<0||s<0)&&(p-s<0||s<0?s=this.last_position.top>0?this.last_position.top:0:s=p-s>0?p-s:0),this.last_position={left:u,top:s},this.draggable_modal_history[this.$props.id]=Object.assign(this.draggable_modal_history[this.$props.id],{top:s,left:u,zindex:2147483647}),this.checkScreenCalbration()},stopDrag(t=null){this.isDraggingResultPopup=!1,window.removeEventListener("mousemove",this.doDrag),window.removeEventListener("mouseup",this.stopDrag),this.$props.no_save||f.Browser().storage.local.set({draggable_modal_history:this.draggable_modal_history})},checkScreenCalbration(){var u,c;if(!this.draggable_modal_history[this.$props.id])return;let{width:t,height:e,top:a,left:l}=this.draggable_modal_history[this.$props.id];l=Number.parseFloat(l),a=Number.parseFloat(a),t=Number.parseFloat(((u=document.querySelector(`#ait-modal-${this.$props.id}`))==null?void 0:u.clientWidth.toFixed(4))??t),e=Number.parseFloat(((c=document.querySelector(`#ait-modal-${this.$props.id}`))==null?void 0:c.clientHeight.toFixed(4))??e);let n=0,s=0;if(this.$props.sticky_element&&document.querySelector(this.$props.sticky_element)!==null&&!this.sticky_calibration){let m=document.querySelector(".aitopia-context-popover-content").getBoundingClientRect();this.sticky_calibration=!0,this.$props.sticky_position=="y"?(a=m.top+m.height,s=Math.max(-1,Math.min(a,window.innerHeight-(a+e))),(s<0||isNaN(s))&&(a=m.top-m.height-e),l=m.left,n=Math.max(-1,Math.min(l,window.innerWidth-(l+t))),(n<0||isNaN(n))&&(l=m.left+m.width-t)):(l=m.left+m.width+30,n=Math.max(-1,Math.min(l,window.innerWidth-(l+t))),(n<0||isNaN(n))&&(l=m.left-m.width-90),a=m.top,s=Math.max(-1,Math.min(a,window.innerHeight-(a+e))),(s<0||isNaN(s))&&(a=m.top+m.height-e))}n=Math.max(-1,Math.min(l,window.innerWidth-(l+t))),s=Math.max(-1,Math.min(a,window.innerHeight-(a+e))),(n<0||l<0||isNaN(n)||isNaN(l))&&(n-l<0||l<0||isNaN(n)||isNaN(l)?l=this.last_position.left>0?this.last_position.left:1:l=n-l>0?n-l:1),(s<0||a<0||isNaN(s)||isNaN(a))&&(s-a<0||a<0||isNaN(s)||isNaN(a)?a=this.last_position.top>0?this.last_position.top:1:a=s-a>0?s-a:1),this.last_position={left:l,top:a},this.draggable_modal_history[this.$props.id]=Object.assign(this.draggable_modal_history[this.$props.id],{top:a,left:l})}},beforeUnmount(){window.removeEventListener("keyup",this.handleKeyup)},updated(){this.sticky_calibration=!1,this.checkScreenCalbration(),setTimeout(()=>this.checkScreenCalbration(),100)},watch:{popupPosition:{handler:function(t){this.draggable_modal_history[this.$props.id]&&(typeof this.draggable_modal_history[this.$props.id].status>"u"||this.draggable_modal_history[this.$props.id].status||(this.draggable_modal_history[this.$props.id]=Object.assign(this.draggable_modal_history[this.$props.id],{top:t.top-window.scrollY+80,left:t.left-window.scrollX,zindex:2147483647})))},deep:!0},showResponsePopup(t){t?window.addEventListener("keyup",this.handleKeyup):window.removeEventListener("keyup",this.handleKeyup)}}}),yw={class:"aitopia light",noColor:""},xw=["id"],kw={class:"ait-flex ait-flex-col ait-pb-2 ait-justify-start ait-items-center"},Cw={class:"ait-flex ait-gap-4 ait-items-center"},$w=["innerHTML"];function Lw(t,e,a,l,n,s){const u=y("font-awesome-icon");return t.Helpers.notUndefined(this.draggable_modal_history,`${this.$props.id}.status`)?(o(),E(re,{key:0,to:"body"},[i("div",yw,[b(_t,{name:"fade"},{default:D(()=>[i("div",{ref:"popupRef",id:`ait-modal-${this.$props.id}`,class:"aitopia-context-response-popup-container aitopia-draggable-modal ait-rounded-lg ait-shadow-lg dark:ait-bg-neutral-800 ait-bg-white",style:Q([{top:(this.draggable_modal_history[this.$props.id].top??this.last_position.top)+"px",left:(this.draggable_modal_history[this.$props.id].left??this.last_position.left)+"px","z-index":this.draggable_modal_history[this.$props.id].zindex??2147483647},{position:"fixed"}]),onClick:e[2]||(e[2]=J(()=>{},["stop"]))},[i("div",kw,[i("div",{onMousedown:e[1]||(e[1]=(...c)=>t.startDrag&&t.startDrag(...c)),class:"ait-flex ait-justify-between ait-items-center ait-rounded-t-lg ait-w-full ait-px-4 ait-py-2 ait-cursor-move"},[i("div",Cw,[t.title?(o(),r("div",{key:0,class:"ait-text-base ait-font-bold ait-select-none ait-h-full ait-w-full",innerHTML:t.title},null,8,$w)):Kt(t.$slots,"title",{key:1})]),i("button",{onClick:e[0]||(e[0]=c=>t.hideResponsePopup(this.$props.id)),class:"ait-flex ait-items-center dark:ait-bg-neutral-900 ait-bg-neutral-50 ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50 ait-cursor-pointer"},[b(u,{icon:"fa-solid fa-close",class:"ait-w-4 ait-h-4"})])],32),i("div",{class:"ait-px-2 ait-flex ait-flex-col ait-justify-start ait-items-start ait-w-full ait-overflow-auto",style:Q(`width:${this.draggable_modal_history[this.$props.id].width}px!important;max-width:${this.draggable_modal_history[this.$props.id].width}px!important;height:${this.draggable_modal_history[this.$props.id].height}px!important;max-height:${this.draggable_modal_history[this.$props.id].height}px!important;`)},[Kt(t.$slots,"default")],4)])],12,xw)]),_:3})])])):_("",!0)}const Sw=R(ww,[["render",Lw]]),Mw={class:"aitopia",style:{display:"flex","align-items":"center"}},Tw={class:"ait-px-2"},Hw={class:"ait-text-neutral-600 ait-text-sm ait-font-semibold ait-px-2"},Aw={class:"ait-hover-show",style:{zoom:"0.9"}},Pw={class:"ait-text-neutral-600 ait-text-sm ait-font-semibold ait-px-2"};function Iw(t,e,a,l,n,s){var h,v;const u=y("AiReplyPopup"),c=y("DraggableModal"),p=y("PromptBuilder"),m=y("AppLogo");return o(),r(L,null,[this.EmailReply.reply_button_container!==null?(o(),E(re,{key:0,to:this.EmailReply.reply_button_container},[i("div",Mw,[b(c,{title:t.__("Email Reply Details"),status:!1,id:"ai-reply-popup",start_width:"500",start_height:"460",start_left:"60%",match_ids:"ai-reply-voice-settings"},{default:D(()=>[b(u)]),_:1},8,["title"]),b(c,{title:t.__("Voice Settings"),status:!1,id:"ai-reply-voice-settings",start_width:"400",start_height:"460",start_left:"35%"},{default:D(()=>[b(p,{data_key:"selected_reply"})]),_:1},8,["title"]),i("div",Tw,[i("button",{type:"button",onClick:e[0]||(e[0]=g=>{this.EmailReply.replyButton(this,g),this.draggableModalToggle("ai-reply-popup")}),style:{border:"1px solid #747775"},id:"aitopia-reply-button",class:"ait-h-9 ait-bg-transparent ait-rounded-full ait-cursor-pointer ait-py-1 ait-px-3 hover:ait-bg-neutral-200"},[b(m,{name:"logo",className:"ait-w-5 ait-h-5"}),i("span",Hw,d(t.__("AI Reply")),1)])])])],8,["to"])):_("",!0),this.EmailReply.reply_edit_container!==null?(o(),r("div",{key:1,class:"aitopia",id:"aitopia-reply-wrapper-dot",style:Q(`bottom: ${((h=this.EmailReply.dot_position)==null?void 0:h.bottom)??"0px"} !important; left: ${((v=this.EmailReply.dot_position)==null?void 0:v.left)??"0px"}; position: fixed; width: 170px;z-index: 999;`)},[i("div",Aw,[i("button",{type:"button",onClick:e[1]||(e[1]=g=>{this.EmailReply.replyButton(this,g),this.draggableModalToggle("ai-reply-popup")}),style:{border:"1px solid #747775"},class:"ait-h-9 ait-bg-transparent ait-rounded-full ait-cursor-pointer ait-py-1 ait-px-3 hover:ait-bg-neutral-200"},[b(m,{name:"logo",className:"ait-w-5 ait-h-5"}),i("span",Pw,d(t.__("AI Reply")),1)])]),e[2]||(e[2]=i("div",{class:"ait-hover-hide",style:{"text-align":"center"}},[i("span",{style:{display:"inline-block",width:"12px",height:"12px","border-radius":"100%",cursor:"pointer","pointer-events":"all"},class:"ait-bg-[--ait-tab-menu-active-bg-color]"})],-1))],4)):_("",!0),e[3]||(e[3]=i("span",{class:"ait-min-h-[180px] ait-max-h-[180px] ait-min-h-[145px] ait-max-h-[145px] ait-min-h-[150px] ait-max-h-[150px] ait-min-h-[160px] ait-h-[160px] ait-max-h-[160px] ait-min-h-[265px] ait-h-[265px] ait-max-h-[265px] ait-hide"},null,-1))],64)}const Uw=R($i,[["render",Iw]]),Ew={props:["type"],extends:O,data(){return{prefix:"OptimizeImagePrompt",this_text:null,this_prompt:`### Character Description
  You are an expert with extensive experience in generating images based on text. Based on the content of the text, you create a prompt used for generating an image that describes a picture.
  
  ## Skills Display
  ### Skill 1: Detailed Content
  - The prompt must be very detailed, about 100 words, and should be presented directly without any numbering.
  
  ## Constraints
  - The output language must be consistent with the input language.
  - Ensure the prompt is detailed and accurate for precise image generation.

`}},methods:{closeModel(){let t=document.querySelector('[data-ait-dropdown-toggle="ait-optimize-prompt'+this.type+'"]');t&&t.click(),t=document.querySelector("#ait-optimize-prompt"+this.type+" button[data-modal-hide]"),t&&t.click()}}},jw={class:"ait-p-4 ait-w-full ait-text-center ait-flex ait-flex-col ait-items-center ait-gap-3"},Rw={class:"ait-flex ait-relative ait-w-full"},Bw=["placeholder"],Dw={class:"ait-flex ait-mt-2 grid-flow-row ait-mb-2 ait-w-full"},Ow={key:0,class:"ait-mt-2 ait-text-left ait-text-md ait-pb-2 ait-w-full"},zw={key:1,class:"ait-w-full ait-max-h-[200px] ait-overflow-y-auto"},Vw={class:"ait-p-3 ait-rounded-lg ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-neutral-200"},Fw={class:"ait-flex ait-gap-[12px] ait-pt-2"};function qw(t,e,a,l,n,s){const u=y("single-response"),c=y("modal");return o(),E(c,{title:t.__("Your Prompt"),id:"ait-optimize-prompt"+a.type,className:"ait-items-center"},{default:D(()=>[i("div",jw,[i("div",Rw,[F(i("textarea",{"onUpdate:modelValue":e[0]||(e[0]=p=>this.this_text=p),name:"optimize",class:"ait-ai-text-item ait-resize-none ait-h-[70px] ait-block ait-p-2.5 ait-w-full ait-text-xs ait-text-neutral-900 ait-bg-neutral-50 ait-rounded-lg ait-border ait-border-neutral-300 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-[var(--ait-tab-menu-active-bg-color)] dark:ait-bg-neutral-900 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] dark:focus:ait-border-[var(--ait-tab-menu-active-bg-color)]",rows:"2",placeholder:t.__("Enter your prompt")},"        ",8,Bw),[[tt,this.this_text]])]),i("div",Dw,[i("button",{type:"button",id:"ait-prompt-submit",onClick:e[1]||(e[1]=p=>t.SingleAi.build(this,this.prefix,this.this_prompt+this.this_text,"GPT-4o Mini",null)),class:"ait-w-full focus:ait-outline-none ait-text-white ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 focus:ait-ring-4 focus:ait-ring-green-300 ait-font-medium ait-rounded-lg ait-text-sm ait-px-5 ait-py-2.5 dark:ait-bg-[var(--ait-tab-menu-active-bg-color)] dark:hover:ait-opacity-90 dark:focus:ait-ring-green-800"},d(t.__("Submit")),1)]),this.getSinleChat(t.Helpers.SHA1(this.prefix))?(o(),r("div",Ow,d(t.__("Improved Prompt:")),1)):_("",!0),this.getSinleChat(t.Helpers.SHA1(this.prefix))?(o(),r("div",zw,[i("div",Vw,[b(u,{id:"aitopia-optimize",class:"ait-text-left",custom_key:t.Helpers.SHA1(this.prefix),"button-passive":!0},null,8,["custom_key"]),i("div",Fw,[i("button",{type:"button",onClick:e[2]||(e[2]=p=>{this.image_settings.prompt=this.getSinleChat(t.Helpers.SHA1(this.prefix),!0),this.closeModel()}),class:"ait-flex ait-gap-[4px] ait-items-center ait-px-[8px] ait-leading-none ait-h-[24px] ait-rounded-[6px] ait-bg-white dark:ait-bg-neutral-600 dark:ait-text-neutral-700 dark:hover:ait-opacity-90 dark:active:ait-bg-neutral-950 ait-text-neutral-200 hover:ait-bg-neutral-400 active:ait-bg-neutral-500 ait-select-none"},[e[4]||(e[4]=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",class:"ait-w-[14px] ait-h-[14px]"},[i("path",{fill:"currentcolor","fill-rule":"evenodd",d:"M1.25 4A2.75 2.75 0 0 1 4 1.25h12A2.75 2.75 0 0 1 18.75 4v12A2.75 2.75 0 0 1 16 18.75H4A2.75 2.75 0 0 1 1.25 16zM4 2.75c-.69 0-1.25.56-1.25 1.25v12c0 .69.56 1.25 1.25 1.25h12c.69 0 1.25-.56 1.25-1.25V4c0-.69-.56-1.25-1.25-1.25zM4.25 6A.75.75 0 0 1 5 5.25h10a.75.75 0 0 1 0 1.5h-4.25V15a.75.75 0 0 1-1.5 0V6.75H5A.75.75 0 0 1 4.25 6","clip-rule":"evenodd"})],-1)),i("span",null,d(t.__("Use")),1)]),this.this_text!==null?(o(),r("button",{key:0,type:"button",onClick:e[3]||(e[3]=p=>t.SingleAi.build(this,this.prefix,this.this_prompt+this.this_text,"GPT-4o Mini",null)),class:"ait-flex ait-gap-[4px] ait-items-center ait-px-[8px] ait-leading-none ait-h-[24px] ait-rounded-[6px] ait-bg-white dark:ait-bg-neutral-600 dark:ait-text-neutral-700 dark:hover:ait-opacity-90 dark:active:ait-bg-neutral-950 ait-text-black hover:ait-bg-neutral-400 active:ait-bg-neutral-600 ait-select-none"},[e[5]||(e[5]=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",class:"ait-w-[14px] ait-h-[14px]"},[i("path",{fill:"currentcolor","fill-opacity":"0.78",d:"M10.002 2.917a7.083 7.083 0 1 0 6.374 10.177.833.833 0 0 1 1.499.729 8.75 8.75 0 1 1-.922-9.138l.43-.43c.428-.428.642-.642.826-.656a.5.5 0 0 1 .42.173c.12.14.12.444.12 1.05v1.875c0 .42 0 .63-.083.79a.75.75 0 0 1-.327.328c-.16.082-.37.082-.79.082h-1.876c-.606 0-.909 0-1.05-.12a.5.5 0 0 1-.173-.42c.015-.183.229-.398.657-.826l.655-.655a7 7 0 0 0-.751-.885A7.06 7.06 0 0 0 10 2.917"})],-1)),i("span",null,d(t.__("Regenerate")),1)])):_("",!0)])])])):_("",!0)])]),_:1},8,["title","id"])}const Nw=R(Ew,[["render",qw]]),Zw={extends:O,props:["value"],computed:{aiWait(){return!!this.ai_wait},isLoading(){var t;return!!((t=this.value)!=null&&t.loading)},voiceLoading(){return!!this.voice_loading},voicePlaying(){return!!this.voice_play},itemText(){var e;return String(((e=this.value)==null?void 0:e.item)??"").replace(/<br\/>/g,`
`)},hasItem(){return this.itemText.trim().length>0},showTools(){return!this.isLoading&&!this.aiWait||this.voiceLoading}},methods:{onCopy(){var e,a;const t=this.itemText;t&&((a=(e=this.Helpers)==null?void 0:e.copyClipboard)==null||a.call(e,t))},onReadMessage(){var a,l,n;const t=this.itemText;if(!t)return;const e=((l=(a=this.Helpers)==null?void 0:a.notUndefined)==null?void 0:l.call(a,this.settings,"voice_id"))??void 0;(n=this.TTS)==null||n.call(this,t,e)},onStopRead(){this.voice_url=null,this.voice_play=!1}}},Ww={key:0,class:"ait-flex ait-w-full ait-justify-start"},Gw={class:"ait-inline-flex ait-items-center ait-gap-0.5 ait-rounded-xl ait-border ait-border-neutral-200 dark:ait-border-neutral-800 ait-bg-white/60 dark:ait-bg-neutral-900/40 ait-backdrop-blur-sm ait-p-0.5"},Kw={key:1,class:"ait-inline-flex ait-items-center ait-justify-center ait-w-6 ait-h-6 ait-rounded-md"};function Yw(t,e,a,l,n,s){const u=y("font-awesome-icon"),c=y("HoverPopover"),p=y("VoicesDropdown");return s.showTools?(o(),r("div",Ww,[i("div",Gw,[b(c,{"popover-text":t.__("Copy")},{default:D(()=>[!s.isLoading&&!s.aiWait?(o(),r("button",{key:0,type:"button",class:"ait-inline-flex ait-items-center ait-justify-center ait-w-6 ait-h-6 ait-rounded-md hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-800 ait-transition-colors",onClick:e[0]||(e[0]=(...m)=>s.onCopy&&s.onCopy(...m))},[b(u,{icon:"fa-regular fa-clipboard",class:"ait-w-3.5 ait-h-3.5"})])):_("",!0)]),_:1},8,["popover-text"]),s.hasItem&&!s.voiceLoading&&!s.isLoading&&!s.aiWait?(o(),r(L,{key:0},[s.voicePlaying==!1?(o(),E(c,{key:0,"popover-text":t.__("Read Message")},{default:D(()=>[i("button",{type:"button",class:"ait-inline-flex ait-items-center ait-justify-center ait-w-6 ait-h-6 ait-rounded-md hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-800 ait-transition-colors",onClick:e[1]||(e[1]=(...m)=>s.onReadMessage&&s.onReadMessage(...m))},[b(u,{icon:"fa-solid fa-volume-high",class:"ait-w-3.5 ait-h-3.5"})])]),_:1},8,["popover-text"])):(o(),E(c,{key:1,"popover-text":t.__("Stop")},{default:D(()=>[i("button",{type:"button",class:"ait-inline-flex ait-items-center ait-justify-center ait-w-6 ait-h-6 ait-rounded-md hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-800 ait-transition-colors",onClick:e[2]||(e[2]=(...m)=>s.onStopRead&&s.onStopRead(...m))},[b(u,{icon:"fa-solid fa-stop",class:"ait-w-3.5 ait-h-3.5"})])]),_:1},8,["popover-text"]))],64)):s.voiceLoading?(o(),r("div",Kw,e[3]||(e[3]=[i("div",{class:"ait-h-3 ait-w-3 ait-loading-spinner",style:{zoom:"0.9"}},null,-1)]))):_("",!0),!s.voicePlaying&&!s.voiceLoading&&!s.isLoading&&!s.aiWait?(o(),E(p,{key:2})):_("",!0)])])):_("",!0)}const Qw=R(Zw,[["render",Yw]]),Xw={components:{VisionImagePreview:Ci},extends:O},Jw={class:"aitopia"},ty={class:"ait-mb-5 ait-w-full",id:"aitopia-yt-container"},ey={class:"ait-bg-neutral-100 dark:ait-bg-neutral-900 dark:ait-text-gray-200 ait-rounded-lg ait-px-4 ait-py-3 ait-border ait-border-gray-50 dark:ait-border-neutral-700"},iy={class:"ait-flex"},ay={class:"ait-w-11/12 ait-flex ait-gap-2 xl:ait-gap-3 ait-items-center"},sy={class:"ait-logo-text"},oy={class:"ait-font-bold ait-pl-1 ait-pr-2 ait-break-keep ait-text-sm"},ny={key:0,class:"ait-credits ait-mr-3 ait-w-5/12"},ly={class:"ait-w-1/12 ait-flex ait-grid ait-grid-cols-1 ait-gap-3 ait-items-center"},ry={class:"ait-switchbar-tab-item ait-gap-3 ait-place-items-end ait-rounded-lg ait-p-2 ait-cursor-pointer arc-edge aitopia-options-yt"},dy={key:1,class:"ait-p-3 ait-w-full ait-text-center"};function cy(t,e,a,l,n,s){const u=y("AppLogo"),c=y("font-awesome-icon"),p=y("single-response");return this.YTResponseBuilder.yt_is_show?(o(),E(re,{key:0,to:"#aitopia-yt"},[i("div",Jw,[i("div",ty,[i("div",ey,[i("div",iy,[i("div",ay,[i("div",{class:$(["ait-logo ait-flex ait-w-7/12 ait-place-items-center",this.constants.runtime_id==null?"ait-cursor-pointer":""]),onClick:e[0]||(e[0]=m=>this.constants.runtime_id==null?t.clickOpenPage(this.constants.web_app):"")},[b(u,{name:"logo",className:"ait-w-7 ait-flex-initial"}),i("div",sy,[i("div",oy,d(this.app_details.app_search_title),1)])],2),this.YTResponseBuilder.yt_is_empty?_("",!0):(o(),r("div",ny,[i("button",{type:"button",onClick:e[1]||(e[1]=m=>this.YTResponseBuilder.run(m)),class:"ait-text-neutral-500 dark:ait-text-neutral-300 ait-border-2 ait-border-solid ait-border-[var(--ait-tab-menu-active-bg-color)] hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-white ait-rounded-lg focus:ait-outline-none ait-text-xs ait-p-2 ait-text-center"},d(t.__("Summarize Video")),1)]))]),i("div",ly,[i("div",ry,[b(c,{icon:"fa-solid fa-gear",class:"ait-h-4 ait-w-4"})])])]),this.YTResponseBuilder.yt_is_empty?(o(),r("div",dy,d(this.YTResponseBuilder.yt_empty_message),1)):(o(!0),r(L,{key:0},B(this.YTResponseBuilder.yt_extra_keys,m=>(o(),r("div",{key:m},[F(b(p,{class:"ait-pt-3 ait-pb-2 ait-mb-3 ait-max-h-[582px] ait-min-h-16 ait-max-h-[calc(100vh-242px)] ait-overflow-auto",id:"aitopia-yt-result-"+m,custom_key:m,customPrettier:this.YTResponseBuilder.formateMarkedCustomize},null,8,["id","custom_key","customPrettier"]),[[Gt,m]])]))),128))])])])])):_("",!0)}const uy=R(Xw,[["render",cy]]),hy={name:"Announcements",extends:O},py=["innerHTML"],gy=["data-ait-dropdown-toggle"];function fy(t,e,a,l,n,s){const u=y("modal");return o(!0),r(L,null,B(this.announcements,(c,p)=>(o(),r(L,null,[typeof c.html<"u"?(o(),r(L,{key:0},[c.show==!0?(o(),E(u,{key:0,id:p.toString(),className:"ait-items-center",is_show:c.show,headless:!1},{default:D(()=>[i("div",{innerHTML:c.html},null,8,py)]),_:2},1032,["id","is_show"])):_("",!0),i("span",{style:{display:"none"},"data-ait-dropdown-toggle":p},null,8,gy)],64)):_("",!0)],64))),256)}const my=R(hy,[["render",fy]]),_y={extends:O,methods:{checkColor(){return this.app_details.app_logo.indexOf('fill="#000000"')!==-1||this.app_details.app_logo.indexOf('fill="currentColor"')!==-1}}},vy=["innerHTML"],by=["src"];function wy(t,e,a,l,n,s){const u=y("svg-logo");return this.constants.extension_id==null||this.constants.extension_id==this.constants.manuel_extension_id?(o(),E(u,Ct({key:0,name:"logo"},t.$attrs),null,16)):this.app_details.app_logo_full.indexOf("<svg")!==-1?(o(),r("span",{key:1,innerHTML:String(this.app_details.app_logo_full).replace("<svg ",`<svg class="${t.$attrs.class??""} ${t.$attrs.className??""} ${s.checkColor()?"aitopia-logo-dark":""} ait-logo" `)??""},null,8,vy)):(o(),r("img",Ct({key:2,alt:"logo"},t.$attrs,{class:t.$attrs.class,src:this.getUri(this.app_details.app_logo_full??t.Helpers.notUndefined(t.Helpers.Browser().runtime.getManifest(),"icons.128")??"/logo.png")}),null,16,by))}const yy=R(_y,[["render",wy]]),xy=rt({name:"LoginModal",extends:O,components:{AppLogo:ue},props:{constants:{type:Object,required:!0},app_details:{type:Object,required:!0}},data(){return{login_type:"register",forms:{email:null,password:null,password1:null,agree:!1},openTabId:null,popup_try:0,login:!1}},methods:{closeModal(){this.$emit("close")},handleLoginSuccess(){this.$emit("login-success"),this.closeModal()},googlePopUp(t,e=515,a=580){return t!=null&&t.target.setAttribute("disabled","disabled"),f.apiCall("/auth/google/get_url",{},"POST").then(l=>{var n=l.google_auth_uri,s=screen.width/2-e/2,u=screen.height/2-a/2,c=window.open(n,"Google Auth","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+e+", height="+a+", top="+u+", left="+s);return t!=null&&t.target.removeAttribute("disabled"),this.googleLoginCheck(c),c}).catch(l=>{console.error("Google Auth URL fetch failed:",l),t!=null&&t.target.removeAttribute("disabled")})},googleLoginCheck(t){if(!t||t.closed){console.log("Google Login popup closed or inaccessible. Checking login status..."),setTimeout(()=>{f.uuid(1).then(()=>{console.log("Re-checking user status after potential Google login."),this.handleLoginSuccess()})},1500);return}setTimeout(()=>this.googleLoginCheck(t),1e3)},async submitAuth(t){try{await f.auth(this,this.forms,this.login_type,t),setTimeout(()=>{this.email&&this.email.length>0||this.login===!0?(console.log("Login detected, closing modal"),this.handleLoginSuccess()):console.log("Authentication completed, but not logged in")},500)}catch(e){console.error("Authentication error:",e)}}}}),ky={class:"ait-relative ait-w-[90%] sm:ait-w-[506px] ait-max-h-[90vh] ait-rounded-[20px] ait-bg-[#f9f9fe] dark:ait-bg-[var(--ait-switchbar-bg-color)] ait-overflow-auto",style:{"box-shadow":"rgba(0, 0, 0, 0.5) 0px 10px 30px 0px"}},Cy={class:"ait-text-[var(--ait-tab-menu-active-bg-color)] dark:ait-text-gray-200 ait-p-6"},$y={class:"ait-text-center ait-mb-4"},Ly={class:"logo ait-flex ait-justify-center ait-mb-2"},Sy={class:"ait-text-[22px] ait-font-bold ait-text-neutral-900 dark:ait-text-white"},My={class:"ait-text-center"},Ty=["innerHTML"],Hy={class:"ait-flex ait-justify-center ait-w-full ait-mb-4"},Ay={class:"ait-flex-row ait-w-full ait-max-w-xs"},Py={class:"ait-text-[17px] ait-text-white ait-font-bold"},Iy={class:"ait-relative ait-w-[70%] ait-max-w-xs ait-h-[1px] ait-mx-auto ait-my-4 ait-bg-[#e0e0e0] dark:ait-bg-gray-600"},Uy={class:"ait-absolute ait-top-[50%] ait-left-[50%] ait-translate-x-[-50%] ait-translate-y-[-50%] ait-px-3 ait-whitespace-nowrap ait-bg-[#f9f9fe] dark:ait-bg-gray-800 ait-text-[var(--ait-tab-menu-active-bg-color)] dark:ait-text-gray-300 ait-text-center ait-text-sm ait-font-bold"},Ey={key:0,class:"ait-flex ait-justify-center data-tab"},jy={class:"ait-flex-row ait-w-full ait-max-w-xs"},Ry={class:"ait-p-2 ait-text-left"},By={for:"modal-login-email",class:"ait-block ait-mb-1 ait-text-sm ait-font-medium ait-text-gray-900 dark:ait-text-gray-300"},Dy={class:"ait-p-2 ait-text-left"},Oy={for:"modal-login-password",class:"ait-block ait-mb-1 ait-text-sm ait-font-medium ait-text-gray-900 dark:ait-text-gray-300"},zy={class:"ait-flex ait-items-center ait-justify-end ait-p-2"},Vy={class:"ait-p-2"},Fy={class:"ait-text-sm ait-font-light ait-text-gray-500 dark:ait-text-gray-400 ait-p-2"},qy={key:1,class:"ait-flex ait-justify-center data-tab"},Ny={class:"ait-flex-row ait-w-full ait-max-w-xs"},Zy={class:"ait-p-2 ait-text-left"},Wy={for:"modal-signup-email",class:"ait-block ait-mb-1 ait-text-sm ait-font-medium ait-text-gray-900 dark:ait-text-gray-300"},Gy={class:"ait-p-2 ait-text-left"},Ky={for:"modal-signup-password",class:"ait-block ait-mb-1 ait-text-sm ait-font-medium ait-text-gray-900 dark:ait-text-gray-300"},Yy={class:"ait-p-2 ait-text-left"},Qy={for:"modal-signup-password2",class:"ait-block ait-mb-1 ait-text-sm ait-font-medium ait-text-gray-900 dark:ait-text-gray-300"},Xy={class:"ait-flex ait-items-start ait-p-2"},Jy={class:"ait-flex ait-items-center ait-h-5"},tx={class:"ait-ml-3 ait-text-sm ait-text-left"},ex=["innerHTML"],ix={class:"ait-p-2"},ax={class:"ait-text-sm ait-font-light ait-text-gray-500 dark:ait-text-gray-400 ait-p-2"},sx={key:2,class:"ait-flex ait-justify-center data-tab"},ox={class:"ait-flex-row ait-w-full ait-max-w-xs ait-pt-5"},nx={class:"ait-p-2 ait-text-left"},lx={for:"modal-recover-email",class:"ait-block ait-mb-1 ait-text-sm ait-font-medium ait-text-gray-900 dark:ait-text-gray-300"},rx={class:"ait-p-2"},dx={class:"ait-text-sm ait-font-light ait-text-gray-500 dark:ait-text-gray-400 ait-p-2"};function cx(t,e,a,l,n,s){var c,p,m;const u=y("AppLogo");return o(),r("div",{class:"ait-fixed ait-inset-0 ait-bg-gray-600 ait-bg-opacity-75 ait-flex ait-items-center ait-justify-center ait-z-50",onClick:e[16]||(e[16]=J((...h)=>t.closeModal&&t.closeModal(...h),["self"]))},[i("div",ky,[i("button",{onClick:e[0]||(e[0]=(...h)=>t.closeModal&&t.closeModal(...h)),class:"ait-absolute ait-top-3 ait-right-3 ait-text-gray-500 hover:ait-text-gray-800 dark:ait-text-gray-400 dark:hover:ait-text-white ait-text-2xl ait-z-10"},"  "),i("div",Cy,[i("header",$y,[i("div",Ly,[(c=t.app_details)!=null&&c.app_title?(o(),E(u,{key:0,name:"logo",className:"ait-w-10"})):_("",!0)]),i("div",Sy,d(t.__("Welcome to"))+" "+d(((p=t.app_details)==null?void 0:p.app_title)||"Aitopia"),1)]),i("div",My,[i("div",{class:"ait-mb-6 ait-px-2 ait-text-xl ait-font-bold ait-text-neutral-900 dark:ait-text-white",innerHTML:t.__("Sign in or create an account")},null,8,Ty),i("div",Hy,[i("div",Ay,[i("button",{type:"button",class:"ait-rounded-lg ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 ait-text-white ait-w-full ait-inline-flex ait-items-center ait-justify-center ait-gap-4 ait-py-2.5",onClick:e[1]||(e[1]=h=>t.googlePopUp(h))},[e[17]||(e[17]=Vt('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="shrink-0" data-v-6b0df8a3><path fill-rule="evenodd" clip-rule="evenodd" d="M12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0Z" fill="white" data-v-6b0df8a3></path><path fill-rule="evenodd" clip-rule="evenodd" d="M19.68 12.1818C19.68 11.6145 19.6291 11.069 19.5345 10.5454H12V13.64H16.3055C16.12 14.64 15.5564 15.4872 14.7091 16.0545V18.0618H17.2945C18.8073 16.669 19.68 14.6181 19.68 12.1818Z" fill="#4285F4" style="fill:#4285f4 !important;" data-v-6b0df8a3></path><path fill-rule="evenodd" clip-rule="evenodd" d="M12.0011 20C14.1611 20 15.972 19.2837 17.2957 18.0618L14.7102 16.0546C13.9939 16.5346 13.0775 16.8182 12.0011 16.8182C9.9175 16.8182 8.15387 15.4109 7.52478 13.52H4.85205V15.5927C6.16841 18.2073 8.87387 20 12.0011 20Z" fill="#34A853" style="fill:#34a853 !important;" data-v-6b0df8a3></path><path fill-rule="evenodd" clip-rule="evenodd" d="M7.52364 13.52C7.36364 13.04 7.27273 12.5272 7.27273 12C7.27273 11.4727 7.36364 10.96 7.52364 10.48V8.40723H4.85091C4.30909 9.48723 4 10.709 4 12C4 13.2909 4.30909 14.5127 4.85091 15.5927L7.52364 13.52Z" fill="#FBBC05" style="fill:#fbbc05 !important;" data-v-6b0df8a3></path><path fill-rule="evenodd" clip-rule="evenodd" d="M12.0011 7.18182C13.1757 7.18182 14.2302 7.58545 15.0593 8.37818L17.3539 6.08364C15.9684 4.79273 14.1575 4 12.0011 4C8.87387 4 6.16841 5.79273 4.85205 8.40727L7.52478 10.48C8.15387 8.58909 9.91751 7.18182 12.0011 7.18182Z" fill="#EA4335" style="fill:#ea4335 !important;" data-v-6b0df8a3></path></svg>',1)),i("span",Py,d(t.__("Continue with Google")),1)])])]),i("div",Iy,[i("span",Uy,d(t.__("OR")),1)]),t.login_type==="login"?(o(),r("div",Ey,[i("div",jy,[i("div",Ry,[i("label",By,d(t.__("Your email")),1),F(i("input",{type:"email",name:"email","onUpdate:modelValue":e[2]||(e[2]=h=>t.forms.email=h),required:"",id:"modal-login-email",class:"ait-bg-gray-900 dark:ait-bg-gray-700 ait-border ait-border-gray-300 dark:ait-border-gray-600 ait-text-gray-900 dark:ait-text-white lg:ait-text-sm ait-rounded-lg focus:ring-[var(--ait-tab-menu-active-bg-color)] focus:border-[var(--ait-tab-menu-active-bg-color)] ait-block ait-w-full ait-p-2.5",placeholder:"name@company.com"},null,512),[[tt,t.forms.email]])]),i("div",Dy,[i("label",Oy,d(t.__("Password")),1),F(i("input",{type:"password",name:"password","onUpdate:modelValue":e[3]||(e[3]=h=>t.forms.password=h),required:"",id:"modal-login-password",placeholder:"",class:"ait-bg-gray-50 dark:ait-bg-gray-700 ait-border ait-border-gray-300 dark:ait-border-gray-600 ait-text-gray-900 dark:ait-text-white lg:ait-text-sm ait-rounded-lg focus:ring-[var(--ait-tab-menu-active-bg-color)] focus:border-[var(--ait-tab-menu-active-bg-color)] ait-block ait-w-full ait-p-2.5"},null,512),[[tt,t.forms.password]])]),i("div",zy,[i("a",{href:"#",onClick:e[4]||(e[4]=J(h=>t.login_type="recover",["prevent"])),class:"ait-text-sm ait-font-medium ait-text-[var(--ait-tab-menu-active-bg-color)] hover:ait-underline dark:ait-text-blue-400 dark:hover:ait-text-blue-300"},d(t.__("Forgot password?")),1)]),i("div",Vy,[i("button",{type:"submit",id:"modal-login-submit",onClick:e[5]||(e[5]=(...h)=>t.submitAuth&&t.submitAuth(...h)),class:"ait-w-full ait-text-white ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 focus:ait-ring-4 focus:ait-outline-none focus:ring-primary-300 ait-font-medium ait-rounded-lg ait-text-sm ait-px-5 ait-py-2.5 ait-text-center"},d(t.__("Sign in")),1),e[18]||(e[18]=i("span",{id:"login-error",class:"ait-text-red-500 ait-text-sm ait-mt-1 ait-block"},null,-1))]),i("p",Fy,[U(d(t.__("Don't have an account yet?"))+" ",1),i("button",{onClick:e[6]||(e[6]=h=>t.login_type="register"),class:"ait-font-medium ait-text-[var(--ait-tab-menu-active-bg-color)] hover:ait-underline dark:ait-text-blue-400 dark:hover:ait-text-blue-300"},d(t.__("Sign up")),1)])])])):t.login_type==="register"?(o(),r("div",qy,[i("div",Ny,[i("div",Zy,[i("label",Wy,d(t.__("Your email")),1),F(i("input",{type:"email",name:"email","onUpdate:modelValue":e[7]||(e[7]=h=>t.forms.email=h),required:"",id:"modal-signup-email",class:"ait-bg-gray-50 dark:ait-bg-gray-700 ait-border ait-border-gray-300 dark:ait-border-gray-600 ait-text-gray-900 dark:ait-text-white lg:ait-text-sm ait-rounded-lg focus:ring-[var(--ait-tab-menu-active-bg-color)] focus:border-[var(--ait-tab-menu-active-bg-color)] ait-block ait-w-full ait-p-2.5",placeholder:"name@company.com"},null,512),[[tt,t.forms.email]])]),i("div",Gy,[i("label",Ky,d(t.__("Password")),1),F(i("input",{type:"password",name:"password","onUpdate:modelValue":e[8]||(e[8]=h=>t.forms.password=h),required:"",id:"modal-signup-password",placeholder:"",class:"ait-bg-gray-50 dark:ait-bg-gray-700 ait-border ait-border-gray-300 dark:ait-border-gray-600 ait-text-gray-900 dark:ait-text-white lg:ait-text-sm ait-rounded-lg focus:ring-[var(--ait-tab-menu-active-bg-color)] focus:border-[var(--ait-tab-menu-active-bg-color)] ait-block ait-w-full ait-p-2.5"},null,512),[[tt,t.forms.password]])]),i("div",Yy,[i("label",Qy,d(t.__("Confirm Password")),1),F(i("input",{type:"password",name:"password1","onUpdate:modelValue":e[9]||(e[9]=h=>t.forms.password1=h),required:"",id:"modal-signup-password2",placeholder:"",class:"ait-bg-gray-50 dark:ait-bg-gray-700 ait-border ait-border-gray-300 dark:ait-border-gray-600 ait-text-gray-900 dark:ait-text-white lg:ait-text-sm ait-rounded-lg focus:ring-[var(--ait-tab-menu-active-bg-color)] focus:border-[var(--ait-tab-menu-active-bg-color)] ait-block ait-w-full ait-p-2.5"},null,512),[[tt,t.forms.password1]])]),i("div",Xy,[i("div",Jy,[F(i("input",{id:"modal-agree","aria-describedby":"modal-agree",name:"agree",value:"1","onUpdate:modelValue":e[10]||(e[10]=h=>t.forms.agree=h),type:"checkbox",class:"ait-w-4 ait-h-4 ait-border ait-border-gray-300 ait-rounded ait-bg-gray-50 dark:ait-bg-gray-700 dark:ait-border-gray-600 focus:ring-3 focus:ring-primary-300 dark:focus:ring-primary-600",style:{"color-scheme":"light"},required:""},null,512),[[hi,t.forms.agree]])]),i("div",tx,[i("label",{for:"modal-agree",class:"ait-text-gray-900 dark:ait-text-gray-300",innerHTML:t.__(`I have read and agree to <a target="_blank" href="https://${((m=t.constants)==null?void 0:m.domain)||"chatgptextension.ai"}/terms_conditions" class="ait-font-medium ait-text-[var(--ait-tab-menu-active-bg-color)] hover:ait-underline dark:ait-text-blue-400 dark:hover:ait-text-blue-300">terms</a>`)},null,8,ex)])]),i("div",ix,[i("button",{type:"submit",id:"modal-register-submit",onClick:e[11]||(e[11]=(...h)=>t.submitAuth&&t.submitAuth(...h)),class:"ait-w-full ait-text-white ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 focus:ait-ring-4 focus:ait-outline-none focus:ring-primary-300 ait-font-medium ait-rounded-lg ait-text-sm ait-px-5 ait-py-2.5 ait-text-center"},d(t.__("Sign up")),1),e[19]||(e[19]=i("span",{id:"register-error",class:"ait-text-red-500 ait-text-sm ait-mt-1 ait-block"},null,-1))]),i("p",ax,[U(d(t.__("Already a member?"))+" ",1),i("button",{onClick:e[12]||(e[12]=h=>t.login_type="login"),class:"ait-font-medium ait-text-[var(--ait-tab-menu-active-bg-color)] hover:ait-underline dark:ait-text-blue-400 dark:hover:ait-text-blue-300"},d(t.__("Login here")),1)])])])):t.login_type==="recover"?(o(),r("div",sx,[i("div",ox,[i("div",nx,[i("label",lx,d(t.__("Enter your email address and we'll send you the instructions:")),1),F(i("input",{type:"email",name:"email",required:"","onUpdate:modelValue":e[13]||(e[13]=h=>t.forms.email=h),id:"modal-recover-email",class:"ait-bg-gray-50 dark:ait-bg-gray-700 ait-border ait-border-gray-300 dark:ait-border-gray-600 ait-text-gray-900 dark:ait-text-white lg:ait-text-sm ait-rounded-lg focus:ring-[var(--ait-tab-menu-active-bg-color)] focus:border-[var(--ait-tab-menu-active-bg-color)] ait-block ait-w-full ait-p-2.5",placeholder:"name@company.com"},null,512),[[tt,t.forms.email]])]),i("div",rx,[i("button",{type:"submit",id:"modal-recover-submit",onClick:e[14]||(e[14]=(...h)=>t.submitAuth&&t.submitAuth(...h)),class:"ait-w-full ait-text-white ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 focus:ait-ring-4 focus:ait-outline-none focus:ring-primary-300 ait-font-medium ait-rounded-lg ait-text-sm ait-px-5 ait-py-2.5 ait-text-center"},d(t.__("Send reset email")),1),e[20]||(e[20]=i("span",{id:"recover-form-error",class:"ait-text-red-500 ait-text-sm ait-mt-1 ait-block"},null,-1))]),i("p",dx,[U(d(t.__("Remembered your password?"))+" ",1),i("button",{onClick:e[15]||(e[15]=h=>t.login_type="login"),class:"ait-font-medium ait-text-[var(--ait-tab-menu-active-bg-color)] hover:ait-underline dark:ait-text-blue-400 dark:hover:ait-text-blue-300"},d(t.__("Login here")),1)])])])):_("",!0)])])])])}const ux=R(xy,[["render",cx],["__scopeId","data-v-6b0df8a3"]]),hx=rt({name:"AgentMarketplaceHeader",extends:O,components:{LoginModal:ux,AppLogo:ue},data(){return{isDropdownOpen:!1,isLoginModalOpen:!1,searchQuery:"",searchResults:[],isSearching:!1,isSearchResultsVisible:!1,searchDebounceTimer:null}},methods:{toggleDropdown(t){t==null||t.stopPropagation(),this.isDropdownOpen=!this.isDropdownOpen},openLoginModal(){this.isLoginModalOpen=!0,this.isDropdownOpen=!1},closeLoginModal(){this.isLoginModalOpen=!1},handleLoginSuccess(){console.log("Login successful event received by header"),this.isLoginModalOpen=!1,f.uuid(1).then(()=>{console.log("User data potentially refreshed after login.")})},login(){console.log("Legacy login action triggered, opening modal instead."),this.openLoginModal()},async handleSearch(){clearTimeout(this.searchDebounceTimer),this.searchDebounceTimer=setTimeout(async()=>{if(this.searchQuery.trim()===""){this.searchResults=[],this.isSearching=!1,this.isSearchResultsVisible=!1;return}this.isSearchResultsVisible=!0,this.isSearching=!0;const t=this.searchQuery,e=[{data:"share_type",search:{value:"Market Place",eq:"="}}];try{console.log(`Searching for: ${t} with share_type=Market Place`);let{data:a}=await this.Markets.Agents.search(t,e,1);this.searchResults=a||[]}catch(a){console.error("Error performing agent search:",a),this.searchResults=[]}finally{this.isSearching=!1}},800)},navigateToAgent(t){this.navigateTo("agent_details",{id:t}),this.searchQuery="",this.searchResults=[],this.isSearching=!1,this.isSearchResultsVisible=!1},clearSearch(){this.searchQuery="",this.searchResults=[],this.isSearching=!1,this.isSearchResultsVisible=!1,this.$nextTick(()=>{const t=this.$refs.desktopSearchInputRef;if(t&&document.activeElement!==t)t.focus();else{const e=this.$refs.mobileSearchInputRef;e&&document.activeElement!==e&&e.focus()}})},handleSearchInputFocus(){this.searchQuery.trim().length>0&&(this.isSearchResultsVisible=!0)},handleSearchInputBlur(){setTimeout(()=>{const t=document.activeElement,e=this.$refs.desktopSearchInputRef,a=this.$refs.mobileSearchInputRef,l=this.$refs.desktopSearchResultsContainerRef,n=this.$refs.mobileSearchResultsContainerRef,s=l&&l.contains(t),u=n&&n.contains(t);e&&e===t||a&&a===t||s||u||(this.isSearchResultsVisible=!1)},150)}},mounted(){this.handleClickOutside=t=>{const e=this.$refs.userDropdownContainerRef,a=this.$refs.userDropdownToggleButtonRef;this.isDropdownOpen&&e&&!e.contains(t.target)&&(a&&a.contains(t.target)||(this.isDropdownOpen=!1));const l=this.$refs.desktopSearchInputRef,n=this.$refs.mobileSearchInputRef,s=this.$refs.desktopSearchResultsContainerRef,u=this.$refs.mobileSearchResultsContainerRef,c=t.target.closest('button[aria-label="Clear search"]'),p=l&&l.contains(t.target),m=n&&n.contains(t.target),h=s&&s.contains(t.target),v=u&&u.contains(t.target),g=h||v;this.isSearchResultsVisible&&!p&&!m&&!g&&!c&&(this.searchQuery="",this.searchResults=[],this.isSearching=!1,this.isSearchResultsVisible=!1)},document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){this.handleClickOutside&&document.removeEventListener("click",this.handleClickOutside),clearTimeout(this.searchDebounceTimer)}}),px={class:"ait-w-full ait-top-0 ait-bg-white dark:ait-bg-[var(--ait-switchbar-bg-color)] ait-z-10 ait-border-b ait-border-gray-200 dark:ait-border-[var(--ait-switchbar-bg-color)] ait-px-4"},gx={class:"ait-container ait-mx-auto ait-py-2 ait-px-2 sm:ait-px-0 ait-flex ait-items-center ait-justify-between"},fx={class:"ait-flex-none"},mx={class:"ait-flex ait-flex-col"},_x={class:"ait-text-lg sm:ait-text-xl ait-font-bold ait-leading-none ait-font ait-flex ait-logo-text dark:ait-text-white",style:{"font-family":"Changa, sans-serif","letter-spacing":"2px"}},vx={class:"ait-text-[10px] sm:ait-text-xs ait-text-gray-500 dark:ait-text-gray-400 ait-tracking-wider ait-mt-0.5"},bx={class:"ait-hidden md:ait-flex ait-flex-1 ait-justify-center"},wx={class:"ait-relative ait-w-full ait-max-w-xl"},yx=["placeholder"],xx={key:1,id:"desktop-search-results-container",ref:"desktopSearchResultsContainerRef",class:"ait-absolute ait-mt-1 ait-w-full ait-max-w-[370px] ait-rounded-md ait-shadow-lg ait-bg-white dark:ait-bg-[var(--ait-sidebar-bg-color)] ait-ring-1 ait-ring-black ait-ring-opacity-5 ait-z-50 ait-max-h-60 ait-overflow-y-auto"},kx={key:0,class:"ait-p-4 ait-text-center ait-text-gray-500 dark:ait-text-gray-400"},Cx={key:1,class:"ait-divide-y ait-divide-gray-100 dark:ait-divide-gray-700"},$x=["onClick"],Lx={class:"ait-flex-shrink-0 ait-h-8 ait-w-8"},Sx={key:0,class:"ait-h-8 ait-w-8 ait-rounded-full ait-bg-gray-300 dark:ait-bg-gray-500 ait-flex ait-items-center ait-justify-center ait-text-white ait-font-bold"},Mx=["src","alt"],Tx={key:2,class:"ait-h-8 ait-w-8 ait-rounded-full ait-bg-gray-300 dark:ait-bg-gray-500 ait-flex ait-items-center ait-justify-center ait-text-white"},Hx={key:3,class:"ait-h-8 ait-w-8 ait-rounded-full ait-bg-gray-300 dark:ait-bg-gray-500 ait-flex ait-items-center ait-justify-center ait-text-white ait-font-xs"},Ax={class:"ait-flex-1"},Px={class:"ait-text-sm ait-font-medium ait-text-gray-900 dark:ait-text-white"},Ix={class:"ait-text-xs ait-text-gray-500 dark:ait-text-gray-400"},Ux={key:2,class:"ait-p-4 ait-text-center ait-text-gray-500 dark:ait-text-gray-400"},Ex={class:"ait-flex ait-items-center ait-gap-2 sm:ait-gap-4"},jx={key:0,class:"ait-text-yellow-500"},Rx={key:1,class:"ait-text-gray-700 dark:ait-text-gray-300"},Bx={key:0,id:"user-dropdown-container",ref:"userDropdownContainerRef",class:"ait-relative"},Dx={class:"ait-flex ait-items-center ait-gap-1 sm:ait-gap-1.5"},Ox={class:"ait-flex ait-flex-col ait-ml-1"},zx={class:"ait-text-xs sm:ait-text-sm ait-font-medium"},Vx={key:0,class:"ait-absolute ait-right-0 ait-mt-2 ait-w-40 sm:ait-w-48 ait-rounded-md ait-shadow-lg ait-bg-white dark:ait-bg-[var(--ait-sidebar-bg-color)] ait-ring-1 ait-ring-black ait-ring-opacity-5 ait-divide-y ait-divide-gray-100 dark:ait-divide-gray-700 ait-z-50"},Fx={class:"ait-py-1"},qx={class:"ait-flex ait-items-center ait-gap-2"},Nx={class:"ait-flex ait-items-center ait-gap-2"},Zx={class:"ait-flex ait-items-center ait-gap-2"},Wx={class:"ait-flex ait-items-center ait-gap-2"},Gx={class:"ait-py-1"},Kx={class:"ait-flex ait-items-center ait-gap-2"},Yx={class:"ait-py-2 ait-px-4 ait-block md:ait-hidden ait-bg-white dark:ait-bg-[var(--ait-switchbar-bg-color)]"},Qx={class:"ait-relative ait-w-full"},Xx=["placeholder"],Jx={key:1,id:"mobile-search-results-container",ref:"mobileSearchResultsContainerRef",class:"ait-absolute ait-mt-1 ait-w-full ait-max-w-[370px] ait-rounded-md ait-shadow-lg ait-bg-white dark:ait-bg-[var(--ait-sidebar-bg-color)] ait-ring-1 ait-ring-black ait-ring-opacity-5 ait-z-50 ait-max-h-60 ait-overflow-y-auto"},tk={key:0,class:"ait-p-4 ait-text-center ait-text-gray-500 dark:ait-text-gray-400"},ek={key:1,class:"ait-divide-y ait-divide-gray-100 dark:ait-divide-gray-700"},ik=["onClick"],ak={class:"ait-flex-shrink-0 ait-h-8 ait-w-8"},sk={key:0,class:"ait-h-8 ait-w-8 ait-rounded-full ait-bg-gray-300 dark:ait-bg-gray-500 ait-flex ait-items-center ait-justify-center ait-text-white ait-font-bold"},ok=["src","alt"],nk={key:2,class:"ait-h-8 ait-w-8 ait-rounded-full ait-bg-gray-300 dark:ait-bg-gray-500 ait-flex ait-items-center ait-justify-center ait-text-white"},lk={key:3,class:"ait-h-8 ait-w-8 ait-rounded-full ait-bg-gray-300 dark:ait-bg-gray-500 ait-flex ait-items-center ait-justify-center ait-text-white ait-font-xs"},rk={class:"ait-flex-1"},dk={class:"ait-text-sm ait-font-medium ait-text-gray-900 dark:ait-text-white"},ck={class:"ait-text-xs ait-text-gray-500 dark:ait-text-gray-400"},uk={key:2,class:"ait-p-4 ait-text-center ait-text-gray-500 dark:ait-text-gray-400"};function hk(t,e,a,l,n,s){var m,h,v;const u=y("AppLogo"),c=y("font-awesome-icon"),p=y("LoginModal");return o(),r(L,null,[i("header",px,[i("div",gx,[i("div",fx,[i("div",{onClick:e[0]||(e[0]=g=>t.navigateTo("agent_marketplace")),class:"ait-flex ait-items-center ait-gap-2 sm:ait-gap-3 ait-cursor-pointer"},[b(u,{name:"logo",className:"ait-w-8 ait-h-8 sm:ait-w-10 sm:ait-h-10 md:ait-w-12 md:ait-h-12"}),i("div",mx,[i("span",_x,d(this.app_details.app_name),1),i("span",vx,d(t.__("AGENT MARKETPLACE")),1)])])]),i("div",bx,[i("div",wx,[F(i("input",{id:"desktop-search-input",ref:"desktopSearchInputRef",type:"text",placeholder:t.__("Search agents and features"),"onUpdate:modelValue":e[1]||(e[1]=g=>t.searchQuery=g),onInput:e[2]||(e[2]=(...g)=>t.handleSearch&&t.handleSearch(...g)),onBlur:e[3]||(e[3]=(...g)=>t.handleSearchInputBlur&&t.handleSearchInputBlur(...g)),onFocus:e[4]||(e[4]=(...g)=>t.handleSearchInputFocus&&t.handleSearchInputFocus(...g)),class:"ait-pl-8 ait-pr-10 ait-py-2 ait-rounded-[8px] ait-border ait-border-gray-300 ait-w-full ait-bg-gray-100 dark:ait-bg-[var(--ait-option-card-bg-color)] focus:ait-outline-none ait-max-w-[370px] dark:ait-text-white dark:ait-border-0"},null,40,yx),[[tt,t.searchQuery]]),t.searchQuery.length>0?(o(),r("button",{key:0,onClick:e[5]||(e[5]=(...g)=>t.clearSearch&&t.clearSearch(...g)),type:"button",class:"ait-absolute ait-inset-y-0 ait-flex ait-items-center ait-pr-3 ait-text-gray-500 hover:ait-text-gray-700 dark:ait-text-gray-400 dark:hover:ait-text-gray-200 ait-pl-2","aria-label":"Clear search"},[b(c,{icon:"fa-solid fa-times",class:"ait-h-4 ait-w-4"})])):_("",!0),t.isSearchResultsVisible?(o(),r("div",xx,[t.isSearching?(o(),r("div",kx," Loading... ")):t.searchResults.length>0?(o(),r("ul",Cx,[(o(!0),r(L,null,B(t.searchResults,g=>(o(),r("li",{key:g._listkey,class:"ait-px-4 ait-py-3 hover:ait-bg-gray-100 dark:hover:ait-bg-neutral-700 ait-cursor-pointer ait-flex ait-items-center ait-gap-3",onClick:w=>t.navigateToAgent(g._listkey)},[i("div",Lx,[g.icon?g.icon&&(g.icon.startsWith("http")||g.icon.startsWith("/"))?(o(),r("img",{key:1,src:g.icon,alt:g.title+" icon",class:"ait-h-8 ait-w-8 ait-rounded-full ait-object-cover"},null,8,Mx)):g.icon&&g.icon.startsWith("fa-")?(o(),r("div",Tx,[b(c,{icon:g.icon,class:"ait-w-4 ait-h-4"},null,8,["icon"])])):(o(),r("div",Hx,d(g.icon),1)):(o(),r("div",Sx,d(g.title?g.title.charAt(0).toUpperCase():"?"),1))]),i("div",Ax,[i("div",Px,d(g.title),1),i("div",Ix,d(g.short_description),1)])],8,$x))),128))])):(o(),r("div",Ux," No results found. "))],512)):_("",!0)])]),i("div",Ex,[i("button",{onClick:e[6]||(e[6]=g=>{var w,C,S;return t.changeColorMode(((S=(C=(w=this.storage)==null?void 0:w.Local)==null?void 0:C.settings)==null?void 0:S.color_mode)==="dark"?"light":"dark")}),class:"ait-p-1.5 sm:ait-p-2 ait-rounded-full ait-bg-gray-100 hover:ait-bg-gray-200 dark:ait-bg-[var(--ait-option-card-bg-color)] dark:hover:ait-bg-neutral-700","aria-label":"Toggle theme"},[((v=(h=(m=this.storage)==null?void 0:m.Local)==null?void 0:h.settings)==null?void 0:v.color_mode)==="dark"?(o(),r("span",jx,[b(c,{icon:"fa-solid fa-sun",class:"ait-w-4 ait-h-4 sm:ait-w-5 sm:ait-h-5"})])):(o(),r("span",Rx,[b(c,{icon:"fa-solid fa-moon",class:"ait-w-4 ait-h-4 sm:ait-w-5 sm:ait-h-5"})]))]),this.email?(o(),r("div",Bx,[i("div",{ref:"userDropdownToggleButtonRef",class:"ait-flex ait-items-center ait-gap-1 sm:ait-gap-2 ait-px-2 sm:ait-px-3 ait-py-1 sm:ait-py-1.5 ait-rounded-lg ait-cursor-pointer hover:ait-bg-gray-100 dark:hover:ait-bg-neutral-700 dark:ait-text-white",onClick:e[7]||(e[7]=(...g)=>t.toggleDropdown&&t.toggleDropdown(...g)),"aria-label":"User menu"},[i("div",Dx,[b(c,{icon:"fa-solid fa-user",class:"ait-h-4 ait-w-4"}),i("div",Ox,[i("span",zx,d(this.email),1)])]),b(c,{icon:t.isDropdownOpen?"fa-solid fa-chevron-up":"fa-solid fa-chevron-down",class:"ait-h-3 ait-w-3 ait-text-gray-500 dark:ait-text-gray-400 ait-hidden sm:ait-inline-block"},null,8,["icon"])],512),t.isDropdownOpen?(o(),r("div",Vx,[i("div",Fx,[i("a",{href:"#",class:"ait-block ait-px-4 ait-py-2 ait-text-sm ait-text-gray-700 dark:ait-text-gray-200 hover:ait-bg-gray-100 dark:hover:ait-bg-neutral-700",onClick:e[8]||(e[8]=J(()=>{t.navigateTo("agent_publish"),t.isDropdownOpen=!1},["prevent"]))},[i("div",qx,[b(c,{icon:"fa-solid fa-house",class:"ait-h-4 ait-w-4"}),i("span",null,d(t.__("Publisher Center")),1)])]),i("a",{href:"#",class:"ait-block ait-px-4 ait-py-2 ait-text-sm ait-text-gray-700 dark:ait-text-gray-200 hover:ait-bg-gray-100 dark:hover:ait-bg-neutral-700",onClick:e[9]||(e[9]=J(()=>{t.navigateTo("profile"),t.isDropdownOpen=!1},["prevent"]))},[i("div",Nx,[b(c,{icon:"fa-solid fa-user",class:"ait-h-4 ait-w-4"}),i("span",null,d(t.__("Publisher Profile")),1)])]),i("a",{href:"#",class:"ait-block ait-px-4 ait-py-2 ait-text-sm ait-text-gray-700 dark:ait-text-gray-200 hover:ait-bg-gray-100 dark:hover:ait-bg-neutral-700 aitopia-profile",onClick:e[10]||(e[10]=J(g=>t.isDropdownOpen=!1,["prevent"]))},[i("div",Zx,[b(c,{icon:"fa-solid fa-user",class:"ait-h-4 ait-w-4"}),i("span",null,d(t.__("My Account")),1)])]),i("a",{href:"#",class:"ait-block ait-px-4 ait-py-2 ait-text-sm ait-text-gray-700 dark:ait-text-gray-200 hover:ait-bg-gray-100 dark:hover:ait-bg-neutral-700 aitopia-subscription",onClick:e[11]||(e[11]=J(g=>t.isDropdownOpen=!1,["prevent"]))},[i("div",Wx,[b(c,{icon:"fa-solid fa-credit-card",class:"ait-h-4 ait-w-4"}),i("span",null,d(t.__("My Package")),1)])])]),i("div",Gx,[i("a",{href:"#",class:"ait-block ait-px-4 ait-py-2 ait-text-sm ait-text-gray-700 dark:ait-text-gray-200 hover:ait-bg-gray-100 dark:hover:ait-bg-neutral-700",onClick:e[12]||(e[12]=J(g=>{t.Helpers.logout(),t.isDropdownOpen=!1},["prevent"]))},[i("div",Kx,[b(c,{icon:"fa-solid fa-arrow-right-from-bracket",class:"ait-h-4 ait-w-4"}),i("span",null,d(t.__("Sign out")),1)])])])])):_("",!0)],512)):(o(),r("button",{key:1,onClick:e[13]||(e[13]=(...g)=>t.openLoginModal&&t.openLoginModal(...g)),class:"ait-px-3 sm:ait-px-4 ait-py-1.5 sm:ait-py-2 ait-rounded-md ait-bg-[var(--ait-link-color)] hover:ait-bg-opacity-90 ait-text-white ait-transition-colors ait-text-xs sm:ait-text-sm ait-font-medium"},d(t.__("Login / Sign Up")),1))])]),i("div",Yx,[i("div",Qx,[F(i("input",{id:"mobile-search-input",ref:"mobileSearchInputRef",type:"text",placeholder:t.__("Search agents and features"),"onUpdate:modelValue":e[14]||(e[14]=g=>t.searchQuery=g),onInput:e[15]||(e[15]=(...g)=>t.handleSearch&&t.handleSearch(...g)),onBlur:e[16]||(e[16]=(...g)=>t.handleSearchInputBlur&&t.handleSearchInputBlur(...g)),onFocus:e[17]||(e[17]=(...g)=>t.handleSearchInputFocus&&t.handleSearchInputFocus(...g)),class:"ait-pl-8 ait-pr-10 ait-py-2 ait-rounded-[8px] ait-border ait-border-gray-300 ait-w-full ait-bg-gray-100 dark:ait-bg-[var(--ait-option-card-bg-color)] focus:ait-outline-none dark:ait-text-white dark:ait-border-0"},null,40,Xx),[[tt,t.searchQuery]]),t.searchQuery.length>0?(o(),r("button",{key:0,onClick:e[18]||(e[18]=(...g)=>t.clearSearch&&t.clearSearch(...g)),type:"button",class:"ait-absolute ait-inset-y-0 ait-right-0 ait-flex ait-items-center ait-pr-3 ait-text-gray-500 hover:ait-text-gray-700 dark:ait-text-gray-400 dark:hover:ait-text-gray-200 ait-pl-2","aria-label":"Clear search"},[b(c,{icon:"fa-solid fa-times",class:"ait-h-4 ait-w-4"})])):_("",!0),t.isSearchResultsVisible?(o(),r("div",Jx,[t.isSearching?(o(),r("div",tk," Loading... ")):t.searchResults.length>0?(o(),r("ul",ek,[(o(!0),r(L,null,B(t.searchResults,g=>(o(),r("li",{key:g._listkey,class:"ait-px-4 ait-py-3 hover:ait-bg-gray-100 dark:hover:ait-bg-neutral-700 ait-cursor-pointer ait-flex ait-items-center ait-gap-3",onClick:w=>t.navigateToAgent(g._listkey)},[i("div",ak,[g.icon?g.icon&&(g.icon.startsWith("http")||g.icon.startsWith("/"))?(o(),r("img",{key:1,src:g.icon,alt:g.title+" icon",class:"ait-h-8 ait-w-8 ait-rounded-full ait-object-cover"},null,8,ok)):g.icon&&g.icon.startsWith("fa-")?(o(),r("div",nk,[b(c,{icon:g.icon,class:"ait-w-4 ait-h-4"},null,8,["icon"])])):(o(),r("div",lk,d(g.icon),1)):(o(),r("div",sk,d(g.title?g.title.charAt(0).toUpperCase():"?"),1))]),i("div",rk,[i("div",dk,d(g.title),1),i("div",ck,d(g.short_description),1)])],8,ik))),128))])):(o(),r("div",uk,d(t.__("No results found.")),1))],512)):_("",!0)])])]),t.isLoginModalOpen?(o(),E(p,{key:0,constants:this.constants,app_details:this.app_details,onClose:t.closeLoginModal,onLoginSuccess:t.handleLoginSuccess},null,8,["constants","app_details","onClose","onLoginSuccess"])):_("",!0)],64)}const pk=R(hx,[["render",hk]]),gk={name:"AgentMarketplaceFooter",extends:O},fk={class:"ait-bg-white dark:ait-bg-[var(--ait-switchbar-bg-color)] ait-border-t ait-border-gray-200 dark:ait-border-[var(--ait-switchbar-bg-color)] ait-py-6 sm:ait-py-8"},mk={class:"ait-container ait-mx-auto ait-px-4"},_k={class:"ait-text-center ait-text-gray-600 dark:ait-text-gray-400 ait-text-xs sm:ait-text-sm"},vk={key:0,class:"ait-flex ait-items-center ait-justify-center"},bk={key:1};function wk(t,e,a,l,n,s){const u=y("svg-logo");return o(),r("footer",fk,[i("div",mk,[i("div",_k,[this.constants.extension_id!=this.constants.manuel_extension_id?(o(),r("p",vk,[U(d(t.__("Powered by AITOPIA"))+" ",1),i("span",null,[b(u,{name:"logo",title:this.constants.version,className:"ait-w-[13px] ait-flex-initial"},null,8,["title"])])])):(o(),r("p",bk,d(t.__(" 2025 AITOPIA. All rights reserved.")),1))])])])}const yk=R(gk,[["render",wk]]),xk={name:"HeaderSlider",extends:O,props:{bannerSlides:{type:Array,required:!0},currentSlide:{type:Number,required:!0},totalSlides:{type:Number,required:!0},sliderPlaying:{type:Boolean,required:!0},getCurrentSlide:{type:Function,required:!0},nextSlide:{type:Function,required:!0},prevSlide:{type:Function,required:!0},togglePlayPause:{type:Function,required:!0}}},kk={class:"ait-flex ait-h-full ait-items-center ait-justify-center"},Ck={class:"ait-text-center ait-max-w-xl ait-px-4"},$k=["innerHTML"],Lk={xmlns:"http://www.w3.org/2000/svg",class:"ait-h-4 ait-w-4 sm:ait-h-5 sm:ait-w-5 md:ait-h-6 md:ait-w-6 ait-text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Sk={xmlns:"http://www.w3.org/2000/svg",class:"ait-h-4 ait-w-4 sm:ait-h-5 sm:ait-w-5 md:ait-h-6 md:ait-w-6 ait-text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Mk={key:0,xmlns:"http://www.w3.org/2000/svg",class:"ait-h-4 ait-w-4 sm:ait-h-5 sm:ait-w-5 md:ait-h-6 md:ait-w-6 ait-text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Tk={key:1,xmlns:"http://www.w3.org/2000/svg",class:"ait-h-4 ait-w-4 sm:ait-h-5 sm:ait-w-5 md:ait-h-6 md:ait-w-6 ait-text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"};function Hk(t,e,a,l,n,s){return o(),r("section",{class:"ait-bg-blue-100 dark:ait-bg-blue-900 ait-rounded-lg sm:ait-rounded-xl ait-p-4 sm:ait-p-6 md:ait-p-8 ait-mb-6 sm:ait-mb-8 ait-h-[250px] sm:ait-h-[300px] md:ait-h-[360px] ait-relative",style:Q({backgroundImage:`url('${a.getCurrentSlide().image}')`,backgroundSize:"cover",backgroundPosition:"center",transition:"background-image 0.5s ease-in-out"})},[i("div",kk,[i("div",Ck,[i("h2",{class:$(["ait-text-xl sm:ait-text-2xl md:ait-text-3xl ait-font-bold ait-mb-2 sm:ait-mb-4",a.getCurrentSlide().textColor]),style:Q(a.getCurrentSlide().textBgColor)},d(a.getCurrentSlide().title),7),i("p",{class:$(["ait-text-gray-900 ait-text-sm sm:ait-text-base md:ait-text-lg ait-mb-4 sm:ait-mb-6",a.getCurrentSlide().textColor]),style:Q(a.getCurrentSlide().textBgColor),innerHTML:a.getCurrentSlide().description},null,14,$k),i("button",{class:"ait-bg-white ait-text-green-600 ait-font-medium ait-px-4 sm:ait-px-6 ait-py-1.5 sm:ait-py-2 ait-rounded-full ait-shadow-md hover:ait-shadow-lg transition ait-duration-200 ait-text-sm sm:ait-text-base",style:Q(a.getCurrentSlide().textBgColor)}," See collection ",4)])]),i("div",{class:$(["ait-absolute ait-bottom-2 sm:ait-bottom-4 ait-right-2 sm:ait-right-4 ait-flex ait-items-center ait-gap-1 sm:ait-gap-2 ait-rounded-full ait-p-1",a.getCurrentSlide().textColor&&(a.getCurrentSlide().textColor.includes("white")||a.getCurrentSlide().textColor.includes("gray-100")||a.getCurrentSlide().textColor.includes("light"))?"ait-bg-white/30":"ait-bg-black/30"])},[i("button",{onClick:e[0]||(e[0]=(...u)=>a.prevSlide&&a.prevSlide(...u)),class:"ait-p-1 ait-rounded-full hover:ait-bg-white/20"},[(o(),r("svg",Lk,[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7",class:$(a.getCurrentSlide().textColor)},null,2)]))]),i("span",{class:$(["ait-font-medium ait-text-xs sm:ait-text-sm",a.getCurrentSlide().textColor])},d(a.currentSlide)+" / "+d(a.totalSlides),3),i("button",{onClick:e[1]||(e[1]=(...u)=>a.nextSlide&&a.nextSlide(...u)),class:"ait-p-1 ait-rounded-full hover:ait-bg-white/20"},[(o(),r("svg",Sk,[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7",class:$(a.getCurrentSlide().textColor)},null,2)]))]),i("button",{onClick:e[2]||(e[2]=(...u)=>a.togglePlayPause&&a.togglePlayPause(...u)),class:"ait-p-1 ait-rounded-full hover:ait-bg-white/20"},[a.sliderPlaying?(o(),r("svg",Mk,[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z",class:$(a.getCurrentSlide().textColor)},null,2)])):(o(),r("svg",Tk,[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z",class:$(a.getCurrentSlide().textColor)},null,2),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z",class:$(a.getCurrentSlide().textColor)},null,2)]))])],2)],4)}const Ak=R(xk,[["render",Hk]]),Pk={name:"AgentCard",extends:O,props:{agent:{type:Object,required:!0},type:{type:String,default:"list"}},methods:{navigateToAgentDetails(t){var e;window.location.href=`${((e=this.constants)==null?void 0:e.extension_main_dir)||""}/agent_details.html?id=${t}`}}},Ik={class:"ait-h-32 ait-bg-gray-200 dark:ait-bg-neutral-700 ait-flex ait-items-center ait-justify-center"},Uk={class:"ait-p-4"},Ek={class:"ait-font-semibold ait-mb-1"},jk={class:"ait-flex ait-items-center ait-mb-2"},Rk={class:"ait-text-sm ait-text-gray-700 dark:ait-text-gray-300"},Bk={class:"ait-text-sm ait-text-gray-700 dark:ait-text-gray-300"},Dk={class:"ait-text-xs sm:ait-text-sm ait-text-[var(--ait-text-color-secondary)] dark:ait-text-gray-300 ait-mb-1 ait-line-clamp-2"},Ok={class:"ait-text-[10px] sm:ait-text-xs ait-text-gray-500 dark:ait-text-gray-400"},zk={class:"ait-text-[var(--ait-link-color)]"};function Vk(t,e,a,l,n,s){const u=y("AgentLogo");return a.agent?(o(),r("div",{key:t.Helpers.notUndefined(a.agent,"_listkey"),class:$(a.type=="list"?"ait-bg-white dark:ait-bg-[var(--ait-switchbar-bg-color)] ait-rounded-lg ait-shadow-md ait-overflow-hidden hover:ait-shadow-lg ait-transition ait-duration-200 ait-cursor-pointer":"ait-flex-shrink-0 ait-w-1/2 sm:ait-w-1/3 md:ait-w-1/4 ait-bg-white dark:ait-bg-[var(--ait-switchbar-bg-color)] ait-rounded-lg ait-shadow-md ait-overflow-hidden hover:ait-shadow-lg ait-transition ait-duration-200 ait-cursor-pointer"),onClick:e[0]||(e[0]=c=>s.navigateToAgentDetails(t.Helpers.notUndefined(a.agent,"_listkey")))},[i("div",Ik,[a.agent?(o(),E(u,{key:0,agent:a.agent,class:"ait-text-5xl"},null,8,["agent"])):_("",!0)]),i("div",Uk,[i("h3",Ek,d(t.Helpers.notUndefined(a.agent,"title")),1),i("div",jk,[e[1]||(e[1]=i("span",{class:"ait-text-yellow-500 ait-mr-1"},"",-1)),i("span",Rk,d(t.Helpers.notUndefined(a.agent,"rating")??0),1),e[2]||(e[2]=i("span",{class:"ait-mx-1 ait-text-gray-500 dark:ait-text-gray-400"},"",-1)),i("span",Bk,d(t.Helpers.formatCompactNumber(t.Helpers.notUndefined(a.agent,"downloaded")??0)),1)]),i("p",Dk,d(t.Helpers.notUndefined(a.agent,"short_description")),1),i("p",Ok,[e[3]||(e[3]=U(" by ")),i("span",zk,d(t.Helpers.notUndefined(a.agent,"publisher.title")),1)])])],2)):_("",!0)}const Fk=R(Pk,[["render",Vk]]),qk={name:"MarketplaceBanner",extends:O,props:{title:{type:String,required:!0},description:{type:String,required:!0},buttonText:{type:String,required:!0},image:{type:String,required:!0},link:{type:String,required:!0}}},Nk={class:"ait-mb-4"},Zk={class:"ait-text-xl sm:ait-text-2xl ait-font-bold ait-mb-1 ait-text-white"},Wk={class:"ait-text-[var(--ait-link-color)] ait-text-sm sm:ait-text-base"};function Gk(t,e,a,l,n,s){return o(),r("section",{class:"ait-bg-black ait-rounded-lg sm:ait-rounded-xl ait-p-6 sm:ait-p-8 md:ait-p-12 ait-mb-8 sm:ait-mb-12",style:Q({backgroundImage:`url(${a.image})`,backgroundSize:"cover",backgroundPosition:"center"})},[i("div",Nk,[i("h2",Zk,d(a.title),1),i("p",Wk,d(a.description),1)]),i("button",{class:"ait-bg-white ait-text-green-600 ait-font-medium ait-px-4 sm:ait-px-6 ait-py-1.5 sm:ait-py-2 ait-rounded-full ait-shadow-md hover:ait-shadow-lg transition ait-duration-200 ait-mt-2 ait-text-sm sm:ait-text-base",onClick:e[0]||(e[0]=u=>this.navigateTo(a.link))},d(a.buttonText),1)],4)}const Kk=R(qk,[["render",Gk]]),ri={async search(t=null,e=1){let a=await f.apiCall("/publishers/search",{page:e,search:t},"POST",6e4,"json",0);return{data:a.data,pages:a._pages,recordsFiltered:a.recordsFiltered,recordsTotal:a.recordsTotal}},async get(){return await f.apiCall("/publishers/get")},async update(t,e,a,l,n,s=!1){return await f.apiCall("/publishers/update",{title:t,description:e,support_email:a,urgent_email:l,website:n,...s?{logo:s}:{}},"POST",6e4,"file").then(u=>{f.notify.success(f.__("Publisher Information Updated"))})}},Yk=rt({name:"AgentPublishRequestForm",props:{agentId:{type:String},existingAgentData:{type:Object,default:()=>({})}},emits:["submit-request","cancel-request","update-success","update-error"],setup(t,{emit:e}){const{agentId:a,existingAgentData:l}=ya(t),n=G(!0),s=G({title:"",logo:"",website:"",support_email:"",description:"",urgent_email:""}),u=G({publisherName:"",publisherIcon:"",publisherIconFile:null,publisherIconPreview:"",website:"",email:"",description:"",urgentEmail:""}),c=async()=>{n.value=!0;try{const v=await ri.get();s.value=v,u.value={publisherName:v.title||"",publisherIcon:v.logo||"",publisherIconFile:null,publisherIconPreview:v.logo||"",website:v.website||"",email:v.support_email||"",description:v.description||"",urgentEmail:v.urgent_email||""}}catch(v){console.error("Error loading publisher data:",v)}finally{n.value=!1}};return de(()=>{c()}),{formData:u,isLoading:n,handleSubmit:async()=>{try{await ri.update(u.value.publisherName,u.value.description,u.value.email,u.value.urgentEmail,u.value.website,u.value.publisherIconFile?u.value.publisherIconFile:null),e("update-success","Publisher details updated successfully.")}catch(v){console.error("Error updating agent publisher details:",v),e("update-error","Failed to update publisher details.")}},handleCancel:()=>{e("cancel-request")},handlePublisherIconChange:v=>{const g=v.target;if(g.files&&g.files[0]){const w=g.files[0];u.value.publisherIconFile=w,u.value.publisherIconPreview=URL.createObjectURL(w)}else u.value.publisherIconFile=null,u.value.publisherIconPreview=""}}}}),Qk={key:0,class:"ait-text-center ait-py-10"},Xk={class:"ait-mt-2"},Jk={class:"ait-mt-2 ait-flex ait-items-center ait-gap-x-3"},tC={class:"ait-inline-block ait-h-12 ait-w-12 ait-rounded-md ait-overflow-hidden ait-bg-gray-100 dark:ait-bg-gray-700"},eC=["src"],iC={key:1,class:"ait-h-full ait-w-full ait-text-gray-300 dark:ait-text-gray-500",fill:"currentColor",viewBox:"0 0 24 24"},aC={class:"ait-mt-2"},sC={class:"ait-mt-2"},oC={class:"ait-mt-2"},nC={class:"ait-mt-2"},lC={class:"ait-mt-6 ait-flex ait-items-center ait-justify-end ait-gap-x-6"};function rC(t,e,a,l,n,s){return t.isLoading?(o(),r("div",Qk,e[8]||(e[8]=[i("div",{class:"ait-inline-block ait-animate-spin ait-rounded-full ait-border-4 ait-border-solid ait-border-gray-300 ait-border-t-blue-600 ait-h-12 ait-w-12 ait-mb-4"},null,-1),i("p",{class:"ait-text-gray-600 dark:ait-text-gray-400"}," Loading publisher data... ",-1)]))):(o(),r("form",{key:1,onSubmit:e[7]||(e[7]=J((...u)=>t.handleSubmit&&t.handleSubmit(...u),["prevent"])),class:"ait-space-y-6 ait-p-6 ait-rounded-lg ait-shadow"},[i("div",null,[e[9]||(e[9]=i("label",{for:"publisherName",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},"Publisher Name",-1)),i("div",Xk,[F(i("input",{type:"text",id:"publisherName","onUpdate:modelValue":e[0]||(e[0]=u=>t.formData.publisherName=u),required:"",class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 placeholder:ait-text-gray-400 dark:placeholder:ait-text-gray-500 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},null,512),[[tt,t.formData.publisherName]])])]),i("div",null,[e[13]||(e[13]=i("label",{for:"publisherIconUpload",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},"Publisher Icon",-1)),i("div",Jk,[i("span",tC,[t.formData.publisherIconPreview?(o(),r("img",{key:0,src:t.formData.publisherIconPreview,alt:"Icon preview",class:"ait-h-full ait-w-full ait-object-cover"},null,8,eC)):(o(),r("svg",iC,e[10]||(e[10]=[i("path",{d:"M24 20.993V24H0v-2.996A14.977 14.977 0 0112.004 15c4.904 0 9.26 2.354 11.996 5.993zM16.002 8.999a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])))]),i("div",null,[i("input",{type:"file",id:"publisherIconUpload",onChange:e[1]||(e[1]=(...u)=>t.handlePublisherIconChange&&t.handlePublisherIconChange(...u)),accept:"image/png, image/jpeg, image/gif",class:"ait-sr-only"},null,32),e[11]||(e[11]=i("label",{for:"publisherIconUpload",class:"ait-rounded-md ait-bg-white dark:ait-bg-white/10 ait-px-2.5 ait-py-1.5 ait-text-sm ait-font-semibold ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 hover:ait-bg-gray-50 dark:hover:ait-bg-white/20 ait-cursor-pointer"}," Change ",-1)),e[12]||(e[12]=i("p",{class:"ait-text-xs ait-leading-5 ait-text-gray-600 dark:ait-text-gray-400 ait-mt-1"}," PNG, JPG, GIF up to 1MB. ",-1))])])]),i("div",null,[e[14]||(e[14]=i("label",{for:"website",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},"Website (Optional)",-1)),i("div",aC,[F(i("input",{type:"url",id:"website","onUpdate:modelValue":e[2]||(e[2]=u=>t.formData.website=u),class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 placeholder:ait-text-gray-400 dark:placeholder:ait-text-gray-500 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},null,512),[[tt,t.formData.website]])])]),i("div",null,[e[16]||(e[16]=i("label",{for:"description",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},"Publisher Description",-1)),i("div",sC,[F(i("textarea",{id:"description","onUpdate:modelValue":e[3]||(e[3]=u=>t.formData.description=u),rows:"3",class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 placeholder:ait-text-gray-400 dark:placeholder:ait-text-gray-500 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},null,512),[[tt,t.formData.description]]),e[15]||(e[15]=i("p",{class:"ait-mt-2 ait-text-sm ait-leading-6 ait-text-gray-600 dark:ait-text-gray-400"}," A brief description of the publisher. ",-1))])]),i("div",null,[e[17]||(e[17]=i("label",{for:"email",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},"Support Email",-1)),i("div",oC,[F(i("input",{type:"email",id:"email","onUpdate:modelValue":e[4]||(e[4]=u=>t.formData.email=u),required:"",class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 placeholder:ait-text-gray-400 dark:placeholder:ait-text-gray-500 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},null,512),[[tt,t.formData.email]])])]),i("div",null,[e[19]||(e[19]=i("label",{for:"urgentEmail",class:"ait-block ait-text-sm ait-font-medium ait-leading-6 ait-text-gray-900 dark:ait-text-white"},"Urgent Contact Email",-1)),i("div",nC,[F(i("input",{type:"email",id:"urgentEmail","onUpdate:modelValue":e[5]||(e[5]=u=>t.formData.urgentEmail=u),class:"ait-block ait-w-full ait-rounded-md ait-border-0 ait-p-1.5 ait-text-gray-900 dark:ait-text-white ait-shadow-sm ait-ring-1 ait-ring-inset ait-ring-gray-300 dark:ait-ring-gray-700 placeholder:ait-text-gray-400 dark:placeholder:ait-text-gray-500 focus:ait-ring-2 focus:ait-ring-inset focus:ait-ring-indigo-600 dark:focus:ait-ring-indigo-500 sm:ait-text-sm sm:ait-leading-6 dark:ait-bg-white/5"},null,512),[[tt,t.formData.urgentEmail]]),e[18]||(e[18]=i("p",{class:"ait-mt-2 ait-text-sm ait-leading-6 ait-text-gray-600 dark:ait-text-gray-400"}," Email for urgent matters or security notifications. ",-1))])]),i("div",lC,[i("button",{type:"button",onClick:e[6]||(e[6]=(...u)=>t.handleCancel&&t.handleCancel(...u)),class:"ait-mr-2 ait-px-4 ait-py-2 ait-border ait-border-gray-300 dark:ait-border-gray-600 ait-rounded-md ait-text-sm ait-font-medium ait-text-gray-700 dark:ait-text-gray-300 hover:ait-bg-gray-50 dark:hover:ait-bg-gray-700 focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-indigo-500 focus:ait-ring-offset-2"}," Cancel "),e[20]||(e[20]=i("button",{type:"submit",class:"ait-px-4 ait-py-2 ait-bg-[--ait-tab-menu-active-bg-color] ait-text-white ait-rounded-md ait-text-sm ait-font-medium hover:ait-bg-[--ait-tab-menu-active-bg-color] focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-indigo-500 focus:ait-ring-offset-2"}," Update ",-1))])],32))}const dC=R(Yk,[["render",rC]]),cC={name:"AiEvents",extends:O,props:{chat_key:{type:String,required:!0}},data(){return{event_types:["input","output"]}},computed:{filteredEvents(){const t=this.chat_key,e=f.notUndefined(this.ai_chat,`${t}.events`);if(!e)return{};const a=["set_task_plan","update_task_progress","create_artifact","run_artifact"],l={};for(const[n,s]of Object.entries(e)){const u=((s==null?void 0:s.action)||"").toLowerCase();a.includes(u)||(l[n]=s)}return l},hasVisibleEvents(){return Object.keys(this.filteredEvents).length>0}},methods:{isChatLoadingActive(t){return this.ai_chat?!!f.notUndefined(this.ai_chat,`${t}.loading`):!1},shouldShowToolStartSpinner(t,e,a){return!(!(f.notUndefined(t,"event_type")==="on_tool_start")||e!=="input")},getRagFirstChunkMeta(t){const e=this.getRagChunks(t),a=e==null?void 0:e[0];return(a==null?void 0:a.metadata)||{}},getRagFileName(t){var a;const e=(a=this.getRagFirstChunkMeta(t))==null?void 0:a.source;return e?String(e):""},getRagTotalChunks(t){var l;const e=(l=this.getRagFirstChunkMeta(t))==null?void 0:l.total_chunks,a=Number(e);return Number.isFinite(a)?a:null},getRagReturnedChunksCount(t){return this.getRagChunks(t).length},decodeBasicEntities(t){return t==null?"":String(t).replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},getRagOutput(t){return f.notUndefined(t,"event_data.output")||{}},getRagChunks(t){var a;const e=(a=this.getRagOutput(t))==null?void 0:a.chunks;if(!e)return[];if(Array.isArray(e))return e;if(typeof e=="object"){const l=Object.entries(e);return l.sort((n,s)=>{const u=parseInt(n[0],10),c=parseInt(s[0],10);return!Number.isNaN(u)&&!Number.isNaN(c)?u-c:String(n[0]).localeCompare(String(s[0]))}),l.map(([,n])=>n)}return[]},truncate(t,e=220){const a=this.decodeBasicEntities(t);return a.length<=e?a:a.slice(0,e)+""}}},uC=["aria-data"],hC={class:"ait-relative ait-my-1 ait-min-h-6"},pC=["data-state"],gC={class:"ait-relative ait-w-full ait-text-start"},fC={class:"ait-flex ait-w-full ait-items-center ait-justify-between ait-text-start"},mC={class:"ait-flex ait-w-full ait-items-center ait-gap-0.5 ait-opn-btn"},_C={class:"ait-flex ait-items-center ait-gap-1 ait-text-start ait-align-middle hover:text-token-text-primary",style:{opacity:"1"}},vC={class:"ait-relative ait-flex ait-h-full ait-flex-col",style:{gap:"12px",margin:"4px 0px"}},bC={class:"ait-start-0 ait-end-0 ait-top-0 ait-flex ait-origin-left ait-event-item"},wC={class:"ait-relative ait-flex ait-w-full ait-items-start ait-gap-2 ait-overflow-clip"},yC={class:"ait-flex ait-min-w-0 ait-flex-col ait-gap-2 ait-text-xs"},xC={key:0,class:"ait-text-[11px] ait-font-medium ait-text-neutral-600 dark:ait-text-neutral-300"},kC={class:"ait-gap-1"},CC={key:0,class:"ait-h-3 ait-w-3 ait-m-1 ait-loading-spinner",style:{zoom:"0.8"}},$C={key:1},LC={key:0,class:"ait-flex ait-flex-wrap ait-items-stretch ait-gap-2"},SC=["innerHTML"],MC={key:0,class:"ait-flex ait-flex-col ait-gap-1 ait-p-2 ait-rounded-lg ait-border ait-border-neutral-200 dark:ait-border-neutral-700 ait-bg-white dark:ait-bg-neutral-900 ait-transition-colors ait-no-underline ait-w-full"},TC={class:"ait-flex ait-items-center ait-gap-2"},HC={class:"ait-box-content ait-h-4 ait-w-4 ait-shrink-0 ait-overflow-hidden ait-rounded-full"},AC={class:"ait-relative ait-inline-block"},PC=["src"],IC={class:"ait-text-[11px] ait-text-neutral-600 dark:ait-text-neutral-300 ait-truncate"},UC={class:"ait-text-[11px] ait-text-neutral-500 dark:ait-text-neutral-400 ait-truncate"},EC={key:0,class:"ait-text-[11px] ait-text-red-500"},jC={class:"ait-mt-1 ait-text-[11px]"},RC={class:"ait-cursor-pointer ait-text-[var(--ait-link-color)]"},BC=["innerHTML"],DC={key:1,class:"ait-flex ait-flex-col ait-gap-2 ait-p-2 ait-rounded-lg ait-border ait-border-neutral-200 dark:ait-border-neutral-700 ait-bg-white dark:ait-bg-neutral-900 ait-w-full"},OC={class:"ait-text-[11px] ait-text-neutral-600 dark:ait-text-neutral-300"},zC={key:0,class:"ait-text-[11px] ait-text-red-500"},VC={key:1,class:"ait-mt-1 ait-text-xs ait-text-neutral-700 dark:ait-text-neutral-300"},FC={key:2,class:"ait-flex ait-flex-col ait-gap-2 ait-p-2 ait-rounded-lg ait-border ait-border-neutral-200 dark:ait-border-neutral-700 ait-bg-white dark:ait-bg-neutral-900 ait-w-full"},qC={class:"ait-flex ait-items-center ait-justify-between ait-gap-2"},NC={class:"ait-flex ait-items-center ait-gap-2 ait-min-w-0"},ZC={class:"ait-text-[11px] ait-font-semibold ait-text-neutral-800 dark:ait-text-neutral-100"},WC=["title"],GC=["title"],KC={class:"ait-text-[11px]"},YC={class:"ait-cursor-pointer ait-select-none ait-text-[var(--ait-link-color)] hover:ait-underline"},QC={class:"ait-mt-2 ait-flex ait-flex-col ait-gap-2 ait-max-h-40 ait-overflow-auto"},XC={class:"ait-text-xs ait-text-neutral-700 dark:ait-text-neutral-200",style:{"white-space":"pre-wrap","word-break":"break-word"}},JC={key:0,class:"ait-flex ait-max-w-full ait-items-stretch",style:{opacity:"1"}},t$=["href"],e$={class:"ait-flex ait-items-center ait-gap-2"},i$={class:"ait-box-content ait-h-4 ait-w-4 ait-shrink-0 ait-overflow-hidden ait-rounded-full"},a$={class:"ait-relative ait-inline-block"},s$=["src"],o$={class:"ait-text-[11px] ait-text-neutral-600 dark:ait-text-neutral-300 ait-truncate"},n$={key:0,class:"ait-text-xs ait-font-medium ait-text-neutral-900 dark:ait-text-neutral-100 ait-truncate"},l$={key:1,class:"ait-text-xs ait-markdown ait-prose dark:ait-prose-invert ait-w-full ait-break-words ait-dark"},r$={key:0,class:"ait-w-full ait-max-w-lg"},d$={class:"ait-relative ait-overflow-auto ait-rounded-lg ait-bg-neutral-200 dark:ait-bg-neutral-800 ait-p-4 ait-max-h-36 ait-mb-2"},c$=["innerHTML"];function u$(t,e,a,l,n,s){const u=y("font-awesome-icon");return s.hasVisibleEvents?(o(),r("div",{key:0,class:"ait-mb-3 ait-event-list","aria-data":s.filteredEvents},[i("div",hC,[i("div",{class:"ait-relative ait-flex ait-max-w-[calc(0.8*40rem)] ait-origin-top-left ait-flex-col ait-gap-2 ait-overflow-x-clip ait-opn","data-state":s.isChatLoadingActive(a.chat_key)?"active":""},[i("div",gC,[i("div",fC,[i("button",mC,[i("span",_C,d(t.__("Thinking")),1),i("span",{class:$(["ait-icon-sm ait-inline ait-align-middle ait-transition-transform ait-opn-icon",s.isChatLoadingActive(a.chat_key)?" ait-rotate-90":""])},[b(u,{icon:"fa-solid fa-angle-right",class:"ait-w-3 ait-h-3"})],2)])])]),i("div",{class:$(["ait-relative ait-z-0 ait-opn-container",s.isChatLoadingActive(a.chat_key)?" ait-show":""]),style:{opacity:"1",height:"auto","overflow-y":"hidden"}},[i("div",vC,[(o(!0),r(L,null,B(s.filteredEvents,(c,p)=>(o(),r("div",bC,[i("div",wC,[e[2]||(e[2]=i("div",{class:"ait-flex ait-h-full ait-w-4 ait-shrink-0 ait-flex-col ait-items-center ait-gap-2"},[i("div",{class:"ait-flex ait-h-5 ait-shrink-0 ait-items-center ait-justify-center"},[i("div",{class:"ait-bg-[var(--ait-sidebar-icon-color)] ait-h-[6px] ait-w-[6px] ait-rounded-full"})]),i("div",{class:"ait-bg-[#ffffff26] ait-h-full ait-w-[1px] ait-rounded-full"})],-1)),i("div",yC,[t.Helpers.notUndefined(c,"name")||t.Helpers.notUndefined(c,"action")?(o(),r("span",xC,d(t.Helpers.notUndefined(c,"action")==="web_search"?t.__("Web search results"):t.__(t.Helpers.notUndefined(c,"name")??t.Helpers.notUndefined(c,"action")).replace(/-/g," ").toCapitalizeCase()),1)):_("",!0),(o(!0),r(L,null,B(n.event_types,m=>(o(),r("div",kC,[s.shouldShowToolStartSpinner(c,m,p)?(o(),r("div",CC)):t.Helpers.notUndefined(c,`event_data.${m}`)?(o(),r("div",$C,[t.Helpers.notUndefined(c,`event_data.${m}.0.url`)?(o(),r("div",LC)):_("",!0),typeof t.Helpers.notUndefined(c,`event_data.${m}`)!="object"?(o(),r("div",{key:1,class:"ait-text-xs ait-markdown ait-prose dark:ait-prose-invert ait-w-full ait-break-words ait-dark",innerHTML:t.ResponseBuilder.pretty(t.Helpers.notUndefined(c,`event_data.${m}`))},null,8,SC)):(o(),r("div",{key:2,class:$(t.Helpers.notUndefined(c,`event_data.${m}.0.url`)?"ait-flex ait-flex-wrap ait-items-center ait-gap-1":"")},[t.Helpers.notUndefined(c,"action")==="web_crawl"&&m==="output"&&t.Helpers.notUndefined(c,"event_data.output.url")?(o(),r("div",MC,[i("div",TC,[i("div",HC,[i("div",AC,[e[0]||(e[0]=i("div",{class:"ait-m-0 ait-h-4 ait-w-4"},null,-1)),i("img",{alt:"Favicon",width:"32",height:"32",class:"ait-m-0 ait-h-4 ait-w-4 ait-absolute ait-inset-0 ait-duration-200 motion-safe:ait-transition-opacity ait-opacity-100",src:`https://www.google.com/s2/favicons?domain=${t.Helpers.notUndefined(c,"event_data.output.url")}&sz=32`},null,8,PC)])]),i("span",IC,d(t.Helpers.urlToObjectUrl(t.Helpers.notUndefined(c,"event_data.output.url")).hostname),1)]),i("div",UC,d(t.Helpers.notUndefined(c,"event_data.output.url")),1),t.Helpers.notUndefined(c,"event_data.output.error")?(o(),r("div",EC,d(t.Helpers.notUndefined(c,"event_data.output.error")),1)):_("",!0),i("details",jC,[i("summary",RC,d(t.__("Show crawled content")),1),i("div",{class:"ait-mt-1 ait-text-xs ait-markdown ait-prose dark:ait-prose-invert ait-w-full ait-break-words ait-dark ait-max-h-40 ait-overflow-auto",innerHTML:t.ResponseBuilder.pretty(t.Helpers.notUndefined(c,"event_data.output.content")??t.Helpers.notUndefined(c,"event_data.output"))},null,8,BC)])])):t.Helpers.notUndefined(c,"action")==="generate_image"&&m==="output"?(o(),r("div",DC,[i("div",OC,d(t.__("Image generation")),1),t.Helpers.notUndefined(c,"event_data.output.error")?(o(),r("div",zC,d(t.Helpers.notUndefined(c,"event_data.output.error")),1)):_("",!0),t.Helpers.notUndefined(c,"event_data.output.prompt")?(o(),r("div",VC,d(t.Helpers.notUndefined(c,"event_data.output.prompt")),1)):_("",!0)])):t.Helpers.notUndefined(c,"action")==="rag_retrieve"&&m==="output"?(o(),r("div",FC,[i("div",qC,[i("div",NC,[i("span",ZC,d(t.__("Retrieved context")),1),s.getRagFileName(c)?(o(),r("span",{key:0,class:"ait-text-[11px] ait-text-neutral-500 dark:ait-text-neutral-400 ait-truncate",title:s.getRagFileName(c)},d(s.getRagFileName(c)),9,WC)):_("",!0)]),i("span",{class:"ait-text-[11px] ait-font-semibold ait-text-[rgba(var(--ait-main-color),1)]",title:s.getRagTotalChunks(c)!=null?`${s.getRagReturnedChunksCount(c)}/${s.getRagTotalChunks(c)} chunks`:`${s.getRagReturnedChunksCount(c)} chunks`},d(s.getRagTotalChunks(c)!=null?`${s.getRagReturnedChunksCount(c)}/${s.getRagTotalChunks(c)}`:`${s.getRagReturnedChunksCount(c)}`),9,GC)]),i("details",KC,[i("summary",YC,d(t.__("Show")),1),i("div",QC,[(o(!0),r(L,null,B(s.getRagChunks(c),(h,v)=>(o(),r("div",{key:v,class:"ait-rounded-lg ait-border ait-border-neutral-200 dark:ait-border-neutral-700 ait-bg-neutral-50 dark:ait-bg-neutral-800/40 ait-p-2"},[i("div",XC,d(s.truncate((h==null?void 0:h.content)||(h==null?void 0:h.text)||h,260)),1)]))),128))])])])):(o(),r(L,{key:3},[t.Helpers.notUndefined(c,`event_data.${m}.0.url`)?(o(!0),r(L,{key:0},B(t.Helpers.notUndefined(c,`event_data.${m}`),(h,v)=>(o(),r(L,null,[t.Helpers.notUndefined(h,"url")?(o(),r("div",JC,[i("a",{href:h.url,target:"_blank",rel:"noopener",class:"ait-flex ait-flex-col ait-gap-1 ait-p-2 ait-rounded-lg ait-border ait-border-neutral-200 dark:ait-border-neutral-700 ait-bg-white dark:ait-bg-neutral-900 hover:ait-bg-neutral-50 dark:hover:ait-bg-neutral-800 ait-transition-colors ait-no-underline ait-w-[260px]"},[i("div",e$,[i("div",i$,[i("div",a$,[e[1]||(e[1]=i("div",{class:"ait-m-0 ait-h-4 ait-w-4"},null,-1)),i("img",{alt:"Favicon",width:"32",height:"32",class:"ait-m-0 ait-h-4 ait-w-4 ait-absolute ait-inset-0 ait-duration-200 motion-safe:ait-transition-opacity ait-opacity-100",src:`https://www.google.com/s2/favicons?domain=${h.url}&sz=32`},null,8,s$)])]),i("span",o$,d(t.Helpers.urlToObjectUrl(h.url).hostname),1)]),t.Helpers.notUndefined(h,"title")?(o(),r("div",n$,d(h.title),1)):_("",!0)],8,t$)])):_("",!0)],64))),256)):(o(),r("div",l$,[t.Helpers.notUndefined(c,`event_data.${m}`)?(o(),r("div",r$,[i("div",d$,[i("div",{innerHTML:t.ResponseBuilder.pretty(t.ResponseBuilder.objectToBlockquotes(t.Helpers.notUndefined(c,`event_data.${m}`)))},null,8,c$)])])):_("",!0)]))],64))],2))])):_("",!0)]))),256))])])]))),256))])],2)],8,pC)])],8,uC)):_("",!0)}const h$=R(cC,[["render",u$]]),p$={extends:O,props:["type","model_setting_key"],mounted(){let t=f.notUndefined(this.settings,this.model_setting_key??"ai_model");if(f.notUndefined(this.settings,this.model_setting_key??"ai_model")){let e=this.$props.type??"text",a=f.notUndefined(this.settings,this.model_setting_key??"ai_model"),l=a;if(typeof a=="object"&&typeof a.model_id<"u"&&(l=a.model_id),(this.ai_type_models[e]??null)!==null){let n=!1;Object.values(this.ai_type_models[e]).forEach(s=>{a=s,typeof a=="object"&&typeof a.model_id<"u"&&(l=a.model_id),t===l&&(n=!0)}),n||this.changeStorage("settings."+(this.model_setting_key??"ai_model"),this.default_model)}}else{let e=this.default_model,a=e;e||(this.ai_type_models[this.$props.type??"text"]!==null&&typeof this.ai_type_models[this.$props.type??"text"]<"u"?a=e=this.ai_type_models[this.$props.type??"text"][0]:a=e=this.constants.ai_default_model),typeof e=="object"&&typeof e.model_id<"u"&&(a=e.model_id),t!==a&&this.changeStorage("settings."+(this.model_setting_key??"ai_model"),a)}},data(){return{model_search:null,showmodelSideBar:!1,cleanChatItem:t=>{if(!t)return"";if(typeof t=="string"&&t.trim().startsWith("{")&&t.trim().endsWith("}"))try{const e=JSON.parse(t);if(e&&typeof e=="object"&&"context"in e)return""}catch{}return t},getModelsByType:t=>!this.ai_type_models||!this.ai_type_models[t]?[]:this.ai_type_models[t],isSelectedModel:t=>{let e=t;typeof t=="object"&&t.model_id&&(e=t.model_id);let a=f.notUndefined(this.settings,this.model_setting_key??"ai_model");return this.selected_agent!=null?!1:a===e}}},methods:{clickModelEvent(t){this.changeStorage("settings."+(this.model_setting_key??"ai_model"),typeof t=="object"?t.model_id:t),this.show_model_sidebar=!1}}},g$={key:0,class:"ait-fixed ait-z-[999] ait-top-0 ait-left-0 ait-w-full ait-h-[var(--ait-height-100)] ait-bg-[rgba(0,0,0,0.4)]"},f$={"data-ait-modal":"show_model_sidebar",class:"ait-slider-modal ait-flex-none ait-w-full md:ait-w-[400px] ait-max-w-full ait-h-[var(--ait-height-100)] ait-float-right ait-mb-5"},m$={class:"ait-w-full md:ait-w-[400px] ait-max-w-full ait-bg-[var(--ait-option-card-bg-color)] ait-h-full ait-ml-0 ait-rounded-l-none"},_$={class:"ait-sidebar-header ait-h-[125px]"},v$={class:"ait-logo ait-flex ait-w-full ait-py-2 ait-border-bottom ait-border-neutral-900"},b$={class:"ait-relative ait-w-full ait-logo-text ait-items-center ait-grid ait-grid-cols-6 ait-px-4"},w$={class:"ait-font-bold ait-text-base ait-col-span-5 ait-pt-2 ait-mb-1"},y$={class:"ait-p-4"},x$={class:"ait-search ait-relative ait-w-full"},k$={class:"ait-absolute ait-top-[6px] ait-left-[10px]"},C$=["placeholder"],$$={key:0,class:"ait-pb-6 ait-px-4 ait-flex ait-h-[calc(100%_-_125px)] ait-justify-center ait-items-center"},L$={class:"ait-flex ait-flex-col"},S$=["src"],M$={class:"ait-flex ait-justify-center ait-text-base"},T$={key:1,class:"ait-flex-1 ait-pb-4 ait-space-y-1 ait-px-1 ait-flex ait-h-[calc(100%_-_125px)] ait-flex-col ait-overflow-y-auto"},H$={class:"ait-py-2 ait-px-2 ait-flex ait-items-center ait-text-sm ait-text-neutral-800 after:ait-flex-1 after:ait-border-t after:ait-border-neutral-200 after:ait-ms-4 dark:ait-text-white dark:after:ait-border-neutral-600"},A$=["onClick"],P$={class:"ait-grid-cols-2 ait-pr-1 ait-leading-6 ait-flex ait-items-center ait-justify-center ait-gap-2"},I$={class:"ait-ai-icon ait-flex ait-justify-center ait-items-center ait-rounded-full ait-min-h-8 ait-min-w-8 ait-h-8 ait-w-8 ait-max-h-8 ait-max-w-8"},U$={class:"ait-grid ait-grid-cols-1"},E$={class:"ait-font-bold ait-truncate"},j$={key:0,class:"ait-col-span-5 ait-leading-6 ait-text-xs ait-text-neutral-400 dark:ait-text-neutral-400 ait-truncate"},R$={class:"ait-py-2 ait-px-2 ait-flex ait-items-center ait-text-sm ait-text-neutral-800 after:ait-flex-1 after:ait-border-t after:ait-border-neutral-200 after:ait-ms-4 dark:ait-text-white dark:after:ait-border-neutral-600"};function B$(t,e,a,l,n,s){const u=y("font-awesome-icon"),c=y("ModelLogo"),p=y("AgentList");return this.show_model_sidebar?(o(),r("div",g$,[i("div",f$,[i("div",m$,[i("div",_$,[i("div",v$,[i("div",b$,[i("div",w$,d(t.__("AI Models & Agents")),1),i("button",{type:"button",class:"ait-absolute ait-right-3 ait-text-neutral-400 ait-bg-transparent hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center dark:hover:ait-bg-neutral-600 dark:hover:ait-text-white",onClick:e[0]||(e[0]=m=>this.show_model_sidebar=!1)},e[2]||(e[2]=[i("svg",{class:"ait-w-3 ait-h-3","aria-hide":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)]))])]),e[3]||(e[3]=i("div",{class:"ait-py-1"},[i("hr")],-1)),i("div",y$,[i("div",x$,[i("div",k$,[b(u,{icon:"fa-solid fa-magnifying-glass",class:"ait-h-5 ait-w-5"})]),F(i("input",{"onUpdate:modelValue":e[1]||(e[1]=m=>this.model_search=m),type:"text",placeholder:t.__("Search models..."),class:"ait-block ait-w-full ait-p-2 ait-pl-[40px] ait-text-xs ait-text-neutral-900 ait-border ait-border-neutral-300 ait-rounded-lg ait-bg-neutral-50 focus:ait-ring-green-500 focus:ait-border-green-500 dark:ait-bg-neutral-800 dark:ait-border-neutral-600 dark:ait-placeholder-neutral-400 dark:ait-text-white dark:focus:ait-ring-green-500 dark:focus:ait-border-green-500"},null,8,C$),[[tt,this.model_search]])])])]),!this.getModelsByType(this.$props.type??"text")||this.getModelsByType(this.$props.type??"text").length===0?(o(),r("div",$$,[i("div",L$,[i("img",{src:`${t.constants.extension_dir}assets/images/no-data-planet.png`,class:"ait-max-h-32",alt:"no data"},null,8,S$),i("label",M$,d(t.__("No Models Available")),1)])])):(o(),r("div",T$,[i("div",H$,d(t.__("Base Models")),1),(o(!0),r(L,null,B(t.Helpers.getSearchFilter(this.getModelsByType(this.$props.type??"text"),this.model_search,!0),(m,h)=>(o(),r("div",{key:h,class:"ait-relative ait-model-element"},[m?(o(),r("div",{key:0,class:$("ait-card ait-p-2 ait-m-1 ait-flex ait-grid ait-bg-neutral-100 dark:ait-bg-neutral-800 ait-flex-row ait-justify-between ait-cursor-pointer "+(this.isSelectedModel(m)?"ait-border-[var(--ait-tab-menu-active-bg-color)] ait-text-[var(--ait-tab-menu-active-bg-color)]":"hover:ait-border-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-[var(--ait-tab-menu-active-bg-color)]")),onClick:v=>this.clickModelEvent(m)},[i("div",P$,[i("div",I$,[b(c,{model:m},null,8,["model"])]),i("div",U$,[i("span",E$,d(typeof m=="object"?m.title:m),1),typeof m=="object"&&m.detail?(o(),r("span",j$,d(m.detail),1)):_("",!0)])])],10,A$)):_("",!0)]))),128)),i("div",R$,d(t.__("Favorite Agents")),1),b(p,{search:this.model_search},null,8,["search"])]))])])])):_("",!0)}const D$=R(p$,[["render",B$]]),O$=rt({extends:O,name:"AgentList",props:{mode:{type:String,default:"full"},search:{type:String,default:null}},data(){return{activeTab:"Agent",agents:[],loading:!1,loadingMore:!1,currentPage:1,hasMorePages:!0,scrollContainer:null,showCreateModal:!1,showDeleteModal:!1,agentToDelete:null,newAgent:{name:"",prompt:"",description:"",short_description:"",model:"GPT-4o Mini",accessibility:"Private"},showAccessibilityDropdown:!1,isInChatMode:!1}},async mounted(){let e=new URLSearchParams(window.location.search).get("id"),a=0;if(e){await this.fetchagents(!0,e);let l=this.agents.filter(n=>n._listkey===e);if(f.notUndefined(l,"0.name"))a=1,this.openChat(f.notUndefined(l,"0"));else return}a==0&&await this.fetchagents(),this.setupScrollListener(),document.addEventListener("click",this.handleOutsideClick),this.$watch(()=>this.$props.search,async()=>{this.$props.search&&(this.$props.search.toString().length>3?await this.fetchagents():this.$props.search.toString().length>0&&await this.fetchagents())})},beforeUnmount(){this.removeScrollListener(),document.removeEventListener("click",this.handleOutsideClick)},methods:{async fetchagents(t=!1,e=null){t?this.loadingMore=!0:(this.loading=!0,this.currentPage=1,this.agents=[]);try{let a=[];if(e==null){let{data:n}=await yt.search(this.$props.search,this.currentPage);a=n}else a=[await yt.get(e)];if(!a||a.length===0||typeof a.map!="function"){this.hasMorePages=!1;return}const l=a;t?this.agents=[...this.agents,...l]:this.agents=l,this.currentPage++}catch(a){console.error("Error fetching agents:",a)}finally{this.loading=!1,this.loadingMore=!1}},async loadSpecificAgent(t){this.loading=!0;try{const e=await yt.get(t);e?(this.selected_agent=e,this.isInChatMode=!0):(console.error(`Agent with ID ${t} not found.`),await this.fetchagents(),this.setupScrollListener())}catch(e){console.error("Error loading specific agent:",e),await this.fetchagents(),this.setupScrollListener()}finally{this.loading=!1}},setupScrollListener(){this.$nextTick(()=>{const t=document.querySelector(".agents-list");t&&(this.scrollContainer=t,t.addEventListener("scroll",this.handleScroll))})},removeScrollListener(){this.scrollContainer&&(this.scrollContainer.removeEventListener("scroll",this.handleScroll),this.scrollContainer=null)},handleScroll(){if(this.loading||this.loadingMore||!this.hasMorePages)return;const t=this.scrollContainer;if(!t)return;const e=t.scrollTop+t.clientHeight,a=t.scrollHeight;e>a-100&&this.loadMoreagents()},async loadMoreagents(){this.hasMorePages&&!this.loadingMore&&await this.fetchagents(!0)},switchTab(t){this.activeTab=t},getActionIcon(t){switch(t){case"chat":return"fa-solid fa-comment-dots";case"edit":return"fa-solid fa-edit";case"delete":return"fa-solid fa-trash";default:return""}},toggleCreateModal(){this.showCreateModal=!this.showCreateModal},resetAgentForm(){this.newAgent={name:"",prompt:"",description:"",short_description:"",model:"GPT-4o Mini",accessibility:"Private"}},cancelCreateAgent(){this.toggleCreateModal(),this.resetAgentForm()},async createAgent(){try{if(!this.newagent.title.trim()){console.error("Agent name is required");return}const t="fa-solid fa-robot";console.log(this.newAgent,"newAgent");const e=await yt.set(this.newagent.title.trim(),this.newagent.base_model_id,this.newagent.detail.trim(),this.newagent.personalization.trim(),t,this.newAgent.accessibility,[],[],this.newAgent.short_description.trim());console.log(e,"result"),this.toggleCreateModal(),this.resetAgentForm(),console.log(this.agents,"this.agents"),console.log(e,"result"),await this.fetchagents(),this.openChat(this.agents[0])}catch(t){console.error("Error creating agent:",t)}},autoCreateAgentName(){const t=["Master translator","Writing expert","Code assistant","Financial advisor","Travel planner"];this.newagent.title=t[Math.floor(Math.random()*t.length)]},confirmDelete(t){this.agentToDelete=t,this.showDeleteModal=!0},cancelDelete(){this.agentToDelete=null,this.showDeleteModal=!1},async deleteAgent(){if(this.agentToDelete){console.log(this.agentToDelete,"agentToDelete");try{await yt.delete(this.agentToDelete.id),await this.fetchagents(),this.cancelDelete()}catch(t){console.error("Error deleting agent:",t)}}},selectAccessibility(t){this.newAgent.accessibility=t,this.showAccessibilityDropdown=!1},handleOutsideClick(t){if(this.showAccessibilityDropdown){const e=document.querySelector(".accessibility-dropdown-container");e&&!e.contains(t.target)&&(this.showAccessibilityDropdown=!1)}},openChat(t){this.changeStorage("selected_agent",t),this.selected_agent=t,this.isInChatMode=!0,this.newChat(),this.removeScrollListener()},returnToAgentList(){this.isInChatMode=!1,this.selected_agent=null,this.$nextTick(()=>{this.setupScrollListener()})},openEditPage(t){this.constants.runtime_id!=null?this.clickOpenPage(`${this.constants.extension_main_dir}/agent_manage.html?id=${t}`):window.location.href=`${this.constants.extension_main_dir}/agent_manage.html?id=${t}`}}}),z$={class:"ait-flex ait-flex-col ait-h-full ait-text-[var(--ait-text-color)]"},V$={class:"ait-flex-1 ait-pb-4 ait-space-y-3 agents-list"},F$={key:0,class:"ait-text-center ait-py-4 ait-text-[var(--ait-text-color-secondary)]"},q$={key:1,class:"ait-text-center ait-py-4 ait-text-[var(--ait-text-color-secondary)]"},N$=["onClick"],Z$={class:"ait-grid-cols-2 ait-pr-1 ait-leading-6 ait-flex ait-items-center ait-justify-center ait-gap-2"},W$={class:"ait-ai-icon ait-flex ait-justify-center ait-items-center ait-rounded-full ait-min-h-8 ait-min-w-8 ait-h-8 ait-w-8 ait-max-h-8 ait-max-w-8"},G$={class:"ait-grid ait-grid-cols-1"},K$={class:"ait-font-bold ait-truncate"},Y$={key:0,class:"ait-col-span-5 ait-leading-6 ait-text-xs ait-text-neutral-400 dark:ait-text-neutral-400 ait-truncate"},Q$={key:3,class:"ait-text-center ait-py-4 ait-text-[var(--ait-text-color-secondary)] ait-flex ait-items-center ait-justify-center ait-gap-2"},X$={key:4,class:"ait-text-center ait-py-4 ait-text-[var(--ait-text-color-secondary)]"},J$={key:5,class:"ait-text-center ait-py-4"};function tL(t,e,a,l,n,s){const u=y("AgentLogo");return o(),r("div",z$,[i("div",V$,[t.loading?(o(),r("div",F$," Loading agents... ")):!t.loading&&t.agents.length===0?(o(),r("div",q$," No agents found. ")):(o(!0),r(L,{key:2},B(t.agents,c=>(o(),r("div",{key:c._listkey,class:"ait-relative ait-model-element"},[c?(o(),r("div",{key:0,class:$("ait-card ait-p-2 ait-m-1 ait-flex ait-grid ait-bg-neutral-100 dark:ait-bg-neutral-800 ait-flex-row ait-justify-between ait-cursor-pointer "+(t.Helpers.notUndefined(this.selected_agent,"_listkey")==c._listkey?"ait-border-[var(--ait-tab-menu-active-bg-color)] ait-text-[var(--ait-tab-menu-active-bg-color)]":"hover:ait-border-[var(--ait-tab-menu-active-bg-color)] hover:ait-text-[var(--ait-tab-menu-active-bg-color)]")),onClick:p=>this.changeStorage("selected_agent",c)},[i("div",Z$,[i("div",W$,[c?(o(),E(u,{key:0,agent:c},null,8,["agent"])):_("",!0)]),i("div",G$,[i("span",K$,d(c.title),1),typeof c=="object"&&c.short_description?(o(),r("span",Y$,d(c.short_description),1)):_("",!0)])])],10,N$)):_("",!0)]))),128)),t.loadingMore?(o(),r("div",Q$,e[1]||(e[1]=[i("div",{class:"ait-loader ait-w-4 ait-h-4 ait-border-2 ait-border-t-transparent ait-rounded-full ait-animate-spin"},null,-1),U(" Loading more agents... ")]))):_("",!0),!t.hasMorePages&&t.agents.length>0&&!t.loading&&!t.loadingMore?(o(),r("div",X$," No more agents to load. ")):_("",!0),t.hasMorePages&&t.agents.length>0&&!t.loading&&!t.loadingMore?(o(),r("div",J$,[i("button",{onClick:e[0]||(e[0]=(...c)=>t.loadMoreagents&&t.loadMoreagents(...c)),class:"ait-bg-[var(--ait-option-card-bg-color)] ait-rounded-lg ait-px-6 ait-py-2 ait-text-sm hover:ait-bg-[var(--ait-tab-menu-hover-bg-color)]","data-ait-modal":"show_model_sidebar"}," Load More ")])):_("",!0)])])}const eL=R(O$,[["render",tL],["__scopeId","data-v-c60dfa5e"]]),iL={extends:O,props:["model","check_logo"],computed:{show_logo:{get(){return this.CheckLogo()??!0},set(t){this.$emit("update:modelValue",t)}},model_detail:{get(){return this.getModelDetails(this.$props.model)??this.$props.model},set(t){this.$emit("update:modelValue",t)}}},methods:{checkColor(){return this.app_details.app_logo.indexOf('fill="#000000"')!==-1||this.app_details.app_logo.indexOf('fill="currentColor"')!==-1},CheckLogo(){return!((this.$props.check_logo??!1)&&f.notUndefined(this.model_detail,"use_logo")=="0")}}},aL=["innerHTML"],sL=["src"];function oL(t,e,a,l,n,s){const u=y("svg-logo");return s.show_logo?(o(),r(L,{key:0},[s.model_detail.icon?(o(),r(L,{key:0},[typeof s.model_detail=="object"&&s.model_detail.icon.toString().indexOf("<svg")!==-1?(o(),r("span",{key:0,class:$([t.$attrs.class??"ait-w-full ait-h-full","ait-flex"]),innerHTML:s.model_detail.icon},null,10,aL)):typeof s.model_detail=="object"&&s.model_detail.icon?(o(),r("img",{key:1,class:$(t.$attrs.class??"ait-w-full ait-h-full"),src:s.model_detail.icon},null,10,sL)):(o(),E(u,{key:2,className:t.$attrs.class??"ait-w-full ait-h-full",name:t.ModelBySvg(typeof s.model_detail=="object"?s.model_detail.model_id:s.model_detail)??"logo"},null,8,["className","name"]))],64)):(o(),E(u,{key:1,className:t.$attrs.class??"ait-w-full ait-h-full",name:t.ModelBySvg(typeof s.model_detail=="object"?s.model_detail.model_id:s.model_detail)??"logo"},null,8,["className","name"]))],64)):_("",!0)}const nL=R(iL,[["render",oL]]),lL={extends:O,props:["api","scroll_element","fn","filters","max_page"],data(){return{build_filters:this.$props.filters??{page:1},finish_load:!0,scrollContainer:null,more_key:null,more_loading:!1}},beforeUnmount(){this.removeScrollListener()},methods:{setupScrollListener(){const t=document.querySelector(this.$props.scroll_element);t&&(this.scrollContainer=t,t.addEventListener("scroll",this.handleScroll),t.addEventListener("wheel",this.handleScroll))},removeScrollListener(){this.scrollContainer&&(this.scrollContainer.removeEventListener("scroll",this.handleScroll),this.scrollContainer.removeEventListener("wheel",this.handleScroll),this.scrollContainer=null)},handleScroll(){if(this.more_loading||this.$props.max_page>=0&&this.$props.max_page<=this.build_filters.page)return;const t=this.scrollContainer;if(!t)return;const e=t.scrollTop+t.clientHeight,a=t.scrollHeight;if(e>a-100){this.more_loading=!0,this.build_filters.page++;let l=this.$props.fn(...Object.values(this.build_filters));typeof l.then<"u"?l.then(n=>{n.length>0&&(this.more_loading=!1)}):l==null?this.more_loading=!1:l.length>0&&(this.more_loading=!1)}},getKey(){return this.more_key!==null?this.more_key:(this.more_key=this.$props.key??new Date().getTime()+"_load_more",this.more_key)}},mounted(){this.build_filters=this.$props.filters??{page:1},this.setupScrollListener()},created(){}},rL=["data-key"],dL={key:0,class:"ait-w-full ait-flex ait-justify-center ait-mt-4"},cL={class:"ait-flex ait-w-16"};function uL(t,e,a,l,n,s){return o(),r(L,null,[i("div",{class:$(["ait-load-more",t.$attrs.class]),"data-key":s.getKey()},[Kt(t.$slots,"default")],10,rL),this.more_loading?(o(),r("div",dL,[i("div",cL,[i("div",null,d(t.__("Loading")),1),e[0]||(e[0]=i("div",{class:"ait-ml-4 ait-loading-spinner"},null,-1))])])):_("",!0)],64)}const hL=R(lL,[["render",uL]]),pL={name:"Speech",props:["blob"],extends:O},gL={class:"ait-justify-items-center ait-w-full"},fL={key:0,class:"ait-justify-items-center ait-content-center ait-h-full ait-w-full"};function mL(t,e,a,l,n,s){const u=y("font-awesome-icon");return o(),r(L,null,[i("div",{id:"ait-speech-wave",class:$(["ait-w-full",this.speech_record==1?"":"ait-hidden"])},null,2),i("div",gL,[i("div",{class:$(["ait-flex ait-gap-2 ait-w-[140px] ait-items-center",this.speech_record==1?"":"ait-hidden"])},[i("div",{role:"button",onClick:e[0]||(e[0]=c=>t.speechToText("cancel")),class:"ait-flex-center ait-bg-grey-fill2-normal hover:ait-bg-grey-fill2-hover ait-text-text-primary-1 ait-cursor-pointer ait-rounded-full ait-size-8"},[b(u,{icon:"fa-solid fa-xmark",class:"ait-h-8 ait-w-8"})]),e[2]||(e[2]=i("div",{class:"ait-text-center ait-tabular-nums ait-flex-1 ait-text-primary-3",id:"ait-speech-time"},"00:00",-1)),i("div",{role:"button",onClick:e[1]||(e[1]=c=>t.speechToText("send")),class:"ait-flex-center bg-text-primary-1 ait-text-secondary-1 ait-rounded-full hover:ait-bg-text-primary-2 ait-cursor-pointer ait-size-8"},[b(u,{icon:"fa-solid fa-check",class:"ait-h-8 ait-w-8"})])],2)]),this.speech_record==2?(o(),r("div",fL,e[3]||(e[3]=[i("div",{class:"ait-loading-spinner"},null,-1)]))):_("",!0)],64)}const _L=R(pL,[["render",mL]]),vL={extends:O,data(){return{showDropdown:!1}},mounted(){f.initAutoPositionDropdowns()},methods:{toggleDropdown(){this.showDropdown=!this.showDropdown},getVoices(t=null){return t==null&&(t=f.notUndefined(this.settings,"voice_id")),console.log(this.voices),this.voices.filter(e=>e.voice_id===t)},remove(t){t()},onDropdownOpen(){this.$nextTick(()=>{const t=document.querySelector(".ait-panel-auto-position");t&&f.autoPositionDropdown(t)})}}},bL={class:"ait-panel-auto-position ait-absolute dark:ait-bg-neutral-800 ait-bg-white ait-left-0 ait-z-[999] ait-mt-[1px] ait-border-[1px] dark:ait-border-neutral-700 ait-border-neutral-50 ait-max-w-md ait-transform ait-rounded-lg ait-p-1 ait-shadow-lg"},wL=["onClick"],yL={class:"ait-w-full"},xL={class:"ait-gap-4 ait-text-neutral-900 dark:ait-text-white ait-text-sm dark:ait-text-neutral-400"},kL={class:"ait-ai-icon ait-w-[100px] ait-flex ait-gap-2 ait-text-[12px]"};function CL(t,e,a,l,n,s){const u=y("font-awesome-icon"),c=y("PopoverButton"),p=y("ModelLogo"),m=y("PopoverPanel"),h=y("Popover");return o(),E(h,{class:"ait-relative"},{default:D(({close:v})=>[b(c,{class:"group ait-flex ait-rounded-none ait-items-center ait-gap-2 dark:ait-bg-neutral-800 ait-bg-white ait-py-2 ait-px-2 hover:dark:ait-bg-neutral-700 hover:ait-bg-neutral-50"},{default:D(()=>[b(u,{icon:"fa-solid fa-chevron-down",class:"ait-w-[14px] ait-h-[14px]"})]),_:1}),b(_t,{"enter-active-class":"ait-transition ait-duration-200 ait-ease-out","enter-from-class":"ait-translate-y-1 ait-opacity-0","enter-to-class":"ait-translate-y-0 ait-opacity-100","leave-active-class":"ait-transition ait-duration-150 ait-ease-in","leave-from-class":"ait-translate-y-0 ait-opacity-100","leave-to-class":"ait-translate-y-1 ait-opacity-0",onEnter:s.onDropdownOpen},{default:D(()=>[b(m,null,{default:D(()=>[i("div",bL,[this.voices?(o(!0),r(L,{key:0},B(this.voices,(g,w)=>(o(),r("div",{key:w,class:"ait-flex ait-px-4 ait-py-2.5 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 hover:ait-rounded-lg ait-cursor-pointer",style:Q(this.settings.voice_id===g.voice_id?"background:rgba(1,167,125,.3);":""),onClick:C=>{t.changeStorage("settings.voice_id",g.voice_id,!1),n.showDropdown=!1,s.remove(v)}},[i("div",yL,[i("div",xL,[i("div",kL,[g.icon?(o(),E(p,{key:0,class:"ait-w-[16px] ait-h-[16px]",model:g.icon},null,8,["model"])):_("",!0),U(" "+d(g.title),1)])])])],12,wL))),128)):_("",!0)])]),_:2},1024)]),_:2},1032,["onEnter"])]),_:1})}const $L=R(vL,[["render",CL]]),LL={extends:O,props:["value"],methods:{closeCampaign(){this.campaign_modal_show=!1,this.changeStorage("campaign_modal_limit_date",new Date(new Date().getTime()+60*60*24*1e3).getTime())},maybeCampaign(){this.changeStorage("campaign_modal_later",!0),this.closeCampaign()}}},SL={class:"aitopia light"},ML={class:"ait-max-w-[1200px] ait-relative"},TL={class:"ait-sr-only"},HL={class:"ait-max-w-[1100px] ait-border-b ait-pb-8 ait-mx-auto ait-grid ait-grid-cols-1 md:ait-grid-cols-3 ait-gap-6"},AL={class:"ait-bg-white ait-rounded-xl ait-shadow-md ait-p-8 ait-border ait-border-grey-300 ait-col-span-2"},PL={class:"ait-text-xl ait-text-gray-900 ait-mb-2"},IL={class:"ait-text-gray-700 ait-mb-4"},UL={class:"ait-list-disc ait-ml-5 ait-space-y-4 ait-mb-4 ait-text-gray-700 ait-font-[14px]"},EL={class:"ait-my-4"},jL={class:"ait-text-gray-900 ait-mb-2"},RL={class:"ait-flex ait-flex-wrap ait-gap-2"},BL={class:"ait-bg-emerald-600 ait-text-white ait-px-3 ait-py-1 ait-rounded-full ait-text-sm"},DL={class:"ait-bg-emerald-600 ait-text-white ait-px-3 ait-py-1 ait-rounded-full ait-text-sm"},OL={class:"ait-bg-emerald-600 ait-text-white ait-px-3 ait-py-1 ait-rounded-full ait-text-sm"},zL={class:"ait-bg-emerald-600 ait-text-white ait-px-3 ait-py-1 ait-rounded-full ait-text-sm"},VL={class:"ait-bg-emerald-600 ait-text-white ait-px-3 ait-py-1 ait-rounded-full ait-text-sm"},FL={class:"ait-bg-gray-700 ait-text-white ait-px-3 ait-py-1 ait-rounded-full ait-text-sm"},qL={class:"ait-flex ait-space-x-6 ait-mt-6"},NL={class:"ait-flex ait-hover-campaign-model ait-items-center ait-space-x-2"},ZL={class:"ait-text-gray-800"},WL={class:"ait-text-gray-500"},GL={class:"ait-flex ait-hover-campaign-model ait-items-center ait-space-x-2"},KL={class:"ait-text-gray-800"},YL={class:"ait-text-gray-500"},QL={class:"ait-flex ait-hover-campaign-model ait-items-center ait-space-x-2"},XL={class:"ait-text-gray-800"},JL={class:"ait-text-gray-500"},tS={class:"ait-bg-white ait-rounded-xl ait-shadow-md ait-p-6 ait-flex ait-flex-col ait-justify-between"},eS={class:"ait-inline-block ait-bg-green-100 ait-text-green-800 ait-text-xs ait-font-semibold ait-px-2 ait-py-1 ait-rounded-full ait-mb-3"},iS={class:"ait-text-[var(--ait-tab-menu-active-bg-color)] ait-text-sm ait-mb-4"},aS={class:"ait-text-sm ait-text-gray-500 ait-mb-4"},sS={class:"ait-space-y-4 ait-border ait-p-4 ait-rounded ait-border-grey-300 ait-text-sm ait-text-gray-700 ait-bg-[#f8f9fa] ait-mb-6"},oS={class:"ait-flex ait-flex-col ait-space-y-2"},nS={key:1,id:"ait-campaign-modal",class:"ait-fixed ait-top-0 ait-z-[9999999999] ait-left-0 ait-w-full ait-h-[100vh] ait-bg-black ait-bg-opacity-50 ait-flex ait-items-center ait-justify-center ait-p-2 ait-overflow-auto"},lS={class:"ait-bg-slate-800 ait-rounded-2xl ait-shadow-2xl ait-max-w-2xl ait-w-full ait-max-h-[95vh] ait-overflow-auto ait-relative"},rS={class:"ait-p-2"},dS={class:"ait-text-center ait-mb-2"},cS={class:"ait-flex ait-items-center ait-justify-center ait-mb-4"},uS={class:"ait-text-2xl ait-font-bold ait-text-teal-400"},hS=["textContent"],pS={class:"ait-mb-2"},gS={class:"ait-flex ait-items-center ait-mb-4"},fS={class:"ait-text-lg ait-font-semibold ait-text-white"},mS={class:"ait-grid ait-grid-cols-1 md:ait-grid-cols-2 ait-gap-6 ait-mb-8"},_S={class:"ait-bg-slate-700 ait-rounded-xl ait-p-4"},vS={class:"ait-text-red-400 ait-font-semibold ait-mb-3"},bS={class:"ait-space-y-2 ait-text-sm ait-text-gray-300"},wS={class:"ait-flex ait-items-center"},yS={class:"ait-flex ait-items-center"},xS={class:"ait-flex ait-items-center"},kS={class:"ait-bg-gradient-to-br ait-from-teal-600 ait-to-teal-700 ait-rounded-xl ait-p-6 ait-border-2 ait-border-teal-400"},CS={class:"ait-text-teal-200 ait-font-semibold ait-mb-3"},$S={class:"ait-text-xs ait-text-teal-200 ait-mb-4"},LS={class:"ait-text-xs ait-text-teal-200 ait-mb-4"},SS={class:"ait-text-xs ait-text-teal-200 ait-mb-4"},MS={class:"ait-text-xs ait-text-teal-200"},TS={class:"ait-text-center ait-space-y-4"},HS={key:2,id:"ait-campaign-modal",class:"ait-fixed ait-top-0 ait-z-[9999999999] ait-left-0 ait-w-full ait-h-[100vh] ait-bg-gray-50 ait-p-4 md:ait-p-8 ait-font-sans ait-text-gray-800 ait-overflow-auto"},AS={class:"ait-sr-only"},PS={class:"ait-max-w-6xl ait-mx-auto"},IS={class:"ait-text-center ait-mb-8"},US={class:"ait-text-2xl md:ait-text-3xl ait-font-bold ait-text-gray-900"},ES={class:"ait-flex ait-flex-col lg:ait-flex-row ait-gap-6 ait-justify-center ait-items-stretch ait-mb-12"},jS={class:"ait-bg-white ait-rounded-2xl ait-shadow-lg ait-border ait-border-gray-200 ait-flex-1 ait-max-w-md ait-mx-auto lg:ait-mx-0"},RS={class:"ait-p-6 md:ait-p-8"},BS={class:"ait-text-center ait-mb-6"},DS={class:"ait-text-sm ait-font-medium ait-text-gray-600 ait-mb-2"},OS={class:"ait-text-xl ait-font-bold ait-text-gray-900 ait-mb-4"},zS={class:"ait-mb-4"},VS={class:"ait-text-gray-600"},FS={class:"ait-space-y-3 ait-text-sm"},qS={class:"ait-flex ait-items-center"},NS={class:"ait-text-gray-700"},ZS={class:"ait-flex ait-items-center"},WS={class:"ait-text-gray-700"},GS={class:"ait-flex ait-items-center"},KS={class:"ait-text-gray-700"},YS={class:"ait-flex ait-items-center"},QS={class:"ait-text-gray-700"},XS={class:"ait-flex ait-items-center"},JS={class:"ait-text-gray-700"},tM={class:"ait-flex ait-items-center"},eM={class:"ait-text-red-600"},iM={class:"ait-flex ait-items-center ait-justify-center ait-my-4 lg:ait-my-0"},aM={class:"ait-bg-teal-500 ait-text-white ait-rounded-full ait-w-12 ait-h-12 ait-flex ait-items-center ait-justify-center ait-font-bold ait-text-lg ait-shadow-lg"},sM={class:"ait-bg-gradient-to-br ait-from-teal-50 ait-to-emerald-50 ait-rounded-2xl ait-shadow-lg ait-border-2 ait-border-teal-200 ait-flex-1 ait-max-w-md ait-mx-auto lg:ait-mx-0 ait-relative"},oM={class:"ait-absolute ait-top-4 ait-right-4"},nM={class:"ait-bg-teal-500 ait-text-white ait-text-xs ait-font-bold ait-px-3 ait-py-1 ait-rounded-full"},lM={class:"ait-p-6 md:ait-p-8"},rM={class:"ait-text-center ait-mb-6"},dM={class:"ait-text-sm ait-font-medium ait-text-[var(--ait-tab-menu-active-bg-color)] ait-mb-2"},cM={class:"ait-text-xl ait-font-bold ait-text-gray-900 ait-mb-4"},uM={class:"ait-mb-2"},hM={class:"ait-text-gray-600"},pM={class:"ait-bg-teal-100 ait-text-teal-700 ait-text-sm ait-font-medium ait-px-3 ait-py-1 ait-rounded-full ait-inline-block"},gM={class:"ait-space-y-3 ait-text-sm"},fM={class:"ait-flex ait-items-center"},mM={class:"ait-text-gray-700"},_M={class:"ait-flex ait-items-center"},vM={class:"ait-text-gray-700"},bM={class:"ait-flex ait-items-center"},wM={class:"ait-text-gray-700"},yM={class:"ait-flex ait-items-center"},xM={class:"ait-text-gray-700"},kM={class:"ait-flex ait-items-center"},CM={class:"ait-text-gray-700"},$M={class:"ait-flex ait-items-center"},LM={class:"ait-text-gray-700"},SM={class:"ait-text-center ait-mb-8"},MM={class:"ait-text-2xl ait-font-bold ait-text-gray-900"},TM={class:"ait-grid ait-grid-cols-1 md:ait-grid-cols-2 lg:ait-grid-cols-4 ait-gap-6 ait-mb-8"},HM={class:"ait-bg-white ait-rounded-xl ait-shadow-md ait-border ait-border-gray-200 ait-p-6"},AM={class:"ait-flex ait-items-center ait-mb-4"},PM={class:"ait-font-bold ait-text-gray-900 ait-text-sm"},IM={class:"ait-space-y-4"},UM={class:"ait-border-b ait-border-gray-100 ait-pb-3"},EM={class:"ait-text-xs ait-font-medium ait-text-gray-700 ait-mb-2"},jM={class:"ait-flex ait-justify-between ait-text-xs"},RM={class:"ait-font-medium"},BM={class:"ait-font-medium"},DM={class:"ait-space-y-3 ait-text-xs"},OM={class:"ait-text-gray-600 ait-mb-1"},zM={class:"ait-flex ait-justify-between ait-items-center"},VM={class:"ait-text-gray-700"},FM={class:"ait-text-[var(--ait-tab-menu-active-bg-color)] ait-font-medium"},qM={class:"ait-text-gray-600 ait-mb-1"},NM={class:"ait-flex ait-justify-between ait-items-center"},ZM={class:"ait-text-red-500"},WM={class:"ait-text-green-500"},GM={class:"ait-bg-white ait-rounded-xl ait-shadow-md ait-border ait-border-gray-200 ait-p-6"},KM={class:"ait-flex ait-items-center ait-mb-4"},YM={class:"ait-font-bold ait-text-gray-900 ait-text-sm"},QM={class:"ait-space-y-4"},XM={class:"ait-border-b ait-border-gray-100 ait-pb-3"},JM={class:"ait-text-xs ait-font-medium ait-text-gray-700 ait-mb-2"},tT={class:"ait-flex ait-justify-between ait-text-xs"},eT={class:"ait-font-medium"},iT={class:"ait-font-medium"},aT={class:"ait-space-y-3 ait-text-xs"},sT={class:"ait-text-gray-600 ait-mb-1"},oT={class:"ait-flex ait-justify-between ait-items-center"},nT={class:"ait-text-red-600"},lT={class:"ait-text-green-600 ait-font-medium"},rT={class:"ait-text-gray-600 ait-mb-1"},dT={class:"ait-flex ait-justify-between ait-items-center"},cT={class:"ait-text-red-500"},uT={class:"ait-text-green-500"},hT={class:"ait-bg-white ait-rounded-xl ait-shadow-md ait-border ait-border-gray-200 ait-p-6"},pT={class:"ait-flex ait-items-center ait-mb-4"},gT={class:"ait-font-bold ait-text-gray-900 ait-text-sm"},fT={class:"ait-space-y-4"},mT={class:"ait-border-b ait-border-gray-100 ait-pb-3"},_T={class:"ait-text-xs ait-font-medium ait-text-gray-700 ait-mb-2"},vT={class:"ait-flex ait-justify-between ait-text-xs"},bT={class:"ait-font-medium"},wT={class:"ait-font-medium"},yT={class:"ait-space-y-3 ait-text-xs"},xT={class:"ait-text-gray-600 ait-mb-1"},kT={class:"ait-flex ait-justify-between ait-items-center"},CT={class:"ait-text-red-500"},$T={class:"ait-text-green-600 ait-font-medium"},LT={class:"ait-text-gray-600 ait-mb-1"},ST={class:"ait-flex ait-justify-between ait-items-center"},MT={class:"ait-text-red-500"},TT={class:"ait-text-green-500"},HT={class:"ait-text-gray-600 ait-mb-1"},AT={class:"ait-flex ait-justify-between ait-items-center"},PT={class:"ait-text-red-500"},IT={class:"ait-text-green-500"},UT={class:"ait-text-gray-600 ait-mb-1"},ET={class:"ait-flex ait-justify-between ait-items-center"},jT={class:"ait-text-yellow-600"},RT={class:"ait-text-green-500"},BT={class:"ait-bg-white ait-rounded-xl ait-shadow-md ait-border ait-border-gray-200 ait-p-6"},DT={class:"ait-flex ait-items-center ait-mb-4"},OT={class:"ait-font-bold ait-text-gray-900 ait-text-sm"},zT={class:"ait-space-y-4"},VT={class:"ait-border-b ait-border-gray-100 ait-pb-3"},FT={class:"ait-text-xs ait-font-medium ait-text-gray-700 ait-mb-2"},qT={class:"ait-flex ait-justify-between ait-text-xs"},NT={class:"ait-font-medium"},ZT={class:"ait-font-medium"},WT={class:"ait-space-y-3 ait-text-xs"},GT={class:"ait-text-gray-600 ait-mb-1"},KT={class:"ait-flex ait-justify-between ait-items-center"},YT={class:"ait-text-red-500"},QT={class:"ait-text-green-500"},XT={class:"ait-text-gray-600 ait-mb-1"},JT={class:"ait-flex ait-justify-between ait-items-center"},tH={class:"ait-text-red-500"},eH={class:"ait-text-green-500"},iH={class:"ait-text-gray-600 ait-mb-1"},aH={class:"ait-flex ait-justify-between ait-items-center"},sH={class:"ait-text-yellow-600"},oH={class:"ait-text-green-500"},nH={class:"ait-text-gray-600 ait-mb-1"},lH={class:"ait-flex ait-justify-between ait-items-center"},rH={class:"ait-text-red-500"},dH={class:"ait-text-green-500"},cH={class:"ait-grid ait-grid-cols-1 md:ait-grid-cols-2 lg:ait-grid-cols-3 ait-gap-6 ait-mb-12"},uH={class:"ait-bg-white ait-rounded-xl ait-shadow-md ait-border ait-border-gray-200 ait-p-6"},hH={class:"ait-flex ait-items-center ait-mb-4"},pH={class:"ait-font-bold ait-text-gray-900 ait-text-sm"},gH={class:"ait-space-y-4"},fH={class:"ait-border-b ait-border-gray-100 ait-pb-3"},mH={class:"ait-text-xs ait-font-medium ait-text-gray-700 ait-mb-2"},_H={class:"ait-flex ait-justify-between ait-text-xs"},vH={class:"ait-font-medium"},bH={class:"ait-font-medium"},wH={class:"ait-space-y-3 ait-text-xs"},yH={class:"ait-text-gray-600 ait-mb-1"},xH={class:"ait-flex ait-justify-between ait-items-center"},kH={class:"ait-text-yellow-600"},CH={class:"ait-text-green-500"},$H={class:"ait-text-gray-600 ait-mb-1"},LH={class:"ait-flex ait-justify-between ait-items-center"},SH={class:"ait-text-red-500"},MH={class:"ait-text-green-500"},TH={class:"ait-bg-white ait-rounded-xl ait-shadow-md ait-border ait-border-gray-200 ait-p-6"},HH={class:"ait-flex ait-items-center ait-mb-4"},AH={class:"ait-font-bold ait-text-gray-900 ait-text-sm"},PH={class:"ait-space-y-4"},IH={class:"ait-border-b ait-border-gray-100 ait-pb-3"},UH={class:"ait-text-xs ait-font-medium ait-text-gray-700 ait-mb-2"},EH={class:"ait-flex ait-justify-between ait-text-xs"},jH={class:"ait-font-medium"},RH={class:"ait-font-medium"},BH={class:"ait-space-y-3 ait-text-xs"},DH={class:"ait-text-gray-600 ait-mb-1"},OH={class:"ait-flex ait-justify-between ait-items-center"},zH={class:"ait-text-yellow-600"},VH={class:"ait-text-green-500"},FH={class:"ait-text-gray-600 ait-mb-1"},qH={class:"ait-flex ait-justify-between ait-items-center"},NH={class:"ait-text-red-500"},ZH={class:"ait-text-green-500"},WH={class:"ait-text-gray-600 ait-mb-1"},GH={class:"ait-flex ait-justify-between ait-items-center"},KH={class:"ait-text-yellow-600"},YH={class:"ait-text-green-500"},QH={class:"ait-text-gray-600 ait-mb-1"},XH={class:"ait-flex ait-justify-between ait-items-center"},JH={class:"ait-text-red-500"},tA={class:"ait-text-green-500"},eA={class:"ait-text-gray-600 ait-mb-1"},iA={class:"ait-flex ait-justify-between ait-items-center"},aA={class:"ait-text-red-500"},sA={class:"ait-text-green-500"},oA={class:"ait-bg-white ait-rounded-xl ait-shadow-md ait-border ait-border-gray-200 ait-p-6"},nA={class:"ait-flex ait-items-center ait-mb-4"},lA={class:"ait-font-bold ait-text-gray-900 ait-text-sm"},rA={class:"ait-space-y-4"},dA={class:"ait-border-b ait-border-gray-100 ait-pb-3"},cA={class:"ait-text-xs ait-font-medium ait-text-gray-700 ait-mb-2"},uA={class:"ait-flex ait-justify-between ait-text-xs"},hA={class:"ait-font-medium"},pA={class:"ait-font-medium"},gA={class:"ait-space-y-3 ait-text-xs"},fA={class:"ait-text-gray-600 ait-mb-1"},mA={class:"ait-flex ait-justify-between ait-items-center"},_A={class:"ait-text-yellow-600"},vA={class:"ait-text-green-500"},bA={class:"ait-text-gray-600 ait-mb-1"},wA={class:"ait-flex ait-justify-between ait-items-center"},yA={class:"ait-text-red-500"},xA={class:"ait-text-green-500"},kA={class:"ait-text-gray-600 ait-mb-1"},CA={class:"ait-flex ait-justify-between ait-items-center"},$A={class:"ait-text-red-500"},LA={class:"ait-text-green-500"},SA={class:"ait-text-gray-600 ait-mb-1"},MA={class:"ait-flex ait-justify-between ait-items-center"},TA={class:"ait-text-red-500"},HA={class:"ait-text-green-500"},AA={class:"ait-text-gray-600 ait-mb-1"},PA={class:"ait-flex ait-justify-between ait-items-center"},IA={class:"ait-text-red-500"},UA={class:"ait-text-green-500"},EA={class:"ait-text-gray-600 ait-mb-1"},jA={class:"ait-flex ait-justify-between ait-items-center"},RA={class:"ait-text-red-500"},BA={class:"ait-text-green-500"},DA={class:"ait-text-center ait-mt-10 ait-bg-gradient-to-r ait-from-teal-500 ait-to-emerald-500 ait-py-6 ait-rounded-lg ait-text-white"},OA={class:"ait-font-semibold ait-text-sm md:ait-text-base"};function zA(t,e,a,l,n,s){const u=y("svg-logo");return o(),r("div",SL,[this.campaign_modal_mode===null||this.campaign_modal_mode==="main"?(o(),r("div",{key:0,id:"ait-campaign-modal",class:$(["ait-fixed ait-top-0 ait-z-[9999999999] ait-left-0 ait-w-full ait-justify-items-center ait-overflow-auto",this.campaign_modal_mode===null||this.campaign_modal_mode==="main"||this.campaign_modal_mode==="diff"?"ait-h-[75dvh] ait-min-h-[600px] ait-bg-gray-50 ait-p-8 ait-font-sans ait-text-gray-800":""])},[i("div",ML,[i("button",{type:"button",class:"ait-absolute ait-text-neutral-400 ait-bg-transparent ait-pb-1 hover:ait-bg-neutral-200 hover:ait-text-neutral-900 ait-rounded-lg ait-text-sm ait-w-4 ait-h-4 ait-ml-auto ait-inline-flex ait-justify-center ait-items-center",style:{right:"-30px",top:"-10px"},onClick:e[0]||(e[0]=c=>s.closeCampaign())},[b(u,{className:"ait-w-2 ait-h-2",name:"close_icon"}),i("span",TL,d(t.Helpers.__("Close modal")),1)]),i("div",HL,[i("div",AL,[i("h2",PL,d(t.Helpers.__("Meet AITOPIA: Your Complete AI Workspace")),1),i("p",IL,d(t.Helpers.__("Continue your ChatGPT workflowplus access GPT-4, Claude, Gemini & 7+ more models PLUS 20+ specialized AI agents & tools.")),1),i("ul",UL,[i("li",null,d(t.Helpers.__("Save $3.34/mo vs. ChatGPT Plus + get 20+ AI agents")),1),i("li",null,d(t.Helpers.__("YouTube Summarizer, Grammar Checker, Image Tools & more")),1),i("li",null,d(t.Helpers.__("All models + agents in one unified workspace")),1)]),e[18]||(e[18]=i("hr",null,null,-1)),i("div",EL,[i("h3",jL,d(t.Helpers.__("POPULAR AI AGENTS & TOOLS:")),1),i("div",RL,[i("span",BL,d(t.Helpers.__("YouTube Summarizer")),1),i("span",DL,d(t.Helpers.__("AI Article Writer")),1),i("span",OL,d(t.Helpers.__("Grammar Checker")),1),i("span",zL,d(t.Helpers.__("Text to Image")),1),i("span",VL,d(t.Helpers.__("Web Search Agent")),1),i("span",FL,d(t.Helpers.__("+ 14 more tools")),1)])]),e[19]||(e[19]=i("hr",null,null,-1)),i("div",qL,[i("div",NL,[e[11]||(e[11]=i("div",{class:"ait-w-8 ait-h-8 ait-bg-[#10a37f] ait-rounded ait-items-center ait-place-items-center ait-justify-items-center"},[i("div",{class:"ait-p-[6px]"},[i("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"#fff"},[i("path",{d:"M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.872zm16.5963 3.8558L13.1038 8.364 15.1192 7.2a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997Z"})])])],-1)),i("span",ZL,[e[9]||(e[9]=U(" GPT-4")),e[10]||(e[10]=i("br",null,null,-1)),i("small",WL,d(t.Helpers.__("Best for reasoning")),1)])]),i("div",GL,[e[14]||(e[14]=i("div",{class:"ait-w-8 ait-h-8 ait-bg-[#cc785c] ait-rounded ait-items-center ait-place-items-center ait-justify-items-center"},[i("div",{class:"ait-p-[6px]"},[i("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"#ffffff"},[i("path",{d:"M7.307 2.5a9.807 9.807 0 1 0 9.386 0zm4.693 1.5c4.418 0 8 3.582 8 8s-3.582 8-8 8-8-3.582-8-8 3.582-8 8-8z"})])])],-1)),i("span",KL,[e[12]||(e[12]=U(" Claude")),e[13]||(e[13]=i("br",null,null,-1)),i("small",YL,d(t.Helpers.__("Superior writing")),1)])]),i("div",QL,[e[17]||(e[17]=i("div",{class:"ait-w-8 ait-h-8 ait-bg-[#4285f4] ait-rounded ait-items-center ait-place-items-center ait-justify-items-center"},[i("div",{class:"ait-p-[6px]"},[i("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"#ffffff"},[i("path",{d:"M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z"})])]),U(" ")],-1)),i("span",XL,[e[15]||(e[15]=U(" Gemini")),e[16]||(e[16]=i("br",null,null,-1)),i("small",JL,d(t.Helpers.__("Advanced analysis")),1)])])])]),i("div",tS,[i("div",null,[i("span",eS,d(t.Helpers.__("BEST VALUE")),1),e[20]||(e[20]=i("h2",{class:"ait-text-3xl ait-font-bold ait-text-gray-900 ait-mb-1"},"$16.66/mo",-1)),i("p",iS,d(t.Helpers.__("vs. ChatGPT Plus $20/mo")),1),i("p",aS,d(t.Helpers.__("Once-a-Year Deal  Cancel Anytime")),1),i("ul",sS,[i("li",null,d(t.Helpers.__(" All AI models (GPT-4, Claude, Gemini)")),1),i("li",null,d(t.Helpers.__(" 20+ specialized AI agents & tools")),1),i("li",null,d(t.Helpers.__(" Unlimited usage")),1)])]),i("div",oS,[i("button",{class:"ait-bg-emerald-600 ait-text-white ait-font-semibold ait-py-2 ait-rounded-md hover:ait-bg-green-700 ait-transition aitopia-pricing",onClick:e[1]||(e[1]=c=>{t.startPayCampaign(),s.maybeCampaign()})},d(t.Helpers.__("Start Now")),1),i("button",{class:"ait-text-green-700 ait-mt-2 ait-p-2 ait-border ait-rounded ait-border-[var(--ait-tab-menu-active-bg-color)] ait-font-medium hover:ait-underline ait-text-sm",style:{border:"1px solid"},onClick:e[2]||(e[2]=c=>this.campaign_modal_mode="diff")},d(t.Helpers.__("ChatGPT vs. AITOPIA")),1)])])]),i("button",{class:"ait-text-neutral-400 ait-m-2 ait-bg-transparent",onClick:e[3]||(e[3]=c=>s.maybeCampaign())},d(t.Helpers.__("Maybe later")),1)])],2)):this.campaign_modal_mode==="upgrade"?(o(),r("div",nS,[i("div",lS,[i("button",{type:"button",class:"ait-absolute ait-top-4 ait-right-4 ait-text-gray-400 ait-bg-transparent hover:ait-bg-gray-700 hover:ait-text-white ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-inline-flex ait-justify-center ait-items-center ait-z-10",onClick:e[4]||(e[4]=c=>s.closeCampaign())},e[21]||(e[21]=[i("svg",{class:"ait-w-3 ait-h-3",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"#fffffff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)])),i("div",rS,[i("div",dS,[i("div",cS,[e[22]||(e[22]=i("span",{class:"ait-text-3xl ait-mr-2"},"",-1)),i("h2",uS,d(t.Helpers.__("Get More AI Power for Less!")),1)]),i("p",{class:"ait-text-gray-300 ait-text-sm",textContent:d(t.Helpers.__("Why pay $20/month for limited ChatGPT when you can get ALL the best AI models<br />for just $16.66 / month ? "))},null,8,hS)]),i("div",pS,[i("div",gS,[e[23]||(e[23]=i("span",{class:"ait-text-xl ait-mr-2"},"",-1)),i("h3",fS,d(t.Helpers.__("Access ALL Premium AI Models:")),1)]),e[24]||(e[24]=Vt('<div class="ait-grid ait-grid-cols-2 ait-gap-3 ait-mb-6"><div class="ait-bg-slate-700 ait-rounded-lg ait-p-3 ait-flex ait-items-center"><div class="ait-w-3 ait-h-3 ait-bg-blue-500 ait-rounded-full ait-mr-3"></div><span class="ait-text-white ait-text-sm">GPT-4o Mini</span></div><div class="ait-bg-slate-700 ait-rounded-lg ait-p-3 ait-flex ait-items-center"><div class="ait-w-3 ait-h-3 ait-bg-green-500 ait-rounded-full ait-mr-3"></div><span class="ait-text-white ait-text-sm">o1 Mini</span></div><div class="ait-bg-slate-700 ait-rounded-lg ait-p-3 ait-flex ait-items-center"><div class="ait-w-3 ait-h-3 ait-bg-orange-500 ait-rounded-full ait-mr-3"></div><span class="ait-text-white ait-text-sm">o3 Mini</span></div><div class="ait-bg-slate-700 ait-rounded-lg ait-p-3 ait-flex ait-items-center"><div class="ait-w-3 ait-h-3 ait-bg-yellow-500 ait-rounded-full ait-mr-3"></div><span class="ait-text-white ait-text-sm">Claude 3.5 Haiku</span></div><div class="ait-bg-slate-700 ait-rounded-lg ait-p-3 ait-flex ait-items-center"><div class="ait-w-3 ait-h-3 ait-bg-gray-400 ait-rounded-full ait-mr-3"></div><span class="ait-text-white ait-text-sm">Claude 3.5 Sonnet</span></div><div class="ait-bg-slate-700 ait-rounded-lg ait-p-3 ait-flex ait-items-center"><div class="ait-w-3 ait-h-3 ait-bg-red-500 ait-rounded-full ait-mr-3"></div><span class="ait-text-white ait-text-sm">Claude 3.5 Opus</span></div><div class="ait-bg-slate-700 ait-rounded-lg ait-p-3 ait-flex ait-items-center"><div class="ait-w-3 ait-h-3 ait-bg-gray-500 ait-rounded-full ait-mr-3"></div><span class="ait-text-white ait-text-sm">Gemini 1.5 Pro</span></div><div class="ait-bg-slate-700 ait-rounded-lg ait-p-3 ait-flex ait-items-center"><div class="ait-w-3 ait-h-3 ait-bg-blue-400 ait-rounded-full ait-mr-3"></div><span class="ait-text-white ait-text-sm">Gemini 2.0 Flash</span></div><div class="ait-bg-slate-700 ait-rounded-lg ait-p-3 ait-flex ait-items-center"><div class="ait-w-3 ait-h-3 ait-bg-blue-600 ait-rounded-full ait-mr-3"></div><span class="ait-text-white ait-text-sm">Llama 3.3 70B</span></div><div class="ait-bg-slate-700 ait-rounded-lg ait-p-3 ait-flex ait-items-center"><div class="ait-w-3 ait-h-3 ait-bg-teal-500 ait-rounded-full ait-mr-3"></div><span class="ait-text-white ait-text-sm">DeepSeek R1</span></div></div>',1))]),i("div",mS,[i("div",_S,[i("h4",vS,d(t.Helpers.__("CHATGPT PLUS")),1),e[28]||(e[28]=i("div",{class:"ait-text-2xl ait-font-bold ait-text-white ait-mb-4"},"$20/month",-1)),i("div",bS,[i("div",wS,[e[25]||(e[25]=i("span",{class:"ait-text-red-500 ait-mr-2"},"",-1)),i("span",null,d(t.Helpers.__("GPT-4 access only")),1)]),i("div",yS,[e[26]||(e[26]=i("span",{class:"ait-text-red-500 ait-mr-2"},"",-1)),i("span",null,d(t.Helpers.__("Limited to 1 AI model")),1)]),i("div",xS,[e[27]||(e[27]=i("span",{class:"ait-text-red-500 ait-mr-2"},"",-1)),i("span",null,d(t.Helpers.__("Usage limits")),1)])])]),i("div",kS,[i("h4",CS,d(t.Helpers.__("AITOPIA")),1),e[29]||(e[29]=i("div",{class:"ait-text-2xl ait-font-bold ait-text-white ait-mb-2"},"$16.66/month",-1)),i("div",$S,d(t.Helpers.__(" 12+ Premium AI Models")),1),i("div",LS,d(t.Helpers.__(" Unlimited Usage")),1),i("div",SS,d(t.Helpers.__(" Save $3.34/month")),1),i("div",MS,d(t.Helpers.__(" More features coming soon")),1)])]),i("div",TS,[i("button",{class:"ait-w-full ait-bg-gradient-to-r ait-from-teal-500 ait-to-teal-600 ait-text-white ait-font-bold ait-py-4 ait-px-8 ait-rounded-xl ait-text-lg hover:ait-from-teal-600 hover:ait-to-teal-700 ait-transition-all ait-duration-200 aitopia-pricing",onClick:e[5]||(e[5]=c=>t.startPayCampaign())},d(t.Helpers.__("UPGRADE AITOPIA NOW")),1),i("button",{class:"ait-text-gray-400 ait-text-sm hover:ait-text-gray-300 ait-transition-colors",onClick:e[6]||(e[6]=c=>{this.campaign_modal_show=!1,this.changeStorage("campaign_modal_later",!0)})},d(t.Helpers.__("Maybe Later")),1)])])])])):this.campaign_modal_mode==="diff"?(o(),r("div",HS,[i("button",{type:"button",class:"ait-absolute ait-top-4 ait-right-4 ait-text-gray-400 ait-bg-transparent hover:ait-bg-gray-200 hover:ait-text-gray-900 ait-rounded-lg ait-text-sm ait-w-8 ait-h-8 ait-inline-flex ait-justify-center ait-items-center ait-z-50",onClick:e[7]||(e[7]=c=>s.closeCampaign())},[e[30]||(e[30]=i("svg",{class:"ait-w-3 ait-h-3",fill:"none",viewBox:"0 0 14 14"},[i("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1)),i("span",AS,d(t.Helpers.__("Close modal")),1)]),i("div",PS,[i("div",IS,[i("h1",US,d(t.Helpers.__("ChatGPT vs. AITOPIA: Complete Comparison")),1)]),i("div",ES,[i("div",jS,[i("div",RS,[i("div",BS,[i("h2",DS,d(t.Helpers.__("ChatGPT")),1),i("h3",OS,d(t.Helpers.__("ChatGPT Plus")),1),i("div",zS,[e[31]||(e[31]=i("span",{class:"ait-text-4xl ait-font-bold ait-text-gray-900"},"$20.00",-1)),i("span",VS,d(t.Helpers.__("/month")),1)])]),i("div",FS,[i("div",qS,[e[32]||(e[32]=i("span",{class:"ait-w-6 ait-text-purple-600 ait-mr-3"},"",-1)),i("span",NS,d(t.Helpers.__("GPT-4 only")),1)]),i("div",ZS,[e[33]||(e[33]=i("span",{class:"ait-w-6 ait-text-orange-500 ait-mr-3"},"",-1)),i("span",WS,d(t.Helpers.__("40 messages/3 hours")),1)]),i("div",GS,[e[34]||(e[34]=i("span",{class:"ait-w-6 ait-text-pink-500 ait-mr-3"},"",-1)),i("span",KS,d(t.Helpers.__("DALLE only")),1)]),i("div",YS,[e[35]||(e[35]=i("span",{class:"ait-w-6 ait-text-blue-500 ait-mr-3"},"",-1)),i("span",QS,d(t.Helpers.__("Basic browsing")),1)]),i("div",XS,[e[36]||(e[36]=i("span",{class:"ait-w-6 ait-text-gray-500 ait-mr-3"},"",-1)),i("span",JS,d(t.Helpers.__("Limited file types")),1)]),i("div",tM,[e[37]||(e[37]=i("span",{class:"ait-w-6 ait-text-red-500 ait-mr-3"},"",-1)),i("span",eM,d(t.Helpers.__("No specialized agents")),1)])])])]),i("div",iM,[i("div",aM,d(t.Helpers.__("VS")),1)]),i("div",sM,[i("div",oM,[i("span",nM,d(t.Helpers.__("RECOMMENDED")),1)]),i("div",lM,[i("div",rM,[i("h2",dM,d(t.Helpers.__("AITOPIA")),1),i("h3",cM,d(t.Helpers.__("AITOPIA Premium")),1),i("div",uM,[e[38]||(e[38]=i("span",{class:"ait-text-4xl ait-font-bold ait-text-gray-900"},"$16.66",-1)),i("span",hM,d(t.Helpers.__("/month")),1)]),i("div",pM,d(t.Helpers.__("Save $40/year")),1)]),i("div",gM,[i("div",fM,[e[39]||(e[39]=i("span",{class:"ait-w-6 ait-text-purple-600 ait-mr-3"},"",-1)),i("span",mM,d(t.Helpers.__("GPT-4, Claude, Gemini + 7 more")),1)]),i("div",_M,[e[40]||(e[40]=i("span",{class:"ait-w-6 ait-text-blue-500 ait-mr-3"},"",-1)),i("span",vM,d(t.Helpers.__("Unlimited usage")),1)]),i("div",bM,[e[41]||(e[41]=i("span",{class:"ait-w-6 ait-text-pink-500 ait-mr-3"},"",-1)),i("span",wM,d(t.Helpers.__("Multiple image AI models")),1)]),i("div",yM,[e[42]||(e[42]=i("span",{class:"ait-w-6 ait-text-blue-500 ait-mr-3"},"",-1)),i("span",xM,d(t.Helpers.__("Advanced Web Search Agent")),1)]),i("div",kM,[e[43]||(e[43]=i("span",{class:"ait-w-6 ait-text-gray-700 ait-mr-3"},"",-1)),i("span",CM,d(t.Helpers.__("ChatPDF + advanced document tools")),1)]),i("div",$M,[e[44]||(e[44]=i("span",{class:"ait-w-6 ait-text-teal-500 ait-mr-3"},"",-1)),i("span",LM,d(t.Helpers.__("20+ specialized agents")),1)])])])])]),i("div",SM,[i("h2",MM,d(t.Helpers.__("Detailed Feature Comparison")),1)]),i("div",TM,[i("div",HM,[i("div",AM,[e[45]||(e[45]=i("span",{class:"ait-text-purple-600 ait-text-xl ait-mr-2"},"",-1)),i("h3",PM,d(t.Helpers.__("AI Models & Capabilities")),1)]),i("div",IM,[i("div",UM,[i("div",EM,d(t.Helpers.__("Feature")),1),i("div",jM,[i("span",RM,d(t.Helpers.__("ChatGPT")),1),i("span",BM,d(t.Helpers.__("AITOPIA")),1)])]),i("div",DM,[i("div",null,[i("div",OM,d(t.Helpers.__("Language Models")),1),i("div",zM,[i("span",VM,d(t.Helpers.__("GPT-4 only")),1),i("span",FM,d(t.Helpers.__("GPT-4, Claude, Gemini, PaLM 2 + more")),1)])]),i("div",null,[i("div",qM,d(t.Helpers.__("Model Switching")),1),i("div",NM,[i("span",ZM,d(t.Helpers.__("Not available")),1),i("span",WM,d(t.Helpers.__("Seamless switching")),1)])])])])]),i("div",GM,[i("div",KM,[e[46]||(e[46]=i("span",{class:"ait-text-orange-500 ait-text-xl ait-mr-2"},"",-1)),i("h3",YM,d(t.Helpers.__("Usage & Limits")),1)]),i("div",QM,[i("div",XM,[i("div",JM,d(t.Helpers.__("Feature")),1),i("div",tT,[i("span",eT,d(t.Helpers.__("ChatGPT")),1),i("span",iT,d(t.Helpers.__("AITOPIA")),1)])]),i("div",aT,[i("div",null,[i("div",sT,d(t.Helpers.__("Message Limits")),1),i("div",oT,[i("span",nT,d(t.Helpers.__("40 messages/3 hours")),1),i("span",lT,d(t.Helpers.__("Unlimited")),1)])]),i("div",null,[i("div",rT,d(t.Helpers.__("Peak Time Access")),1),i("div",dT,[i("span",cT,d(t.Helpers.__("Often limited")),1),i("span",uT,d(t.Helpers.__("Always available")),1)])])])])]),i("div",hT,[i("div",pT,[e[47]||(e[47]=i("span",{class:"ait-text-blue-600 ait-text-xl ait-mr-2"},"",-1)),i("h3",gT,d(t.Helpers.__("AI Chat Agents")),1)]),i("div",fT,[i("div",mT,[i("div",_T,d(t.Helpers.__("Feature")),1),i("div",vT,[i("span",bT,d(t.Helpers.__("ChatGPT")),1),i("span",wT,d(t.Helpers.__("AITOPIA")),1)])]),i("div",yT,[i("div",null,[i("div",xT,d(t.Helpers.__("AI Chat Agents")),1),i("div",kT,[i("span",CT,d(t.Helpers.__("Not available")),1),i("span",$T,d(t.Helpers.__("20+ specialized agents")),1)])]),i("div",null,[i("div",LT,d(t.Helpers.__("AI Agent Creator")),1),i("div",ST,[i("span",MT,d(t.Helpers.__("Not available")),1),i("span",TT,d(t.Helpers.__("Create custom agents")),1)])]),i("div",null,[i("div",HT,d(t.Helpers.__("Group AI Chat")),1),i("div",AT,[i("span",PT,d(t.Helpers.__("Not available")),1),i("span",IT,d(t.Helpers.__("Multi-agent conversations")),1)])]),i("div",null,[i("div",UT,d(t.Helpers.__("Chat Image (Vision)")),1),i("div",ET,[i("span",jT,d(t.Helpers.__("Basic vision")),1),i("span",RT,d(t.Helpers.__("Advanced image analysis")),1)])])])])]),i("div",BT,[i("div",DT,[e[48]||(e[48]=i("span",{class:"ait-text-green-600 ait-text-xl ait-mr-2"},"",-1)),i("h3",OT,d(t.Helpers.__("Reading & Analysis Agents")),1)]),i("div",zT,[i("div",VT,[i("div",FT,d(t.Helpers.__("Feature")),1),i("div",qT,[i("span",NT,d(t.Helpers.__("ChatGPT")),1),i("span",ZT,d(t.Helpers.__("AITOPIA")),1)])]),i("div",WT,[i("div",null,[i("div",GT,d(t.Helpers.__("Reading Agents")),1),i("div",KT,[i("span",YT,d(t.Helpers.__("Not available")),1),i("span",QT,d(t.Helpers.__("Specialized reading agents")),1)])]),i("div",null,[i("div",XT,d(t.Helpers.__("YouTube Summarizer")),1),i("div",JT,[i("span",tH,d(t.Helpers.__("Not available")),1),i("span",eH,d(t.Helpers.__("Full video analysis & summary")),1)])]),i("div",null,[i("div",iH,d(t.Helpers.__("ChatPDF")),1),i("div",aH,[i("span",sH,d(t.Helpers.__("Basic file upload")),1),i("span",oH,d(t.Helpers.__("Advanced PDF analysis")),1)])]),i("div",null,[i("div",nH,d(t.Helpers.__("Link Reader")),1),i("div",lH,[i("span",rH,d(t.Helpers.__("Not available")),1),i("span",dH,d(t.Helpers.__("Web content analysis")),1)])])])])])]),i("div",cH,[i("div",uH,[i("div",hH,[e[49]||(e[49]=i("span",{class:"ait-text-blue-500 ait-text-xl ait-mr-2"},"",-1)),i("h3",pH,d(t.Helpers.__("Search & Translation")),1)]),i("div",gH,[i("div",fH,[i("div",mH,d(t.Helpers.__("Feature")),1),i("div",_H,[i("span",vH,d(t.Helpers.__("ChatGPT")),1),i("span",bH,d(t.Helpers.__("AITOPIA")),1)])]),i("div",wH,[i("div",null,[i("div",yH,d(t.Helpers.__("Web Search Agent")),1),i("div",xH,[i("span",kH,d(t.Helpers.__("Basic browsing")),1),i("span",CH,d(t.Helpers.__("Advanced web search")),1)])]),i("div",null,[i("div",$H,d(t.Helpers.__("AI Translator")),1),i("div",LH,[i("span",SH,d(t.Helpers.__("Not available")),1),i("span",MH,d(t.Helpers.__("Professional translation")),1)])])])])]),i("div",TH,[i("div",HH,[e[50]||(e[50]=i("span",{class:"ait-text-yellow-500 ait-text-xl ait-mr-2"},"",-1)),i("h3",AH,d(t.Helpers.__("Writing Agents")),1)]),i("div",PH,[i("div",IH,[i("div",UH,d(t.Helpers.__("Feature")),1),i("div",EH,[i("span",jH,d(t.Helpers.__("ChatGPT")),1),i("span",RH,d(t.Helpers.__("AITOPIA")),1)])]),i("div",BH,[i("div",null,[i("div",DH,d(t.Helpers.__("Writing Agents")),1),i("div",OH,[i("span",zH,d(t.Helpers.__("Basic writing help")),1),i("span",VH,d(t.Helpers.__("Specialized writing agents")),1)])]),i("div",null,[i("div",FH,d(t.Helpers.__("AI Article Writer")),1),i("div",qH,[i("span",NH,d(t.Helpers.__("Not available")),1),i("span",ZH,d(t.Helpers.__("Professional article creation")),1)])]),i("div",null,[i("div",WH,d(t.Helpers.__("Grammar Checker")),1),i("div",GH,[i("span",KH,d(t.Helpers.__("Basic correction")),1),i("span",YH,d(t.Helpers.__("Advanced grammar agent")),1)])]),i("div",null,[i("div",QH,d(t.Helpers.__("Writing Improver")),1),i("div",XH,[i("span",JH,d(t.Helpers.__("Not available")),1),i("span",tA,d(t.Helpers.__("Style & clarity enhancement")),1)])]),i("div",null,[i("div",eA,d(t.Helpers.__("Email Replier")),1),i("div",iA,[i("span",aA,d(t.Helpers.__("Not available")),1),i("span",sA,d(t.Helpers.__("Professional email responses")),1)])])])])]),i("div",oA,[i("div",nA,[e[51]||(e[51]=i("span",{class:"ait-text-pink-500 ait-text-xl ait-mr-2"},"",-1)),i("h3",lA,d(t.Helpers.__("Image Agents")),1)]),i("div",rA,[i("div",dA,[i("div",cA,d(t.Helpers.__("Feature")),1),i("div",uA,[i("span",hA,d(t.Helpers.__("ChatGPT")),1),i("span",pA,d(t.Helpers.__("AITOPIA")),1)])]),i("div",gA,[i("div",null,[i("div",fA,d(t.Helpers.__("Text to Image")),1),i("div",mA,[i("span",_A,d(t.Helpers.__("DALLE only")),1),i("span",vA,d(t.Helpers.__("Multiple AI image models")),1)])]),i("div",null,[i("div",bA,d(t.Helpers.__("Background Remover")),1),i("div",wA,[i("span",yA,d(t.Helpers.__("Not available")),1),i("span",xA,d(t.Helpers.__("AI background removal")),1)])]),i("div",null,[i("div",kA,d(t.Helpers.__("Remove Brushed Area")),1),i("div",CA,[i("span",$A,d(t.Helpers.__("Not available")),1),i("span",LA,d(t.Helpers.__("Precise object removal")),1)])]),i("div",null,[i("div",SA,d(t.Helpers.__("Replace Background")),1),i("div",MA,[i("span",TA,d(t.Helpers.__("Not available")),1),i("span",HA,d(t.Helpers.__("AI background replacement")),1)])]),i("div",null,[i("div",AA,d(t.Helpers.__("Remove Text")),1),i("div",PA,[i("span",IA,d(t.Helpers.__("Not available")),1),i("span",UA,d(t.Helpers.__("Text removal from images")),1)])]),i("div",null,[i("div",EA,d(t.Helpers.__("Upscale")),1),i("div",jA,[i("span",RA,d(t.Helpers.__("Not available")),1),i("span",BA,d(t.Helpers.__("AI image upscaling")),1)])])])])])]),i("div",DA,[i("p",OA,d(t.Helpers.__("GET MORE FOR LESS: SWITCH TO AITOPIA AND SAVE $40/YEAR WHILE ACCESSING 10X MORE AI CAPABILITIES")),1),i("button",{class:"ait-mt-4 ait-bg-white ait-text-[var(--ait-tab-menu-active-bg-color)] ait-font-bold ait-px-5 ait-py-2 ait-rounded-md hover:ait-bg-gray-100 aitopia-pricing",onClick:e[8]||(e[8]=c=>t.startPayCampaign())},d(t.Helpers.__("Start Now")),1)])])])):_("",!0)])}const VA=R(LL,[["render",zA]]),ne={async search(t="",e=1,a={}){const n={...{page:e,search:t,sort:"priority",dir:1},...a};let s=await f.apiCall("/composio/toolkits/search",n,"POST",6e4,"json",0);return console.log(s),{data:s.data,pages:s._pages,recordsFiltered:s.recordsFiltered,recordsTotal:s.recordsTotal}},async get(t){let e=await f.Browser().storage.local.get("toolkit_by_slug");e=f.notUndefined(e,"toolkit_by_slug")||{};let a=null;return f.notUndefined(e,t)?e[t]=a=f.notUndefined(e,t):(a=await f.apiCall(`/composio/toolkits/get/toolkit_slug/${t}`,{},"GET"),e[t]=a),f.Browser().storage.local.set({toolkit_by_slug:e}),await f.getStorageRemainingTime("toolkit_by_slug")||f.setStorageExpiry("toolkit_by_slug",1),a},async build(){let t=await se.storage.local.get("toolkits");if(f.notUndefined(t,"toolkits")&&Object.keys(f.notUndefined(t,"toolkits")).length>0)return f.notUndefined(t,"toolkits");let e=await this.search("",1);if(e){let a={};return(Array.isArray(e)?e:e.data||[]).forEach((n,s)=>{const u=n.name||n.id||`toolkit_${s}`;a[u]=n}),await se.storage.local.set({toolkits:a}),a}return{}},async getConnections(t){return await f.apiCall(`/composio/connections/get/toolkit_slug/${t}`,{},"GET")},async createConnection(t,e){return await f.apiCall("/composio/index/connectionwizard/action/create",{toolkit_slug:t,...e&&{auth_config:e}},"POST",6e4,"json")},async deleteConnection(t){return await f.apiCall(`/composio/connections/delete/${t}`,{},"DELETE")}},Le={async search(t="",e=1,a={}){const n={...{page:e,search:t,sort:"priority",dir:1},...a};let s=await f.apiCall("/composio/tools/search",n,"POST",6e4,"json",0);return{data:s.data,pages:s._pages,recordsFiltered:s.recordsFiltered,recordsTotal:s.recordsTotal}},async get(t){return await f.apiCall(`/composio/tools/get/id/${t}`)},async getByToolkitSlug(t){let e=await f.Browser().storage.local.get("tools_by_slug");e=f.notUndefined(e,"tools_by_slug")||{};let a=null;return f.notUndefined(e,t)?e[t]=a=f.notUndefined(e,t):(a=await f.apiCall(`/composio/tools/get/toolkit_slug/${t}`,{},"GET"),e[t]=a),await f.getStorageRemainingTime("tools_by_slug")||f.setStorageExpiry("tools_by_slug",1),f.Browser().storage.local.set({tools_by_slug:e}),a},async build(){let t=await f.Browser().storage.local.get("tools");if(f.notUndefined(t,"tools")&&Object.keys(f.notUndefined(t,"tools")).length>0)return f.notUndefined(t,"tools");let e=await this.search("",1);if(e){let a={};return(Array.isArray(e)?e:e.data||[]).forEach((n,s)=>{const u=n.name||n.id||`tool_${s}`;a[u]=n}),await f.Browser().storage.local.set({tools:a}),a}return{}}};function FA(t){const e=G(null),a=G(null);return{draggedIndex:e,dragOverIndex:a,handleDragStart:(h,v,g)=>{if(t.canDrag&&!t.canDrag(g,v)){h.preventDefault();return}e.value=v,h.dataTransfer&&(h.dataTransfer.effectAllowed="move",h.dataTransfer.setData("text/html",""))},handleDragOver:(h,v,g)=>{t.canDrag&&!t.canDrag(g,v)||(h.preventDefault(),h.dataTransfer&&(h.dataTransfer.dropEffect="move"),a.value=v)},handleDragLeave:()=>{a.value=null},handleDrop:(h,v)=>{if(h.preventDefault(),e.value===null||e.value===v){e.value=null,a.value=null;return}const g=e.value,w=[...t.items.value],[C]=w.splice(g,1);w.splice(v,0,C),t.onReorder(w),t.updateIds&&t.updateIds(),e.value=null,a.value=null},handleDragEnd:()=>{e.value=null,a.value=null},isDragging:h=>e.value===h,isDragOver:h=>a.value===h&&e.value!==null&&e.value!==h}}function qA(t){const e=G(null),a=G(null);return{draggedConditionItemIndex:e,dragOverConditionItemIndex:a,handleConditionItemDragStart:(h,v,g,w)=>{if(t.canDrag&&!t.canDrag(w,g)){h.preventDefault();return}e.value={stepId:v,conditionItemIndex:g},h.dataTransfer&&(h.dataTransfer.effectAllowed="move",h.dataTransfer.setData("text/html",""))},handleConditionItemDragOver:(h,v,g)=>{t.canDrag&&!t.canDrag(g,v)||(h.preventDefault(),h.dataTransfer&&(h.dataTransfer.dropEffect="move"),a.value=v)},handleConditionItemDragLeave:()=>{a.value=null},handleConditionItemDrop:(h,v,g,w)=>{if(h.preventDefault(),t.canDrag&&!t.canDrag(w,g)||!e.value||e.value.stepId!==v){e.value=null,a.value=null;return}const C=e.value.conditionItemIndex;if(C===g){e.value=null,a.value=null;return}const S=t.getConditions(v);if(!S){e.value=null,a.value=null;return}const A=[],x=[];S.forEach((H,z)=>{H&&t.canDrag&&!t.canDrag(H,z)?x.push(H):H&&A.push(H)});let I=0,Y=g,ot=0;for(let H=0;H<S.length;H++){const z=S[H];if(z){if(t.canDrag&&!t.canDrag(z,H)){H<g&&Y--;continue}H===C&&(I=ot),ot++}}const[K]=A.splice(I,1);A.splice(Y,0,K);const ct=[...A,...x];t.onReorder(v,ct),e.value=null,a.value=null},handleConditionItemDragEnd:()=>{e.value=null,a.value=null},isConditionItemDragging:(h,v)=>{var g,w;return((g=e.value)==null?void 0:g.stepId)===h&&((w=e.value)==null?void 0:w.conditionItemIndex)===v},isConditionItemDragOver:h=>a.value===h&&e.value!==null&&e.value.conditionItemIndex!==h}}function NA(t){const e=G(null),a=G(null);return{draggedConditionItemStepIndex:e,dragOverConditionItemStepIndex:a,handleConditionItemStepDragStart:(h,v,g,w)=>{e.value={stepId:v,conditionItemId:g,stepIndex:w},h.dataTransfer&&(h.dataTransfer.effectAllowed="move",h.dataTransfer.setData("text/html",""))},handleConditionItemStepDragOver:(h,v)=>{h.preventDefault(),h.dataTransfer&&(h.dataTransfer.dropEffect="move"),a.value=v},handleConditionItemStepDragLeave:()=>{a.value=null},handleConditionItemStepDrop:(h,v,g,w)=>{if(h.preventDefault(),!e.value||e.value.stepId!==v||e.value.conditionItemId!==g){e.value=null,a.value=null;return}const C=e.value.stepIndex;if(C===w){e.value=null,a.value=null;return}const S=t.getSteps(v,g);if(!S){e.value=null,a.value=null;return}const A=[...S],[x]=A.splice(C,1);A.splice(w,0,x),t.onReorder(v,g,A),e.value=null,a.value=null},handleConditionItemStepDragEnd:()=>{e.value=null,a.value=null},isConditionItemStepDragging:(h,v,g)=>{var w,C,S;return((w=e.value)==null?void 0:w.stepId)===h&&((C=e.value)==null?void 0:C.conditionItemId)===v&&((S=e.value)==null?void 0:S.stepIndex)===g},isConditionItemStepDragOver:h=>a.value===h&&e.value!==null&&e.value.stepIndex!==h}}class di{static async saveToStorage(e,a){var l,n,s;try{const u=await f.Browser().storage.local.get("selected_agent");let c=(u==null?void 0:u.selected_agent)||{};const p=new Date().toISOString(),m=this.generateVersion((l=c.workflow)==null?void 0:l.version,a);c={...c,title:(a==null?void 0:a.title)!==void 0?a.title:c.title||"Test Flow",category_id:(a==null?void 0:a.category_id)!==void 0?a.category_id:c.category_id||"",_listkey:(a==null?void 0:a._listkey)!==void 0?a._listkey:c._listkey||null,icon:(a==null?void 0:a.icon)!==void 0?a.icon:c.icon||null,share_type:(a==null?void 0:a.share_type)!==void 0?a.share_type:c.share_type||"Private",base_model_id:(a==null?void 0:a.base_model_id)!==void 0?a.base_model_id:c.base_model_id||null,personalization:(a==null?void 0:a.personalization)!==void 0?a.personalization:c.personalization||"",workflow:{steps:e,routes:(a==null?void 0:a.routes)!==void 0?a.routes:((n=c.workflow)==null?void 0:n.routes)||[],version:m,created_date:(a==null?void 0:a.created_date)||((s=c.workflow)==null?void 0:s.created_date)||p,updated_date:p}},await f.Browser().storage.local.set({selected_agent:c})}catch(u){console.error("Error saving diagram to storage:",u)}}static generateVersion(e,a){if(a!=null&&a.version)return a.version;const l=new Date,n=`${l.getFullYear()}${String(l.getMonth()+1).padStart(2,"0")}${String(l.getDate()).padStart(2,"0")}`,[s,u]=(e||"").split("_"),c=(s===n?parseInt(u||"0"):0)+(a!=null&&a.incrementVersion?1:0);return`${n}_${c||1}`}static async loadFromStorage(){try{const e=await f.Browser().storage.local.get("selected_agent");if(console.log(e),e!=null&&e.selected_agent){const a=e.selected_agent,l=a.workflow||{},n=typeof l.steps=="string"?JSON.parse(l.steps):l.steps||[];let s=typeof l.routes=="string"?JSON.parse(l.routes):l.routes;return Array.isArray(s)||(s=[]),{workflow:{steps:n,routes:s,version:l.version,created_date:l.created_date,updated_date:l.updated_date},title:a.title,category_id:a.category_id,_listkey:a._listkey,icon:a.icon,share_type:a.share_type,base_model_id:a.base_model_id,personalization:a.personalization||""}}return{workflow:{steps:[]}}}catch(e){return console.error("Error loading diagram from storage:",e),{workflow:{steps:[]}}}}}class ci{static async fetchTools(e=1,a=""){try{let{data:l,pages:n,recordsFiltered:s,recordsTotal:u}=await ne.search(a,e);if(console.log(l,n,s,u),l){let c=[];return Array.isArray(l)&&(c=l),{tools:c,total:s||0}}return{tools:[],total:0}}catch(l){return console.error("Error fetching tools:",l),{tools:[],total:0}}}static async fetchSkills(e=1,a=""){try{let{data:l,pages:n,recordsFiltered:s,recordsTotal:u}=await ce.search(a,e);if(l){let c=[];return Array.isArray(l)&&(c=l),{skills:c,total:s||0}}return{skills:[],total:0}}catch(l){return console.error("Error fetching skills:",l),{skills:[],total:0}}}static async fetchToolsForToolkit(e){try{const a=await Le.getByToolkitSlug(e);let l=[];return a&&Array.isArray(a)?l=a:a&&a.data&&Array.isArray(a.data)&&(l=a.data),{tools:l,connections:[]}}catch(a){return console.error("Error fetching tools for toolkit:",a),{tools:[],connections:[]}}}static async loadAgentData(e){try{return await yt.get(e)}catch(a){throw console.error("Error loading agent data:",a),a}}static async publishFlow(e,a){const n={steps:e.map(s=>{var u,c;return{id:s.id.toString(),parent_workflow_id:s.parent_workflow_id!==null&&s.parent_workflow_id!==void 0?s.parent_workflow_id.toString():null,title:s.title,short_description:s.short_description||null,toolkit_prompt:s.toolkit_prompt||"",type:s.type||"step",connected_account_id:s.connected_account_id||null,toolkit_slug:s.toolkit_slug||null,skill_id:((u=s.settings)==null?void 0:u.skill_id)||s.skill_id||null,skill_router:((c=s.settings)==null?void 0:c.skill_router)||s.skill_router||null,condition_detail:null,condition_is_else:s.condition_is_else?1:0,settings:s.settings?JSON.stringify(s.settings):null}}),version:a.version,created_date:a.created_date,updated_date:a.updated_date};return a._listkey?await yt.update(a._listkey,a.title,"",a.personalization,a.icon,a.base_model_id??V.ai_default_model,a.share_type,[],[],null,null,a.category_id,null,n):await yt.set(a.title,a.base_model_id??V.ai_default_model,"",a.personalization,a.icon,a.share_type,[],[],a.category_id,null,n)}}const nt={getPlaceholderPatterns(t=[]){const e=[{value:"{{last_step}}",label:"{{last_step}}",description:f.__("Output of the last step"),is_step:!0},{value:"{{last_condition_data}}",label:"{{last_condition_data}}",description:f.__("Matched data of the last condition"),is_step:!0},{value:"{{all_results}}",label:"{{all_results}}",description:f.__("Summary of all step results"),is_step:!0},{value:"{{input_text}}",label:"{{input_text}}",description:f.__("User's original input text"),is_step:!0},{value:"{{step_prompt}}",label:"{{step_prompt}}",description:f.__("Current step's toolkit prompt"),is_step:!1}];return t.forEach(a=>{e.push({value:`{{step_${a.id}_result}}`,label:`{{step_${a.id}_result}}`,description:`${a.title||a.label||"Step "+a.id} ${f.__("result")}`,is_step:!1})}),e},async execute(t="",e=null,a={}){try{const l=await f.Browser().storage.local.get(["settings","uuid_hopekey","uuid_search","selected_agent"]),n=f.notUndefined(l,"settings"),s=f.notUndefined(l,"uuid_search"),u=f.notUndefined(l,"uuid_hopekey"),c=f.notUndefined(l,"selected_agent"),p=[],m={workflow_execution:!0};c&&c._listkey&&(m.agent_id=c._listkey),e!==null&&(m.step_id=e),a.auto_generate===!0&&(m.auto_generate=!0);const{model:h=c.base_model_id||V.ai_default_model,mode:v="ai_workflow_stream",extra_key:g=m.agent_id}=a,w={history:p,text:t,model:h,stream:!0,uuid_search:s,mode:v,prompt_mode:!1,extra_key:g,extra_data:m,chat_id:m.agent_id,language_detail:n==null?void 0:n.language_detail,is_continue:!1};n!=null&&n.ai_key&&(n==null?void 0:n.ai_mode)=="api"&&(w.token=n.ai_key),n!=null&&n.language&&(w.lang_code=n.language);let C={};f.notUndefined(c,"workflow.steps")&&(C.ai_workflow={},C.ai_workflow[g]={},Object.values(c.workflow.steps).forEach(ot=>{let K=f.notUndefined(ot,"step_id")||f.notUndefined(ot,"id"),ct=!1;(K==e||e===null)&&(ct=!0);let H={id:K,input:f.notUndefined(ot,"event_data.input.prompt_replaced")||f.notUndefined(C,`ai_workflow.${g}.${K}.input`)||f.notUndefined(ot,"event_data.input")||null,output:f.notUndefined(ot,"event_data.output")||f.notUndefined(C,`ai_workflow.${g}.${K}.output`)||null};C.ai_workflow[g]={steps:{},loading:!0}}),await f.Browser().storage.local.set(C));let S=C;const A=0;typeof pt.aborting[g]<"u"&&(pt.aborting[g]=null),pt.aborting[g]=new AbortController;const x=document.querySelectorAll("#ait-stop-chat-"+v),I=`${V.api_url}/ai/workflow`;return await pt.aiApi(v,h,g,w,A,x,null,I,"",pt)}catch(l){throw console.error("Error executing workflow:",l),l}},async saveToStorage(t,e){return di.saveToStorage(t,e)},async loadFromStorage(){return di.loadFromStorage()},setup(t,e){const a=G(!0),l=G(!1),n=G(!1),s=G([]),u=k=>k.filter((M,j,T)=>j===T.findIndex(P=>P.source===M.source&&P.target===M.target)),c=(k,M)=>`e-${k}-${M}`,p=(k,M)=>{const j=k===null?0:k,T=c(j,M);s.value.some(q=>q.source===j&&q.target===M)||(s.value.push({id:T,source:j,target:M}),s.value=u(s.value))},m=k=>{s.value=s.value.filter(M=>M.source!==k&&M.target!==k)},h=k=>{s.value=s.value.map(M=>{const j=M.source===-1?-1:k.get(M.source)??M.source,T=k.get(M.target)??M.target;return{id:c(j,T),source:j,target:T}}),s.value=u(s.value)},v=()=>{s.value=[],x.value&&Array.isArray(x.value)&&x.value.forEach(k=>{const M=k.parent_workflow_id===null||k.parent_workflow_id===void 0?0:k.parent_workflow_id;p(M===0?null:M,k.id)})},g=G(null),w=G(window.innerWidth>=768),C=G("Ctrl + E /  + E"),S=G([]),A=G(null),x=lt({get:()=>{var M,j;const k=(j=(M=A.value)==null?void 0:M.workflow)==null?void 0:j.steps;return Array.isArray(k)?k:k&&typeof k=="object"?Object.values(k):[]},set:k=>{A.value&&(A.value.workflow||(A.value.workflow={}),A.value.workflow.steps=Array.isArray(k)?k:[])}}),I=lt({get:()=>{var k;return((k=A.value)==null?void 0:k.title)||"Test Flow"},set:k=>{A.value&&(A.value.title=k)}}),Y=lt({get:()=>{var k;return((k=A.value)==null?void 0:k.category_id)||""},set:k=>{A.value&&(A.value.category_id=k)}}),ot=lt({get:()=>{var k;return((k=A.value)==null?void 0:k.icon)||null},set:k=>{A.value&&(A.value.icon=k)}}),K=lt({get:()=>{var k;return((k=A.value)==null?void 0:k.share_type)||"Private"},set:k=>{A.value&&(A.value.share_type=k)}}),ct=lt({get:()=>{var k;return((k=A.value)==null?void 0:k.personalization)||""},set:k=>{A.value&&(A.value.personalization=k)}}),H=lt(()=>nt.getPlaceholderPatterns(x.value)),z=G(!1),mt=G(""),ut=G(10),et=G(null),N=G(null),vt=G([]),$t=G(!1),kt=G(1),wt=G(0);G(null),G([]);const xt=G(!1),Ut=G(new Set);G(new Set),G("");const Dt=G(!1),Et=G(""),St=G(10),Xt=G(null),Ot=G(null),Lt=G([]);G([]);const bt=G(!1),Ht=G(1),he=G(0),Jt=async(k=1,M="")=>{$t.value=!0;try{const{tools:j,total:T}=await ci.fetchTools(k,M);k===1?vt.value=j:vt.value=[...vt.value,...j],wt.value=T,kt.value=k}catch(j){console.error("Error fetching tools:",j),k===1&&(vt.value=[])}finally{$t.value=!1}},te=async(k=1,M="")=>{bt.value=!0;try{const{skills:j,total:T}=await ci.fetchSkills(k,M);k===1?Lt.value=j:Lt.value=[...Lt.value,...j],he.value=T,Ht.value=k}catch(j){console.error("Error fetching skills:",j),k===1&&(Lt.value=[])}finally{bt.value=!1}},pe=lt(()=>vt.value),Hi=lt(()=>pe.value.slice(0,ut.value)),Ee=lt(()=>ut.value<pe.value.length||vt.value.length<wt.value),ge=lt(()=>Lt.value),Ai=lt(()=>ge.value.slice(0,St.value)),je=lt(()=>St.value<ge.value.length||Lt.value.length<he.value);let fe=null;It(mt,k=>{fe&&clearTimeout(fe),fe=setTimeout(async()=>{ut.value=10,kt.value=1,await Jt(1,k)},500)});let me=null;It(Et,k=>{me&&clearTimeout(me),me=setTimeout(async()=>{St.value=10,Ht.value=1,await te(1,k)},500)});let _e=null;const Nt=()=>{_e&&clearTimeout(_e),_e=setTimeout(async()=>{await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value})},1e3)};It(I,Nt),It(Y,Nt),It(ot,Nt),It(K,Nt),It(ct,Nt);const Pi=lt(()=>{var k;return g.value?{...g.value.settings,fields:g.value.fields||[],connected_account_id:g.value.connected_account_id||"",toolkit_prompt:g.value.toolkit_prompt||"",toolkit_slug:g.value.toolkit_slug||"",stepTitle:g.value.title||"",stepSubtitle:g.value.short_description||"",isSkill:g.value.type==="skill"||((k=g.value.settings)==null?void 0:k.isSkill)||!1,condition_is_else:g.value.condition_is_else||!1}:(w.value=!1,{title:f.__("Select a step"),status:"",icon:"https://example.com/icons/clipboard.svg",fields:[],connected_account_id:"",toolkit_prompt:"",toolkit_slug:"",stepTitle:"",stepSubtitle:"",isSkill:!1,condition_is_else:!1})}),Ii=lt(()=>x.value.filter(k=>!k.parent_workflow_id)),Re=k=>x.value.filter(M=>M.parent_workflow_id===k),ee=k=>x.value.filter(M=>M.parent_workflow_id===k&&M.type==="condition"),ve=(k,M=0)=>(k==null?void 0:k.id)||M,Ui=k=>!g.value||!k?!1:ve(g.value)===ve(k),Ei=k=>{g.value=k,w.value=!0},be=()=>{w.value=!1,g.value=null},ie=()=>{if(x.value.length===0)return;const k=new Map,M=x.value.filter(P=>!P.parent_workflow_id);let j=1;const T=P=>{const q=P.id,Z=j++;k.set(q,Z),P.id=Z,x.value.filter(gt=>gt.parent_workflow_id===q).forEach(gt=>{T(gt)})};if(M.forEach(P=>{T(P)}),x.value.forEach(P=>{if(P.parent_workflow_id!==null&&P.parent_workflow_id!==void 0){const q=k.get(P.parent_workflow_id);q!==void 0&&(P.parent_workflow_id=q)}}),h(k),g.value){const P=k.get(g.value.id);P!==void 0&&(g.value=x.value.find(q=>q.id===P)||null)}},ji=FA({items:x,onReorder:async k=>{x.value=k,ie(),await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value})},updateIds:ie}),Ri=qA({getConditions:k=>ee(k),onReorder:async(k,M)=>{M.forEach((j,T)=>{const P=x.value.find(q=>q.id===j.id);P&&(P.parent_workflow_id=k)}),ie(),await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value})},canDrag:k=>!(k!=null&&k.condition_is_else)}),Bi=NA({getSteps:(k,M)=>Re(M),onReorder:async(k,M,j)=>{j.forEach((T,P)=>{const q=x.value.find(Z=>Z.id===T.id);q&&(q.parent_workflow_id=M)}),ie(),await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value})}}),ae=k=>{x.value.filter(j=>j.parent_workflow_id===k).forEach(j=>{ae(j.id)}),m(k),x.value=x.value.filter(j=>j.id!==k)},Di=async k=>{if(x.value.findIndex(P=>P.id===k)===-1)return;const j=new Set,T=P=>{j.add(P),x.value.filter(Z=>Z.parent_workflow_id===P).forEach(Z=>T(Z.id))};T(k),ae(k),l.value=!0,g.value&&j.has(g.value.id)&&(g.value=x.value.length>0?x.value[0]:null),await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value,routes:s.value}),it&&it.initializeVueFlowNodes&&it.initializeVueFlowNodes()},Oi=k=>{const M=x.value.find(j=>j.id===k);M&&(M.expanded=!M.expanded)},Be=async k=>{if(!x.value.find(st=>st.id===k))return;const j=ee(k),P=Math.max(0,...x.value.map(st=>st.id))+1,q=j.length===0,Z=x.value.find(st=>st.id===k),ht=j.filter(st=>!st.condition_is_else).length,gt=Z!=null&&Z.position?{x:Z.position.x+300,y:Z.position.y+ht*150}:jt(k),at={id:P,title:q?f.__("Condition 1"):`${f.__("Condition")} ${j.length+1}`,short_description:"",toolkit_prompt:"",icon:"https://example.com/icons/router.svg",position:gt,expanded:!0,parent_workflow_id:k,type:"condition",label:q?f.__("Condition 1"):`${f.__("Condition")} ${j.length+1}`,condition_is_else:!1};x.value.push(at),l.value=!0;const dt=x.value,Pt=dt.filter(st=>st.parent_workflow_id===k&&st.type==="condition"),zt=Pt.filter(st=>st.condition_is_else===!0);Pt.filter(st=>st.condition_is_else!==!0),zt.forEach(st=>{const Zt=dt.findIndex(Ce=>Ce.id===st.id);Zt!==-1&&dt.splice(Zt,1)}),zt.forEach(st=>{dt.push(st)}),p(k,P),await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value,routes:s.value}),it&&it.initializeVueFlowNodes&&await it.initializeVueFlowNodes()},zi=async k=>{if(!x.value.find(st=>st.id===k))return;const j=ee(k);if(j.some(st=>st.condition_is_else))return;const q=Math.max(0,...x.value.map(st=>st.id))+1,Z=x.value.find(st=>st.id===k),ht=j.filter(st=>!st.condition_is_else).length,gt=Z!=null&&Z.position?{x:Z.position.x+500,y:Z.position.y+ht*150}:jt(k),at={id:q,title:f.__("Else"),short_description:"",toolkit_prompt:"",icon:"https://example.com/icons/router.svg",position:gt,expanded:!0,parent_workflow_id:k,type:"condition",label:f.__("Else"),condition_is_else:!0};x.value.push(at),l.value=!0;const dt=x.value,Pt=dt.filter(st=>st.parent_workflow_id===k&&st.type==="condition"),zt=Pt.filter(st=>st.condition_is_else===!0);Pt.filter(st=>st.condition_is_else!==!0),zt.forEach(st=>{const Zt=dt.findIndex(Ce=>Ce.id===st.id);Zt!==-1&&dt.splice(Zt,1)}),zt.forEach(st=>{dt.push(st)}),p(k,q),await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value,routes:s.value}),it&&it.initializeVueFlowNodes&&await it.initializeVueFlowNodes()},Vi=async(k,M,j)=>{const T=x.value.find(P=>P.id===M);T&&(T.label=j,T.title=j,await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value}))},Fi=(k,M)=>{const j=x.value.find(T=>T.id===M);j&&(g.value={id:M,title:j.label||j.title,short_description:"",toolkit_prompt:"",icon:"https://example.com/icons/router.svg",position:{x:0,y:0},expanded:!0,fields:[],connected_account_id:"",toolkit_slug:"",condition_is_else:j.condition_is_else||!1,settings:{title:`${j.label||j.title} ${f.__("Conditions")}`,version:"",icon:"https://example.com/icons/router.svg",conditionItemId:M,stepId:k,isConditionSettings:!0}},w.value=!0)},qi=async(k,M)=>{var j,T,P;ae(M),l.value=!0,(((j=g.value)==null?void 0:j.id)===M||((P=(T=g.value)==null?void 0:T.settings)==null?void 0:P.conditionItemId)===M)&&(g.value=null,w.value=!1),await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value,routes:s.value}),it&&it.initializeVueFlowNodes&&it.initializeVueFlowNodes()},Ni=(k,M)=>{const j=`${k}_${M}`;At.value=At.value===j?null:j},Zi=async(k,M,j)=>{var T;ae(j),l.value=!0,((T=g.value)==null?void 0:T.id)===j&&(g.value=null),await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value,routes:s.value}),it&&it.initializeVueFlowNodes&&it.initializeVueFlowNodes()},At=G(null),Wi=k=>{At.value=At.value===k?null:k},De=async k=>{Dt.value&&ye(),w.value&&be(),N.value=k,z.value=!0,mt.value="",ut.value=10,kt.value=1,At.value=null,await Jt(1,"")},we=()=>{z.value=!1,N.value=null,mt.value="",ut.value=10,kt.value=1},Oe=async()=>{$t.value||(ut.value<vt.value.length?ut.value+=10:vt.value.length<wt.value&&(await Jt(kt.value+1,mt.value),ut.value=vt.value.length))},Gi=async k=>{const M=k.target,j=M.scrollTop,T=M.scrollHeight,P=M.clientHeight;j+P>=T*.8&&Ee.value&&await Oe()},ze=async k=>{z.value&&we(),w.value&&be(),Ot.value=k,Dt.value=!0,Et.value="",St.value=10,Ht.value=1,At.value=null,await te(1,"")},ye=()=>{Dt.value=!1,Ot.value=null,Et.value="",St.value=10,Ht.value=1},Ve=async()=>{bt.value||(St.value<Lt.value.length?St.value+=10:Lt.value.length<he.value&&(await te(Ht.value+1,Et.value),St.value=Lt.value.length))},Ki=async k=>{const M=k.target,j=M.scrollTop,T=M.scrollHeight,P=M.clientHeight;j+P>=T*.8&&je.value&&await Ve()},jt=k=>{if(k===0)return{x:0,y:300+x.value.filter(T=>T.parent_workflow_id===null||T.parent_workflow_id===0).length*200};if(k!=null){const j=x.value.find(T=>T.id===k);if(j!=null&&j.position){const q=x.value.filter(ht=>ht.parent_workflow_id===k).length*350;return{x:j.position.x+q,y:j.position.y+200}}}const M=x.value.length;return{x:M%3*300+300,y:Math.floor(M/3)*200+150}},Yi=async k=>{if(!Ot.value)return;const M=Ot.value,T=Math.max(0,...x.value.map(gt=>gt.id))+1,P="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwb2x5Z29uIHBvaW50cz0iMTMgMiAzIDEzIDEyIDEzIDExIDIyIDIxIDExIDEyIDExIDEzIDIiPjwvcG9seWdvbj48L3N2Zz4=",q=k.name||k.title||"Untitled Skill";let Z;M.stepId&&M.conditionBranchId?Z=jt(M.conditionBranchId):M.afterStepId?Z=jt(M.afterStepId):Z=jt(null);const ht={id:T,title:q,short_description:"",toolkit_prompt:"",icon:k.icon||P,position:Z,expanded:!0,connected_account_id:"",toolkit_slug:"",skill_id:k._listkey,skill_router:k.router||"",type:"skill",fields:[],settings:{title:q,status:k.status||"Active",icon:k.icon||P,category_id:k.category_id,skill_id:k._listkey,skill_router:k.router||"",isSkill:!0}};if(M.stepId&&M.conditionBranchId)ht.parent_workflow_id=M.conditionBranchId,x.value.push(ht),p(M.conditionBranchId,T);else if(M.afterStepId){ht.parent_workflow_id=M.afterStepId;const gt=x.value.findIndex(at=>at.id===M.afterStepId);gt!==-1&&(x.value.splice(gt+1,0,ht),p(M.afterStepId,T))}else ht.parent_workflow_id=null,x.value.push(ht),p(null,T);g.value=ht,l.value=!0,await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value,routes:s.value}),it&&it.initializeVueFlowNodes&&it.initializeVueFlowNodes(),ye(),w.value=!0},Qi=async k=>{if(!N.value)return;const M=N.value,T=Math.max(0,...x.value.map(dt=>dt.id))+1;xt.value=!0;let P=[],q=[];try{const dt=await Le.getByToolkitSlug(k.toolkit_slug);dt&&Array.isArray(dt)?P=dt:dt&&dt.data&&Array.isArray(dt.data)&&(P=dt.data),k.auth_scheme&&k.auth_scheme!=="NO_AUTH"&&k.connections&&typeof k.connections=="object"&&(q=Object.values(k.connections))}catch(dt){console.error("Error fetching tools for toolkit:",dt)}finally{xt.value=!1}const Z=P.map(dt=>({...dt,enabled:!0})),ht=`diagram_tools_${k.toolkit_slug}`;await f.Browser().storage.local.set({[ht]:Z});let gt;M.stepId&&M.conditionBranchId?gt=jt(M.conditionBranchId):M.afterStepId?gt=jt(M.afterStepId):gt=jt(null);const at={id:T,title:k.name,short_description:k.description||"",toolkit_prompt:"",icon:k.logo||"https://example.com/icons/tool.svg",position:gt,expanded:!0,connected_account_id:"",toolkit_slug:k.toolkit_slug,fields:[],settings:{title:k.name,status:k.status||"Passive",icon:k.logo||"https://example.com/icons/tool.svg",category_id:k.category_id,auth_scheme:k.auth_scheme,connection_count:k.connection_count||0,available_connections:q}};if(M.stepId&&M.conditionBranchId)at.parent_workflow_id=M.conditionBranchId,x.value.push(at),p(M.conditionBranchId,T);else if(M.afterStepId){at.parent_workflow_id=M.afterStepId;const dt=x.value.findIndex(Pt=>Pt.id===M.afterStepId);dt!==-1&&(x.value.splice(dt+1,0,at),p(M.afterStepId,T))}else at.parent_workflow_id=null,x.value.push(at),p(null,T);g.value=at,l.value=!0,await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value,routes:s.value}),it&&it.initializeVueFlowNodes&&it.initializeVueFlowNodes(),we(),w.value=!0},Xi=k=>{Ut.value.has(k)?Ut.value.delete(k):Ut.value.add(k)},Ji=async k=>{g.value&&(g.value.connected_account_id=k,l.value=!0,await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value}))},ta=async k=>{g.value&&(g.value.title=k,l.value=!0,await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value}))},ea=async k=>{g.value&&(g.value.short_description=k,l.value=!0,await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value}))},ia=async k=>{g.value&&(g.value.toolkit_prompt=k,l.value=!0,await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value}))},aa=k=>{De({afterStepId:k})},sa=k=>{ze({afterStepId:k})},oa=k=>{x.value.find(j=>j.id===k)&&(Be(k),At.value=null)},Fe=G(350),na=350,la=800,Ft=G(!1),qe=G("left"),ra=G(!0),Ne=G(400),da=300,ca=800,qt=G(!1),Ze=G("right"),ua=k=>{Ft.value=!0,k.preventDefault(),k.stopPropagation(),document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.body.style.pointerEvents="none";const M=k.currentTarget;M&&(M.style.pointerEvents="auto")},ha=k=>{qt.value=!0,k.preventDefault(),k.stopPropagation(),document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.body.style.pointerEvents="none";const M=k.currentTarget;M&&(M.style.pointerEvents="auto")},We=k=>{if(!(!Ft.value&&!qt.value)){if(k.preventDefault(),k.stopPropagation(),Ft.value&&!qt.value){let M;qe.value==="left"?M=k.clientX:M=window.innerWidth-k.clientX,M>=na&&M<=la&&(Fe.value=M)}if(qt.value&&!Ft.value){let M;Ze.value==="left"?M=k.clientX:M=window.innerWidth-k.clientX,M>=da&&M<=ca&&(Ne.value=M)}}},Ge=()=>{Ft.value=!1,qt.value=!1,document.body.style.cursor="",document.body.style.userSelect="",document.body.style.pointerEvents=""},Ke=k=>{k.target.closest(".add-menu-container")||(At.value=null)},xe=ei(),it=xe==null?void 0:xe.proxy,Ye=async()=>{if(!n.value){n.value=!0,it!=null&&it.updateEdgeAnimation&&it.updateEdgeAnimation(!0);try{await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value}),await ke(),await nt.execute()}catch(k){console.error("Error executing workflow:",k)}finally{setTimeout(()=>{n.value=!1,it!=null&&it.updateEdgeAnimation&&it.updateEdgeAnimation(!1)},3e4)}}},Qe=async k=>{(k.ctrlKey||k.metaKey)&&k.key==="s"&&(k.preventDefault(),it&&it.saveRoutes&&await it.saveRoutes(),await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value}),ke(),f.notify.success(f.__("Changes saved successfully"))),(k.ctrlKey||k.metaKey)&&k.key==="e"&&(k.preventDefault(),await Ye())},Xe=async k=>{try{const M=await yt.get(k);if(M&&(A.value=M,await f.Browser().storage.local.set({selected_agent:M}),M.workflow)){const j=typeof M.workflow=="string"?JSON.parse(M.workflow):M.workflow;if(j.steps&&Array.isArray(j.steps)){for(const T of j.steps){if(typeof T.id=="string"&&(T.id=parseInt(T.id)),T.parent_workflow_id!==void 0)if(T.parent_workflow_id===null||T.parent_workflow_id==="null")T.parent_workflow_id=null;else{const P=parseInt(T.parent_workflow_id);T.parent_workflow_id=isNaN(P)?null:P}if((!T.type||T.type===null)&&(T.type="step"),T.condition_is_else!==void 0&&(T.condition_is_else=!!T.condition_is_else),T.settings&&typeof T.settings=="string")try{T.settings=JSON.parse(T.settings)}catch(P){console.error("Error parsing settings:",P),T.settings={}}if(T.settings||(T.settings={}),T.skill_id){T.settings.skill_id=T.skill_id,T.settings.isSkill=!0,(!T.type||T.type==="step")&&(T.type="skill"),T.skill_router&&(T.settings.skill_router=T.skill_router);try{const P=await ce.get(T.skill_id);if(P){const q="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwb2x5Z29uIHBvaW50cz0iMTMgMiAzIDEzIDEyIDEzIDExIDIyIDIxIDExIDEyIDExIDEzIDIiPjwvcG9seWdvbj48L3N2Zz4=";P.icon?(T.icon=P.icon,T.settings.icon=P.icon):(T.icon=q,T.settings.icon=q),!T.skill_router&&P.router&&(T.skill_router=P.router,T.settings.skill_router=P.router);const Z=P.name||P.title||T.title;(!T.title||T.title==="Untitled Skill")&&(T.title=Z),T.short_description||(T.short_description=""),T.settings.title||(T.settings.title=Z),!T.settings.status&&P.status&&(T.settings.status=P.status),!T.settings.category_id&&P.category_id&&(T.settings.category_id=P.category_id)}}catch(P){console.error(`Error loading skill ${T.skill_id}:`,P);const q="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwb2x5Z29uIHBvaW50cz0iMTMgMiAzIDEzIDEyIDEzIDExIDIyIDIxIDExIDEyIDExIDEzIDIiPjwvcG9seWdvbj48L3N2Zz4=";T.icon||(T.icon=q),T.settings.icon||(T.settings.icon=q)}}if(T.position){if(typeof T.position=="string")try{T.position=JSON.parse(T.position)}catch(P){console.error(`Error parsing position for step ${T.id}:`,P),T.position={x:0,y:0}}T.position.x===void 0||T.position.y===void 0?T.position={x:0,y:0}:T.position={x:Number(T.position.x)||0,y:Number(T.position.y)||0}}else T.position={x:0,y:0};if(T.expanded===void 0&&(T.expanded=!0),T.toolkit_slug)try{const P=await ne.get(T.toolkit_slug);let q=null;if(Array.isArray(P)?q=P.find(Z=>Z.toolkit_slug===T.toolkit_slug):P&&P.data&&Array.isArray(P.data)&&(q=P.data.find(Z=>Z.toolkit_slug===T.toolkit_slug)),q){if(T.settings||(T.settings={}),T.settings.title||(T.settings.title=q.name),T.settings.status||(T.settings.status=q.status||"Passive"),T.settings.icon||(T.settings.icon=q.logo),T.settings.category_id||(T.settings.category_id=q.category_id),T.settings.auth_scheme||(T.settings.auth_scheme=q.auth_scheme),T.settings.connection_count||(T.settings.connection_count=q.connection_count||0),!T.settings.available_connections||T.settings.available_connections.length===0){let Z=[];q.auth_scheme&&q.auth_scheme!=="NO_AUTH"&&q.connections&&typeof q.connections=="object"&&(Z=Object.values(q.connections)),T.settings.available_connections=Z}q.logo?T.icon=q.logo:T.icon="https://example.com/icons/tool.svg",T.fields||(T.fields=[]);try{const Z=await Le.getByToolkitSlug(T.toolkit_slug);let ht=[];Z&&Array.isArray(Z)?ht=Z:Z&&Z.data&&Array.isArray(Z.data)&&(ht=Z.data);const gt=ht.map(dt=>({...dt,enabled:!0})),at=`diagram_tools_${T.toolkit_slug}`;await f.Browser().storage.local.set({[at]:gt})}catch(Z){console.error(`Error loading tools for toolkit ${T.toolkit_slug}:`,Z)}}}catch(P){console.error(`Error loading toolkit ${T.toolkit_slug}:`,P)}}A.value.workflow||(A.value.workflow={}),A.value.workflow.steps=[...j.steps],A.value.workflow.routes=j.routes||[],A.value.workflow.version=j.version,A.value.workflow.created_date=j.created_date,A.value.workflow.updated_date=j.updated_date}await f.Browser().storage.local.set({selected_agent:A.value}),j.routes&&Array.isArray(j.routes)?(s.value=j.routes.map(T=>({id:T.id||c(T.source,T.target),source:T.source,target:T.target})),s.value=u(s.value)):v(),it&&it.initializeVueFlowNodes&&it.initializeVueFlowNodes(),x.value.length>0&&(g.value=x.value[0]),l.value=!1}}catch(M){console.error("Error loading agent data:",M),f.notify.error(f.__("Failed to load agent data"))}};de(async()=>{var gt;const k=ei(),M=k==null?void 0:k.proxy;M!=null&&M.selected_agent&&(A.value=M.selected_agent),M!=null&&M.$watch&&M.$watch(()=>M.selected_agent,at=>{at&&(A.value=at)},{deep:!0,immediate:!0}),It(A,at=>{at&&M&&M.selected_agent!==at&&(M.selected_agent=at,f.Browser().storage.local.set({selected_agent:at}))},{deep:!0});try{const at=await Ae.build();at&&(S.value=Object.values(at))}catch(at){console.error("Error loading categories:",at)}M&&(M.isLoading=!0),a.value=!0;const j=document.querySelector(".aitopia");j&&j.classList.add("ait-page-loading");const P=new URLSearchParams(window.location.search).get("id");if(P)await Xe(P);else if(!(M!=null&&M.selected_agent)||!M.selected_agent._listkey){const at={_listkey:null,title:f.__("New Workflow"),category_id:S.value.length>0?S.value[0]._listkey:"",icon:null,share_type:"Private",personalization:"",base_model_id:V.ai_default_model,workflow:{steps:[],version:"1",created_date:new Date().toISOString(),updated_date:new Date().toISOString()}};A.value=at,M&&(M.selected_agent=at),await f.Browser().storage.local.set({selected_agent:at})}const q=await f.Browser().storage.local.get("selected_agent"),Z=q==null?void 0:q.selected_agent;(gt=Z==null?void 0:Z.workflow)!=null&&gt.routes&&Array.isArray(Z.workflow.routes)?(s.value=Z.workflow.routes.map(at=>({id:at.id||c(at.source,at.target),source:at.source,target:at.target})),s.value=u(s.value)):v(),M&&M.initializeVueFlowNodes&&M.initializeVueFlowNodes(),l.value=!1,a.value=!1,M&&(M.isLoading=!1);const ht=document.querySelector(".ait-page-loading");ht&&ht.classList.remove("ait-page-loading"),setTimeout(()=>{const at=document.querySelector(".ait-overflow-x-auto.ait-overflow-y-auto");if(at){const dt=at.scrollWidth,Pt=at.clientWidth,zt=(dt-Pt)/2;at.scrollLeft=zt}},100),document.addEventListener("mousemove",We),document.addEventListener("mouseup",Ge),document.addEventListener("click",Ke),document.addEventListener("keydown",Qe)});const ke=async()=>{try{it&&(it.showSavedMessage=!1),await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value,icon:ot.value,share_type:K.value,personalization:ct.value,incrementVersion:!0});const k=await nt.loadFromStorage();let M=k.workflow.steps;Array.isArray(M)||(M&&typeof M=="object"?M=Object.values(M):M=[]);const T={steps:M.map(P=>{var q,Z;return{id:P.id.toString(),parent_workflow_id:P.parent_workflow_id!==null&&P.parent_workflow_id!==void 0?P.parent_workflow_id.toString():null,title:P.title,short_description:P.short_description||null,toolkit_prompt:P.toolkit_prompt||"",type:P.type||"step",connected_account_id:P.connected_account_id||null,toolkit_slug:P.toolkit_slug||null,skill_id:((q=P.settings)==null?void 0:q.skill_id)||P.skill_id||null,skill_router:((Z=P.settings)==null?void 0:Z.skill_router)||P.skill_router||null,condition_detail:null,condition_is_else:P.condition_is_else?1:0,position:P.position||{x:0,y:0},settings:P.settings?JSON.stringify(P.settings):null}}),routes:k.workflow.routes||[],version:k.workflow.version,created_date:k.workflow.created_date,updated_date:k.workflow.updated_date};if(k._listkey)await yt.update(k._listkey,I.value,"",ct.value,ot.value,k.base_model_id??V.ai_default_model,K.value,[],[],null,null,Y.value,null,T)&&(l.value=!1,it&&(it.showSavedMessage=!0,setTimeout(()=>{it.showSavedMessage=!1},3e3)),f.notify.success(f.__("Flow updated successfully")));else{const P=await yt.set(I.value,k.base_model_id??V.ai_default_model,"",ct.value,ot.value,K.value,[],[],Y.value,null,T);if(P&&P._listkey){await nt.saveToStorage(x.value,{title:I.value,category_id:Y.value,icon:ot.value,share_type:K.value,personalization:ct.value,routes:T.routes,_listkey:P._listkey});const q=new URL(window.location.href);q.searchParams.set("id",P._listkey),window.history.pushState({},"",q.toString()),l.value=!1,it&&(it.showSavedMessage=!0,setTimeout(()=>{it.showSavedMessage=!1},3e3)),f.notify.success(f.__("Flow created successfully"))}}}catch(k){console.error("Error publishing flow:",k),f.notify.error(f.__("Failed to publish flow"))}};return fi(()=>{document.removeEventListener("mousemove",We),document.removeEventListener("mouseup",Ge),document.removeEventListener("click",Ke),document.removeEventListener("keydown",Qe)}),{isLoading:a,hasUnsavedChanges:l,isExecutingWorkflow:n,handlePublish:ke,handleExecuteWorkflow:Ye,loadAgentData:Xe,steps:x,routes:s,selectedStep:g,selected_agent:A,flowTitle:I,flowTags:C,flowCategory:Y,flowIcon:ot,flowShareType:K,personalization:ct,categories:S,placeholderPatterns:H,currentSidebarData:Pi,getStepId:ve,isStepSelected:Ui,selectStep:Ei,toggleStepExpand:Oi,addNewStep:aa,addConditionsToStep:oa,deleteStep:Di,addConditionItem:Be,addElseConditionItem:zi,removeConditionItem:qi,addStepToConditionItem:Ni,deleteConditionItemStep:Zi,updateConditionItemLabel:Vi,selectConditionItem:Fi,showAddMenu:At,toggleAddMenu:Wi,sidebarWidth:Fe,sidebarPosition:qe,startResize:ua,isResizing:Ft,isSidebarOpen:w,closeSidebar:be,handleConnectedAccountIdUpdate:Ji,handleStepTitleUpdate:ta,handleStepSubtitleUpdate:ea,handleToolkitPromptUpdate:ia,getRootSteps:Ii,getChildSteps:Re,getConditionBranches:ee,isToolSidebarOpen:z,toolSearchQuery:mt,displayedTools:Hi,filteredTools:pe,hasMoreTools:Ee,openToolSidebar:De,closeToolSidebar:we,loadMoreTools:Oe,handleToolScroll:Gi,selectTool:Qi,toolSidebarScrollContainer:et,isLoadingTools:$t,fetchTools:Jt,isLoadingToolsForToolkit:xt,expandedToolsInSettings:Ut,toggleToolInSettings:Xi,isSkillSidebarOpen:Dt,skillSearchQuery:Et,displayedSkills:Ai,filteredSkills:ge,hasMoreSkills:je,openSkillSidebar:ze,closeSkillSidebar:ye,loadMoreSkills:Ve,handleSkillScroll:Ki,selectSkill:Yi,skillSidebarScrollContainer:Xt,isLoadingSkills:bt,fetchSkills:te,addNewSkill:sa,showChatSection:ra,chatSectionWidth:Ne,chatSectionPosition:Ze,startChatResize:ha,isChatResizing:qt,...ji,...Ri,...Bi}}},ZA=rt({name:"PlaceholderButtons",props:{modelValue:{type:String,default:""},allSteps:{type:Array,default:()=>[]},textareaRef:{type:String,required:!0},filterIsStep:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const a=G(null);return{placeholderPatterns:lt(()=>{const u=nt.getPlaceholderPatterns(t.allSteps);return t.filterIsStep?u.filter(c=>c.is_step===!0):u}),insertPlaceholder:(u,c)=>{const m=c.currentTarget.closest(".ait-space-y-2, .ait-space-y-4");let h=null;if(m&&(h=m.querySelector("textarea")),h||(h=document.querySelector(`[ref="${t.textareaRef}"]`)),!h){console.warn(`Textarea not found for ref: ${t.textareaRef}`);return}const v=h.selectionStart||0,g=h.selectionEnd||0,w=t.modelValue||"",C=w.substring(0,v),S=w.substring(g),A=C+u+S;e("update:modelValue",A),setTimeout(()=>{h.focus();const x=v+u.length;h.setSelectionRange(x,x),f.autoResizeTextarea({target:h})},0)},isPlaceholderInText:u=>{if(!t.modelValue)return!1;const c=u.replace("{{","{").replace("}}","}");return t.modelValue.includes(u)||t.modelValue.includes(c)},hoveredPlaceholder:a}}}),WA={class:"ait-relative"},GA={class:"ait-flex ait-flex-wrap ait-gap-2"},KA=["onClick","onMouseenter"],YA={key:0,class:"ait-absolute ait-bottom-full ait-left-1/2 ait-transform ait--translate-x-1/2 ait-mb-2 ait-px-3 ait-py-2 ait-bg-neutral-900 dark:ait-bg-neutral-700 ait-text-white ait-text-xs ait-rounded-lg ait-shadow-lg ait-whitespace-nowrap ait-z-50 ait-pointer-events-none"};function QA(t,e,a,l,n,s){return o(),r("div",WA,[i("div",GA,[(o(!0),r(L,null,B(t.placeholderPatterns,u=>(o(),r("button",{key:u.value,onClick:c=>t.insertPlaceholder(u.value,c),onMouseenter:c=>t.hoveredPlaceholder=u.value,onMouseleave:e[0]||(e[0]=c=>t.hoveredPlaceholder=null),class:$(["ait-px-2.5 ait-py-1 ait-text-xs ait-rounded ait-border ait-transition-all hover:ait-shadow-sm ait-relative",t.isPlaceholderInText(u.value)?"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white ait-border-[var(--ait-tab-menu-active-bg-color)]":"ait-bg-neutral-100 dark:ait-bg-neutral-700 ait-text-neutral-700 dark:ait-text-neutral-300 ait-border-neutral-300 dark:ait-border-neutral-600 hover:ait-border-neutral-400 dark:hover:ait-border-neutral-500"])},[U(d(u.label)+" ",1),t.hoveredPlaceholder===u.value?(o(),r("div",YA,[U(d(u.description)+" ",1),e[1]||(e[1]=i("div",{class:"ait-absolute ait-top-full ait-left-1/2 ait-transform ait--translate-x-1/2 ait-w-0 ait-h-0 ait-border-l-4 ait-border-r-4 ait-border-t-4 ait-border-l-transparent ait-border-r-transparent ait-border-t-neutral-900 dark:ait-border-t-neutral-700"},null,-1))])):_("",!0)],42,KA))),128))])])}const Ue=R(ZA,[["render",QA]]),XA=rt({name:"DiagramToolSettings",components:{PlaceholderButtons:Ue},props:{toolkitPrompt:{type:String,default:""},authScheme:{type:String,default:""},connectionCount:{type:Number,default:0},availableConnections:{type:Array,default:()=>[]},connectedAccountId:{type:String,default:""},toolkitSlug:{type:String,required:!0},selectedStep:{type:Object,default:null},stepTitle:{type:String,default:""},stepSubtitle:{type:String,default:""},allSteps:{type:Array,default:()=>[]}},extends:O,emits:["update:toolkitPrompt","update:tools","update:connectedAccountId","update:stepTitle","update:stepSubtitle"],setup(t,{emit:e}){const a=G([]),l=G(!1),n=async()=>{if(t.toolkitSlug){l.value=!0;try{const h=`diagram_tools_${t.toolkitSlug}`,v=await f.Browser().storage.local.get(h);v&&v[h]&&(a.value=v[h])}catch(h){console.error("Error loading tools from storage:",h)}finally{l.value=!1}}};return de(()=>{n(),setTimeout(()=>{const h=document.querySelector('[ref="toolkitPromptTextarea"]');h&&t.toolkitPrompt&&(h.style.height="auto",h.style.height=h.scrollHeight+"px")},100)}),It(()=>t.toolkitSlug,()=>{n()}),{tools:a,isLoadingTools:l,updateToolkitPrompt:h=>{e("update:toolkitPrompt",h)},updateStepTitle:h=>{e("update:stepTitle",h)},updateStepSubtitle:h=>{e("update:stepSubtitle",h)},updateConnectedAccountId:h=>{e("update:connectedAccountId",h)},handleCreateConnection:async(h=null)=>{try{h!=null&&h.target.setAttribute("disabled",!0);const v=await ne.createConnection(t.toolkitSlug);if(console.log(v,h),v&&v.url){v.auth_config_id&&(e("update:connectedAccountId",v.auth_config_id||""),t.selectedStep&&t.selectedStep.settings&&(t.selectedStep.settings.auth_config_id=v.auth_config_id,t.selectedStep.settings.connection_id=v.connection_id));const g=window.open(v.url,"composio_auth","width=600,height=700,scrollbars=yes,resizable=yes");if(h!=null&&h.target.removeAttribute("disabled"),g){f.notify.success(f.__("Connection window opened. Please complete the authentication."));const w=await ne.get(t.toolkitSlug);if(w&&t.selectedStep&&t.selectedStep.settings){if(w.connections&&typeof w.connections=="object"){const C=Object.values(w.connections);t.selectedStep.settings.available_connections=C,t.selectedStep.settings.connection_count=C.length}w.auth_scheme&&(t.selectedStep.settings.auth_scheme=w.auth_scheme)}}else f.notify.error(f.__("Popup blocked. Please allow popups for this site."))}}catch(v){console.error("Error creating connection:",v),f.notify.error(f.__("Failed to create connection")),h!=null&&h.target.removeAttribute("disabled")}}}}}),JA={class:"ait-space-y-4"},tP={class:"ait-space-y-1"},eP={class:"ait-flex ait-items-center ait-gap-2 ait-text-xs ait-font-semibold ait-text-neutral-700 dark:ait-text-neutral-300"},iP={class:"ait-text-xs ait-font-normal ait-text-neutral-500 dark:ait-text-neutral-400"},aP=["value","placeholder"],sP={class:"ait-text-xs ait-text-neutral-500 dark:ait-text-neutral-400 ait-leading-relaxed"},oP={class:"ait-space-y-2"},nP={class:"ait-flex ait-items-center ait-gap-2 ait-text-xs ait-font-semibold ait-text-neutral-700 dark:ait-text-neutral-300"},lP={class:"ait-text-xs ait-font-normal ait-text-neutral-500 dark:ait-text-neutral-400"},rP=["value","placeholder"],dP={class:"ait-text-xs ait-text-neutral-500 dark:ait-text-neutral-400 ait-leading-relaxed"},cP={class:"ait-space-y-2"},uP={class:"ait-flex ait-items-center ait-gap-2 ait-text-xs ait-font-semibold ait-text-neutral-700 dark:ait-text-neutral-300"},hP={class:"ait-text-xs ait-font-normal ait-text-neutral-500 dark:ait-text-neutral-400"},pP=["value","placeholder"],gP={class:"ait-mt-3"},fP={class:"ait-text-xs ait-text-neutral-500 dark:ait-text-neutral-400 ait-leading-relaxed"},mP={key:0,class:"ait-space-y-2"},_P={class:"ait-flex ait-items-center ait-gap-2 ait-text-xs ait-font-semibold ait-text-neutral-700 dark:ait-text-neutral-300"},vP={class:"ait-flex ait-gap-2"},bP=["value"],wP={value:""},yP=["value"],xP={class:"ait-text-xs ait-text-neutral-500 dark:ait-text-neutral-400 ait-leading-relaxed"},kP={class:"ait-space-y-3"},CP={class:"ait-text-sm ait-font-semibold ait-text-neutral-900 dark:ait-text-white"},$P={key:0,class:"ait-text-center ait-py-4"},LP={class:"ait-inline-flex ait-items-center ait-gap-2 ait-text-sm ait-text-neutral-500 dark:ait-text-neutral-400"},SP={class:"ait-w-full ait-p-4 ait-bg-white dark:ait-bg-neutral-800"},MP={class:"ait-flex ait-items-center ait-gap-3"},TP={class:"ait-flex-1"},HP={class:"ait-font-semibold ait-text-sm ait-text-neutral-900 dark:ait-text-white"},AP={class:"ait-text-xs ait-text-neutral-600 dark:ait-text-neutral-400 ait-mt-0.5"};function PP(t,e,a,l,n,s){const u=y("PlaceholderButtons");return o(),r("div",JA,[i("div",tP,[i("label",eP,[U(d(t.__("Step Title"))+" ",1),i("span",iP,"("+d(t.__("Optional"))+")",1)]),i("input",{type:"text",value:t.stepTitle,onInput:e[0]||(e[0]=c=>t.updateStepTitle(c.target.value)),placeholder:t.__("Enter step title (optional)..."),class:"ait-w-full ait-px-3 ait-py-2.5 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-transparent ait-transition-all"},null,40,aP),i("p",sP,d(t.__("A short title for this step")),1)]),i("div",oP,[i("label",nP,[U(d(t.__("Step Subtitle"))+" ",1),i("span",lP,"("+d(t.__("Optional"))+")",1)]),i("input",{type:"text",value:t.stepSubtitle,onInput:e[1]||(e[1]=c=>t.updateStepSubtitle(c.target.value)),placeholder:t.__("Enter step subtitle (optional)..."),class:"ait-w-full ait-px-3 ait-py-2.5 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-transparent ait-transition-all"},null,40,rP),i("p",dP,d(t.__("A brief description for this step")),1)]),i("div",cP,[i("label",uP,[U(d(t.__("Toolkit Prompt"))+" ",1),i("span",hP,"("+d(t.__("Optional"))+")",1)]),i("textarea",{ref:"toolkitPromptTextarea",value:t.toolkitPrompt,onInput:e[2]||(e[2]=c=>{t.updateToolkitPrompt(c.target.value),t.Helpers.autoResizeTextarea(c)}),onFocus:e[3]||(e[3]=c=>t.Helpers.autoResizeTextarea(c)),placeholder:t.__("Describe what you want to accomplish with this toolkit (optional)..."),rows:"1",class:"ait-w-full ait-px-3 ait-py-2.5 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-transparent ait-transition-all ait-resize-none ait-overflow-hidden",style:{"min-height":"42px"}},null,40,pP),i("div",gP,[b(u,{"model-value":t.toolkitPrompt,"onUpdate:modelValue":t.updateToolkitPrompt,"all-steps":t.allSteps,"textarea-ref":"toolkitPromptTextarea","filter-is-step":!0},null,8,["model-value","onUpdate:modelValue","all-steps"])]),i("p",fP,d(t.__("This prompt will be used for all tools in this toolkit")),1)]),t.authScheme&&t.authScheme!=="NO_AUTH"?(o(),r("div",mP,[i("label",_P,[U(d(t.__("Connection"))+" ",1),e[6]||(e[6]=i("span",{class:"ait-text-red-500"},"*",-1))]),i("div",vP,[t.connectionCount>0?(o(),r("select",{key:0,value:t.connectedAccountId,onChange:e[4]||(e[4]=c=>t.updateConnectedAccountId(c.target.value)),class:"ait-flex-1 ait-px-3 ait-py-2.5 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-transparent ait-transition-all"},[i("option",wP,d(t.__("Select a connection")),1),(o(!0),r(L,null,B(t.availableConnections,c=>(o(),r("option",{key:c.composio_connection_id,value:c.composio_connection_id},d(c.composio_auth_id)+" ("+d(c.composio_status)+") ",9,yP))),128))],40,bP)):_("",!0),i("button",{onClick:e[5]||(e[5]=(...c)=>t.handleCreateConnection&&t.handleCreateConnection(...c)),class:$(["ait-px-4 ait-py-2.5 ait-text-sm ait-font-medium ait-text-white ait-rounded-lg ait-transition-colors ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 ait-whitespace-nowrap",{"ait-flex-1":t.connectionCount===0}])},d(t.connectionCount>0?t.__("+ New"):t.__("Connect")),3)]),i("p",xP,d(t.__("Select an existing connection or create a new one")),1)])):_("",!0),i("div",kP,[i("h3",CP,d(t.__("Available Tools")),1),t.isLoadingTools?(o(),r("div",$P,[i("div",LP,[e[7]||(e[7]=i("svg",{class:"ait-animate-spin ait-h-4 ait-w-4",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"ait-opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"ait-opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),U(" "+d(t.__("Loading tools...")),1)])])):(o(!0),r(L,{key:1},B(t.tools,c=>(o(),r("div",{key:c.tool_slug,class:"ait-border ait-border-neutral-200 dark:ait-border-neutral-700 ait-rounded-lg ait-overflow-hidden"},[i("div",SP,[i("div",MP,[i("div",TP,[i("h4",HP,d(c.name),1),i("p",AP,d(t.__(c.description)),1)])])])]))),128))])])}const Mi=R(XA,[["render",PP]]),IP=rt({name:"DiagramStepCard",extends:O,props:{step:{type:Object,required:!0},isSelected:{type:Boolean,default:!1},isDragging:{type:Boolean,default:!1},isDragOver:{type:Boolean,default:!1},size:{type:String,default:"normal"},showDelete:{type:Boolean,default:!0}},emits:["click","delete","run"]}),UP=["disabled","title"],EP=["title"],jP=["src","alt"],RP={class:"ait-flex-1 ait-min-w-0"},BP={key:1,class:"ait-mt-2 ait-space-y-2 ait-max-w-full"},DP={key:0,class:"ait-bg-amber-50 dark:ait-bg-amber-900/20 ait-rounded-lg ait-p-3 ait-border ait-border-amber-200 dark:ait-border-amber-800"},OP={class:"ait-flex ait-items-start ait-gap-2"},zP={class:"ait-flex-1 ait-min-w-0"},VP={class:"ait-text-xs ait-font-semibold ait-text-orange-700 dark:ait-text-orange-300 ait-mb-1"},FP={class:"ait-text-xs ait-text-orange-600 dark:ait-text-orange-400 ait-break-words"},qP={key:1,class:"ait-bg-green-50 dark:ait-bg-green-900/20 ait-rounded-lg ait-p-3 ait-border ait-border-green-200 dark:ait-border-green-800"},NP={class:"ait-flex ait-items-start ait-gap-2"},ZP={class:"ait-flex-1 ait-min-w-0"},WP={class:"ait-text-xs ait-font-semibold ait-text-green-700 dark:ait-text-green-300 ait-mb-1"},GP=["innerHTML"],KP=["innerHTML"];function YP(t,e,a,l,n,s){var u,c,p,m,h;return t.step?(o(),r("div",{key:0,class:$(["ait-group ait-bg-white dark:ait-bg-neutral-800 ait-rounded-lg ait-shadow-sm ait-border ait-border-neutral-200 dark:ait-border-neutral-700 ait-cursor-move ait-transition-all hover:ait-shadow-md ait-relative ait-w-full ait-min-w-[350px]",{"ait-ring-2 ait-ring-offset-2 ait-ring-offset-neutral-50 dark:ait-ring-offset-neutral-900 ait-ring-[var(--ait-tab-menu-active-bg-color)]":t.isSelected,"ait-opacity-50":t.isDragging,"ait-border-t-4 ait-border-t-[var(--ait-tab-menu-active-bg-color)]":t.isDragOver}]),onClick:e[2]||(e[2]=v=>t.$emit("click",t.step))},[i("button",{class:$(["ait-absolute ait-top-2 ait-right-12 ait-p-1.5 ait-text-neutral-400 hover:ait-text-green-500 ait-transition-colors ait-rounded-lg hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 ait-z-10",{"ait-loading-spinner":((u=t.selected_agent)==null?void 0:u._listkey)&&t.Helpers.notUndefined(t.ai_workflow,`${t.selected_agent._listkey}.loading`)==!0}]),disabled:((c=t.selected_agent)==null?void 0:c._listkey)&&t.Helpers.notUndefined(t.ai_workflow,`${t.selected_agent._listkey}.loading`)==!0,onClick:e[0]||(e[0]=J(v=>t.$emit("run",t.step.id),["stop"])),title:t.__("Run step")},[(o(),r("svg",{class:$(["ait-w-5 ait-h-5",{"ait-w-3 ait-h-3":t.size==="small"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[3]||(e[3]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"},null,-1),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]),2))],10,UP),t.showDelete?(o(),r("button",{key:0,class:"ait-absolute ait-top-2 ait-right-2 ait-p-1.5 ait-text-neutral-400 hover:ait-text-red-500 ait-transition-colors ait-rounded-lg hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 ait-z-10",onClick:e[1]||(e[1]=J(v=>t.$emit("delete",t.step.id),["stop"])),title:t.__("Delete step")},[(o(),r("svg",{class:$(["ait-w-5 ait-h-5",{"ait-w-3 ait-h-3":t.size==="small"}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[4]||(e[4]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"},null,-1)]),2))],8,EP)):_("",!0),i("div",{class:$(["ait-flex ait-items-center ait-gap-3",{"ait-p-4":t.size==="normal","ait-p-3":t.size==="small"}])},[i("div",{class:$(["ait-rounded-lg ait-flex ait-items-center ait-justify-center ait-flex-shrink-0 ait-shadow-sm ait-bg-neutral-100 dark:ait-bg-neutral-700 ait-p-2",{"ait-w-12 ait-h-12":t.size==="normal","ait-w-10 ait-h-10":t.size==="small"}])},[i("img",{src:t.step.icon,alt:t.step.title,class:"ait-w-full ait-h-full ait-object-contain"},null,8,jP)],2),i("div",RP,[i("h3",{class:$(["ait-font-semibold ait-text-neutral-900 dark:ait-text-white ait-mb-0.5",{"ait-text-base":t.size==="normal","ait-text-sm":t.size==="small"}])},d(t.step.title),3),t.step.short_description?(o(),r("p",{key:0,class:$(["ait-text-xs ait-text-neutral-500 dark:ait-text-neutral-400",{"ait-mb-1":t.size==="normal"}])},d(t.step.short_description),3)):_("",!0)])],2),(p=t.selected_agent)!=null&&p._listkey&&(t.Helpers.notUndefined(t.ai_workflow,`${t.selected_agent._listkey}.steps.${t.step.id}.input`)||t.Helpers.notUndefined(t.ai_workflow,`${t.selected_agent._listkey}.steps.${t.step.id}.output`))?(o(),r("div",BP,[(m=t.selected_agent)!=null&&m._listkey&&t.Helpers.notUndefined(t.ai_workflow,`${t.selected_agent._listkey}.steps.${t.step.id}.input`)?(o(),r("div",DP,[i("div",OP,[e[5]||(e[5]=i("svg",{class:"ait-w-4 ait-h-4 ait-text-orange-600 dark:ait-text-orange-400 ait-flex-shrink-0 ait-mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)),i("div",zP,[i("div",VP,d(t.__("Input")),1),i("div",FP,d(t.Helpers.notUndefined(t.ai_workflow,`${t.selected_agent._listkey}.steps.${t.step.id}.input`)),1)])])])):_("",!0),(h=t.selected_agent)!=null&&h._listkey&&t.Helpers.notUndefined(t.ai_workflow,`${t.selected_agent._listkey}.steps.${t.step.id}.output`)?(o(),r("div",qP,[i("div",NP,[e[6]||(e[6]=i("svg",{class:"ait-w-4 ait-h-4 ait-text-green-600 dark:ait-text-green-400 ait-flex-shrink-0 ait-mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 17l-5-5m0 0l5-5m-5 5h12"})],-1)),i("div",ZP,[i("div",WP,d(t.__("Output")),1),typeof t.Helpers.notUndefined(t.ai_workflow,`${t.selected_agent._listkey}.steps.${t.step.id}.output`)=="object"?(o(),r("div",{key:0,class:"ait-text-xs ait-text-green-600 dark:ait-text-green-400 ait-break-words",innerHTML:t.ResponseBuilder.pretty(t.ResponseBuilder.objectToBlockquotes(t.Helpers.notUndefined(t.ai_workflow,`${t.selected_agent._listkey}.steps.${t.step.id}.output`)))},null,8,GP)):(o(),r("div",{key:1,class:"ait-text-xs ait-text-green-600 dark:ait-text-green-400 ait-break-words",innerHTML:t.ResponseBuilder.pretty(t.Helpers.notUndefined(t.ai_workflow,`${t.selected_agent._listkey}.steps.${t.step.id}.output`))},null,8,KP))])])])):_("",!0)])):_("",!0)],2)):_("",!0)}const Ti=R(IP,[["render",YP]]),QP={key:0,class:"ait-relative"},XP={class:"ait-group ait-bg-white dark:ait-bg-neutral-800 ait-rounded-lg ait-shadow-sm ait-border ait-border-neutral-200 dark:ait-border-neutral-700 ait-overflow-y-auto ait-overflow-x-hidden ait-transition-all hover:ait-shadow-md ait-relative ait-w-full ait-min-w-[350px] ait-max-w-2xl ait-max-h-[600px]"},JP={class:"ait-p-4 ait-space-y-2"},tI={class:"ait-font-semibold ait-text-base ait-text-neutral-900 dark:ait-text-white ait-mb-2"},eI=["placeholder"],iI={class:"ait-mt-3"},aI={key:1,class:"ait-relative ait-max-w-2xl ait-max-h-[600px] ait-overflow-y-auto ait-overflow-x-hidden"},sI={class:"ait-flex ait-items-center ait-gap-2"},oI={class:"ait-text-sm ait-font-medium ait-text-[var(--ait-tab-menu-active-bg-color)]"},nI=["title"],lI=["title"],rI={key:2,class:"ait-relative ait-max-w-2xl ait-max-h-[600px] ait-overflow-y-auto ait-overflow-x-hidden"},dI={key:3,class:"ait-group ait-bg-white dark:ait-bg-neutral-800 ait-rounded-lg ait-shadow-sm ait-border ait-border-neutral-200 dark:ait-border-neutral-700 ait-overflow-y-auto ait-overflow-x-hidden ait-cursor-move ait-transition-all hover:ait-shadow-md ait-relative ait-w-full ait-min-w-[350px] ait-max-w-2xl ait-max-h-[600px]"},cI={class:"ait-p-4"},uI={class:"ait-font-semibold ait-text-base ait-text-neutral-900 dark:ait-text-white"},hI={key:4,class:"ait-absolute ait-bottom-0 ait-left-1/2 ait-transform ait--translate-x-1/2 ait-translate-y-1/8 ait-z-10 add-child-menu-container"},pI=["title"],gI=rt({__name:"DiagramFlowNode",props:{id:{},type:{},selected:{type:Boolean},connectable:{type:[Boolean,Number,String,Function]},position:{},dimensions:{},label:{type:[String,Object,Function]},isValidTargetPos:{type:Function},isValidSourcePos:{type:Function},parent:{},parentNodeId:{},dragging:{type:Boolean},resizing:{type:Boolean},zIndex:{},targetPosition:{},sourcePosition:{},dragHandle:{},data:{},events:{}},setup(t){const e=t,a=G(!1),l=lt(()=>{var et;return e.id==="0"||((et=e.data)==null?void 0:et.isRoot)}),n=lt(()=>{var et;return((et=e.data)==null?void 0:et.isSelected)||e.selected||!1}),s=lt(()=>{var et;return(et=e.data)==null?void 0:et.step}),u=lt(()=>{var et;return((et=e.data)==null?void 0:et.isConditionBranch)||!1}),c=G(!1),p=lt(()=>{var N;if(!s.value||!((N=e.data)!=null&&N.onGetConditionBranches))return!1;const et=e.data.onGetConditionBranches(s.value.id);return et&&et.length>0}),m=lt(()=>{var N;return!s.value||!((N=e.data)!=null&&N.onGetConditionBranches)?!1:e.data.onGetConditionBranches(s.value.id).some(vt=>vt.condition_is_else)}),h=()=>{if(e.data&&e.data.onOpenToolSidebar){const et=e.id==="0"?0:parseInt(e.id);e.data.onOpenToolSidebar({afterStepId:et})}c.value=!1},v=()=>{if(e.data&&e.data.onOpenSkillSidebar){const et=e.id==="0"?0:parseInt(e.id);e.data.onOpenSkillSidebar({afterStepId:et})}c.value=!1},g=()=>{e.data&&e.data.onOpenToolSidebar&&u.value&&s.value&&e.data.onOpenToolSidebar({stepId:e.data.parentStepId,conditionBranchId:s.value.id}),c.value=!1},w=()=>{e.data&&e.data.onOpenSkillSidebar&&u.value&&s.value&&e.data.onOpenSkillSidebar({stepId:e.data.parentStepId,conditionBranchId:s.value.id}),c.value=!1},C=()=>{e.data&&e.data.onAddConditionsToStep&&u.value&&s.value&&e.data.onAddConditionsToStep(s.value.id),c.value=!1},S=()=>{c.value=!c.value},A=()=>{e.data&&e.data.onAddCondition&&s.value&&e.data.onAddCondition(s.value.id),c.value=!1},x=()=>{e.data&&e.data.onAddElse&&s.value&&e.data.onAddElse(s.value.id),c.value=!1},I=()=>{e.data&&e.data.onAddConditionsToStep&&s.value&&e.data.onAddConditionsToStep(s.value.id),c.value=!1},Y=()=>{e.data&&e.data.onSelectConditionItem&&u.value&&s.value&&e.data.onSelectConditionItem(e.data.parentStepId,s.value.id)},ot=()=>{e.data&&e.data.onRemoveConditionItem&&u.value&&s.value&&e.data.onRemoveConditionItem(e.data.parentStepId,s.value.id)},K=et=>{const N=et.target;c.value&&!N.closest(".add-child-menu-container")&&(c.value=!1)};de(()=>{document.addEventListener("click",K)}),fi(()=>{document.removeEventListener("click",K)});const ct=()=>{e.data&&e.data.onSelect&&e.data.onSelect(e.id)},H=()=>{e.data&&e.data.onDelete&&e.data.onDelete(e.id)},z=()=>{e.data&&e.data.onRun&&e.data.onRun(e.id)},mt=G(null),ut=lt({get:()=>{var et;return((et=e.data)==null?void 0:et.personalization)||""},set:et=>{var N;(N=e.data)!=null&&N.onPersonalizationChange&&e.data.onPersonalizationChange(et)}});return(et,N)=>{var vt,$t,kt;return o(),r("div",{class:"custom-flow-node ait-relative",onMouseenter:N[7]||(N[7]=wt=>a.value=!0),onMouseleave:N[8]||(N[8]=wt=>a.value=!1)},[b(ft(ai),{type:"target",position:ft(ii).Top,style:{background:"rgba(var(--ait-main-color), 0.9)",width:"10px",height:"10px",border:"2px solid white",top:"-5px"}},null,8,["position"]),l.value?(o(),r("div",QP,[i("div",XP,[i("div",JP,[i("h3",tI,d(ft(f).__("Input")),1),F(i("textarea",{ref_key:"personalizationTextareaRef",ref:mt,"onUpdate:modelValue":N[0]||(N[0]=wt=>ut.value=wt),onInput:N[1]||(N[1]=wt=>ft(f).autoResizeTextarea(wt)),onFocus:N[2]||(N[2]=wt=>ft(f).autoResizeTextarea(wt)),onClick:N[3]||(N[3]=J(()=>{},["stop"])),onMousedown:N[4]||(N[4]=J(()=>{},["stop"])),placeholder:ft(f).__("Enter your input here..."),rows:"1",class:"ait-w-full ait-px-3 ait-py-2.5 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-transparent ait-transition-all ait-resize-none ait-overflow-hidden",style:{"min-height":"42px"}},null,40,eI),[[tt,ut.value]]),i("div",iI,[b(Ue,{modelValue:ut.value,"onUpdate:modelValue":N[5]||(N[5]=wt=>ut.value=wt),"all-steps":((vt=et.data)==null?void 0:vt.allSteps)||[],"textarea-ref":"personalizationTextareaRef","filter-is-step":!1},null,8,["modelValue","all-steps"])])])])])):s.value&&u.value?(o(),r("div",aI,[i("div",{class:$(["ait-flex ait-flex-col ait-gap-2 ait-px-3 ait-py-2 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-800 ait-border-2 ait-shadow-sm hover:ait-shadow-md ait-transition-all ait-border-[var(--ait-tab-menu-active-bg-color)] ait-cursor-pointer",{"ait-ring-2 ait-ring-[var(--ait-tab-menu-active-bg-color)]":n.value}]),onClick:J(Y,["stop"])},[i("div",sI,[i("span",oI,d(s.value.label||s.value.title),1),s.value.condition_is_else?_("",!0):(o(),r("button",{key:0,class:"ait-p-1 ait-text-neutral-400 ait-transition-colors ait-rounded hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 hover:ait-text-[var(--ait-tab-menu-active-bg-color)]",onClick:J(Y,["stop"]),title:ft(f).__("Edit conditions")},N[9]||(N[9]=[i("svg",{class:"ait-w-3.5 ait-h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)]),8,nI)),i("button",{class:"ait-p-1 ait-text-neutral-400 hover:ait-text-red-500 ait-transition-colors ait-rounded hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700",onClick:J(ot,["stop"]),title:ft(f).__("Remove condition branch")},N[10]||(N[10]=[i("svg",{class:"ait-w-3.5 ait-h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,lI)])],2)])):s.value?(o(),r("div",rI,[b(Ti,{step:s.value,"is-selected":n.value,"is-dragging":!1,"is-drag-over":!1,size:"normal",onClick:ct,onDelete:H,onRun:z},null,8,["step","is-selected"])])):(o(),r("div",dI,[i("div",cI,[i("h3",uI,d((($t=et.data)==null?void 0:$t.label)||((kt=et.data)==null?void 0:kt.nodeType)||"Node"),1)])])),a.value?(o(),r("div",hI,[i("button",{onClick:J(S,["stop"]),class:"ait-w-10 ait-h-10 ait-rounded-full ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white ait-border-3 ait-border-white ait-cursor-pointer ait-font-bold ait-text-xl ait-line-height-1 ait-flex ait-items-center ait-justify-center ait-shadow-lg hover:ait-opacity-90 ait-transition-opacity",style:{boxShadow:"0 2px 8px rgba(var(--ait-main-color), 0.3)"},title:ft(f).__("Add node")}," + ",8,pI),c.value?(o(),r("div",{key:0,onClick:N[6]||(N[6]=J(()=>{},["stop"])),class:"ait-absolute ait-top-full ait-left-1/2 ait-transform ait--translate-x-1/2 ait-bg-white dark:ait-bg-neutral-800 ait-rounded-lg ait-shadow-lg ait-border ait-border-neutral-200 dark:ait-border-neutral-700 ait-py-1 ait-min-w-[180px] ait-z-20"},[u.value?(o(),r(L,{key:0},[i("button",{class:"ait-w-full ait-px-3 ait-py-2 ait-text-left ait-text-sm ait-text-neutral-700 dark:ait-text-neutral-300 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 ait-transition-colors ait-flex ait-items-center ait-gap-2",onClick:g},[N[11]||(N[11]=i("span",{class:"ait-text-sm"},"",-1)),i("span",null,d(ft(f).__("Add Tool")),1)]),i("button",{class:"ait-w-full ait-px-3 ait-py-2 ait-text-left ait-text-sm ait-text-neutral-700 dark:ait-text-neutral-300 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 ait-transition-colors ait-flex ait-items-center ait-gap-2",onClick:w},[N[12]||(N[12]=i("span",{class:"ait-text-sm"},"",-1)),i("span",null,d(ft(f).__("Add Skill")),1)]),i("button",{class:"ait-w-full ait-px-3 ait-py-2 ait-text-left ait-text-sm ait-text-neutral-700 dark:ait-text-neutral-300 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 ait-transition-colors ait-flex ait-items-center ait-gap-2",onClick:C},[N[13]||(N[13]=i("span",{class:"ait-text-sm"},"",-1)),i("span",null,d(ft(f).__("Add Conditions")),1)])],64)):!l.value&&s.value&&p.value?(o(),r(L,{key:1},[i("button",{class:"ait-w-full ait-px-3 ait-py-2 ait-text-left ait-text-sm ait-text-neutral-700 dark:ait-text-neutral-300 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 ait-transition-colors ait-flex ait-items-center ait-gap-2",onClick:A},[N[14]||(N[14]=i("span",{class:"ait-text-sm"},"",-1)),i("span",null,d(ft(f).__("Add Condition")),1)]),m.value?_("",!0):(o(),r("button",{key:0,class:"ait-w-full ait-px-3 ait-py-2 ait-text-left ait-text-sm ait-text-neutral-700 dark:ait-text-neutral-300 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 ait-transition-colors ait-flex ait-items-center ait-gap-2",onClick:x},[N[15]||(N[15]=i("span",{class:"ait-text-sm"},"",-1)),i("span",null,d(ft(f).__("Add Else")),1)]))],64)):(o(),r(L,{key:2},[i("button",{class:"ait-w-full ait-px-3 ait-py-2 ait-text-left ait-text-sm ait-text-neutral-700 dark:ait-text-neutral-300 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 ait-transition-colors ait-flex ait-items-center ait-gap-2",onClick:h},[N[16]||(N[16]=i("span",{class:"ait-text-sm"},"",-1)),i("span",null,d(ft(f).__("Add Tool")),1)]),i("button",{class:"ait-w-full ait-px-3 ait-py-2 ait-text-left ait-text-sm ait-text-neutral-700 dark:ait-text-neutral-300 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 ait-transition-colors ait-flex ait-items-center ait-gap-2",onClick:v},[N[17]||(N[17]=i("span",{class:"ait-text-sm"},"",-1)),i("span",null,d(ft(f).__("Add Skill")),1)]),!l.value&&s.value?(o(),r("button",{key:0,class:"ait-w-full ait-px-3 ait-py-2 ait-text-left ait-text-sm ait-text-neutral-700 dark:ait-text-neutral-300 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 ait-transition-colors ait-flex ait-items-center ait-gap-2",onClick:I},[N[18]||(N[18]=i("span",{class:"ait-text-sm"},"",-1)),i("span",null,d(ft(f).__("Add Conditions")),1)])):_("",!0)],64))])):_("",!0)])):_("",!0),b(ft(ai),{type:"source",position:ft(ii).Bottom,style:{background:"rgba(var(--ait-main-color), 0.9)",width:"10px",height:"10px",border:"2px solid white",bottom:"-5px"}},null,8,["position"])],32)}}}),Se=R(gI,[["__scopeId","data-v-341044eb"]]),fI=rt({name:"DiagramEditor",components:{DiagramToolSettings:Mi,PlaceholderButtons:Ue,ModelSelector:Li,VueFlow:to,DiagramFlowNode:Se},extends:O,setup(t,e){return nt.setup(t,e)},data(){return{isUploadingImage:!1,inputImageFile:null,showAccessibilityDropdown:!1,touchStartX:0,touchStartY:0,isSwiping:!1,swipeOffset:0,isSwipeActive:!1,isMobile:!1,showAutoGenerate:!1,autoGeneratePrompt:"",isAutoGenerating:!1,tempBaseModelId:null,showCategoryDropdown:!1,showSavedMessage:!1,flowNodes:[],flowEdges:[],showAllContent:!1,nodeCounter:1,fitViewFn:null,savedNodePositions:{},savePositionsTimeout:null,vueFlowKey:0}},computed:{chatSectionComputedWidth(){return this.isMobile?"100%":this.chatSectionWidth+"px"},nodeTypes(){return{custom:ka(Se)}}},mounted(){var a;document.addEventListener("click",this.handleOutsideClick),this.checkIfMobile(),this.isMobile&&(this.showChatSection=!1),window.addEventListener("resize",this.checkIfMobile),(a=this.selected_agent)!=null&&a.base_model_id&&(this.tempBaseModelId=this.selected_agent.base_model_id),this.$nextTick(()=>{const l=this.$refs.personalizationTextarea;l&&this.personalization&&(l.style.height="auto",l.style.height=l.scrollHeight+"px")}),this.$nextTick(async()=>{await this.loadNodePositions(),this.initializeVueFlowNodes()}),this.$watch("ai_workflow",()=>{this.$nextTick(()=>{this.adjustChildNodePositions()})},{deep:!0});let t=[],e="";this.$watch(()=>{var n;const l=((n=this.steps)==null?void 0:n.map(s=>{var u;return{id:(u=s.id)==null?void 0:u.toString(),title:s.title,type:s.type,parent_workflow_id:s.parent_workflow_id}}))||[];return JSON.stringify(l)},l=>{const s=JSON.parse(l).map(p=>p.id).filter(Boolean);s.length!==t.length||s.some((p,m)=>p!==t[m])||l!==e?(t=[...s],e=l,this.$nextTick(async()=>{await this.loadNodePositions(),this.initializeVueFlowNodes()})):(t=[...s],e=l)}),this.$watch(()=>this.selectedStep,l=>{l&&this.flowNodes.forEach(n=>{var s;n.data&&(n.data.isSelected=n.id===((s=l.id)==null?void 0:s.toString()))})})},beforeUnmount(){document.removeEventListener("click",this.handleOutsideClick),window.removeEventListener("resize",this.checkIfMobile)},methods:{async handleRunStep(t){try{await nt.execute("",t)}catch(e){console.error("Error running step:",e),f.notify.error(f.__("Failed to run step"))}},checkIfMobile(){this.isMobile=window.innerWidth<1024},triggerFileSelection(){typeof this.$refs<"u"&&typeof this.$refs.imageFileInput<"u"&&this.$refs.imageFileInput.click()},async handleFile(t){const e=t.target.files[0];await this.processFile(e),t.target.value=null},async processFile(t){if(this.inputImageFile=t,!t||!t.type.match("image.*")){this.errorMessage=this.__("Please upload a valid image file.");return}this.errorMessage="";const e=this.createPreviewImageURL(t);this.flowIcon=e,this.uploadImageFile(t)},createPreviewImageURL(t){return URL.createObjectURL(t)},uploadImageFile(t){var e;this.ai_wait=this.isUploadingImage=!0,this.Uploader.upload(t,41943040,["image/jpeg","image/jpg","image/png","image/svg+xml"],a=>{var s;this.files||(this.files={});let l=f.SHA1(t.name+t.size).toString(),n=this.files[l];f.notUndefined(n,"url")&&(this.flowIcon=f.notUndefined(n,"url"),nt.saveToStorage(this.steps,{title:this.flowTitle,category_id:this.flowCategory,icon:this.flowIcon,share_type:this.flowShareType,base_model_id:((s=this.selected_agent)==null?void 0:s.base_model_id)||null}),this.hasUnsavedChanges=!0,console.log(f.notUndefined(n,"url"))),this.files[l]=n,document.querySelector("#imageFileInput")!=null&&(document.querySelector("#imageFileInput").value=null),this.inputImageFile=null,this.ai_wait=this.isUploadingImage=!1},{type:"agent_icon",key:((e=this.selected_agent)==null?void 0:e._listkey)||"temp_agent"}),setTimeout(()=>{this.inputImageFile=null,this.ai_wait=this.isUploadingImage=!1},3e4)},handleOutsideClick(t){if(this.showAccessibilityDropdown){const e=document.querySelector(".accessibility-dropdown-container");e&&!e.contains(t.target)&&(this.showAccessibilityDropdown=!1)}if(this.showCategoryDropdown){const e=t.target.closest(".ait-relative");(!e||!e.querySelector('[v-if="showCategoryDropdown"]'))&&(this.showCategoryDropdown=!1)}},handleTouchStart(t){const e=window.innerWidth;(t.touches[0].clientX>e-50||this.showChatSection)&&(this.touchStartX=t.touches[0].clientX,this.touchStartY=t.touches[0].clientY,this.isSwiping=!1,this.isSwipeActive=!0)},handleTouchMove(t){if(!this.isSwipeActive||!this.touchStartX)return;const e=t.touches[0].clientX,a=t.touches[0].clientY,l=e-this.touchStartX,n=a-this.touchStartY;if(Math.abs(l)>Math.abs(n)&&Math.abs(l)>10){this.isSwiping=!0,t.preventDefault();const u=window.innerWidth*.8;this.showChatSection?l>0&&(this.swipeOffset=Math.min(l,u)):l<0&&(this.swipeOffset=Math.max(l,-u))}},handleTouchEnd(t){if(!this.isSwipeActive)return;const a=window.innerWidth*.3;this.isSwiping&&(this.showChatSection?this.swipeOffset>a&&(this.showChatSection=!1):Math.abs(this.swipeOffset)>a&&(this.showChatSection=!0)),this.touchStartX=0,this.touchStartY=0,this.isSwiping=!1,this.isSwipeActive=!1,this.swipeOffset=0},getSwipeTransform(){if(window.innerWidth>=768)return"none";if(this.isSwiping&&this.swipeOffset!==0)if(this.showChatSection){const t=window.innerWidth;return`translateX(${this.swipeOffset/t*100}%)`}else{const t=window.innerWidth;return`translateX(${100-Math.abs(this.swipeOffset)/t*100}%)`}else return!this.showChatSection&&this.isSwipeActive?"translateX(100%)":this.showChatSection?"translateX(0)":"translateX(100%)"},toggleAutoGenerate(){this.showAutoGenerate=!this.showAutoGenerate,this.showAutoGenerate&&(this.autoGeneratePrompt="")},async handleAutoGenerate(){var e,a,l;if(!(this.isAutoGenerating||!confirm(this.__("This will replace your current workflow with a new one. All existing steps will be deleted. Do you want to continue?")))){this.isAutoGenerating=!0,document.body.classList.add("ait-page-loading");try{console.log("Auto Generate Prompt:",this.autoGeneratePrompt),f.notify.info(this.__("Generating workflow..."));const n=this.tempBaseModelId||((e=this.selected_agent)==null?void 0:e.base_model_id)||null;if(!this.selected_agent||!this.selected_agent._listkey){this.flowTitle=this.flowTitle||f.__("New Workflow"),this.flowIcon=this.flowIcon||null,this.flowShareType=this.flowShareType||"Private",this.personalization=this.personalization||"",!this.flowCategory&&this.categories.length>0&&(this.flowCategory=this.categories[0]._listkey),await nt.saveToStorage(this.steps,{title:this.flowTitle,category_id:this.flowCategory,icon:this.flowIcon,share_type:this.flowShareType,personalization:this.personalization,base_model_id:n,_listkey:null}),await this.handlePublish(),await new Promise(u=>setTimeout(u,500));const s=await f.Browser().storage.local.get(["selected_agent"]);s.selected_agent&&(this.selected_agent=s.selected_agent)}else await nt.saveToStorage(this.steps,{title:this.flowTitle,category_id:this.flowCategory,base_model_id:n}),await this.handlePublish();await nt.execute(this.autoGeneratePrompt,null,{model:n,mode:"ai_workflow_stream",extra_key:(a=this.selected_agent)==null?void 0:a._listkey,auto_generate:!0}),this.selected_agent=await nt.loadFromStorage(),await this.loadNodePositions(),await this.handlePublish(),(l=this.selected_agent)!=null&&l._listkey&&await this.loadAgentData(this.selected_agent._listkey),f.notify.success(this.__("Workflow generated successfully"))}catch(n){console.error("Error generating workflow:",n),f.notify.error(this.__("Failed to generate workflow"))}finally{this.isAutoGenerating=!1,document.body.classList.remove("ait-page-loading")}}},onPaneReady({fitView:t}){this.fitViewFn=t},updateEdgeAnimation(t){this.flowEdges=this.flowEdges.map(e=>({...e,animated:t}))},async onNodesChange(t){let e=!1;for(const a of t)if(a.type==="position"&&a.position){const l=a.id;if(l==="0")continue;const n=a.position,s=this.savedNodePositions[l];(!s||s.x!==n.x||s.y!==n.y)&&(this.savedNodePositions[l]={...n},e=!0)}e&&(this.hasUnsavedChanges=!0,this.savePositionsTimeout&&clearTimeout(this.savePositionsTimeout),this.savePositionsTimeout=setTimeout(()=>{this.saveNodePositions()},500))},async onEdgesChange(t){t.some(a=>a.type==="add"||a.type==="remove")&&(this.hasUnsavedChanges=!0,this.savePositionsTimeout&&clearTimeout(this.savePositionsTimeout),this.savePositionsTimeout=setTimeout(()=>{this.saveRoutes()},500))},async saveRoutes(){try{const t=await f.Browser().storage.local.get("selected_agent");let e=(t==null?void 0:t.selected_agent)||{};e.workflow||(e.workflow={});const a=this.flowEdges.map(l=>({id:l.id,source:parseInt(l.source),target:parseInt(l.target)}));e.workflow.routes=a,await f.Browser().storage.local.set({selected_agent:e})}catch(t){console.error("Error",t)}},adjustChildNodePositions(){const t=new Map;this.routes&&this.routes.length>0&&this.routes.forEach(a=>{const l=a.source.toString(),n=a.target.toString();t.has(n)||t.set(n,[]),t.get(n).push(l)});const e=[];this.flowNodes.forEach(a=>{if(a.id==="0")return;const l=t.get(a.id)||[];if(l.length===0)return;const n=l[0],s=this.flowNodes.find(c=>c.id===n);if(!s)return;const u=document.querySelector(`[data-id="${n}"]`);if(u){const c=u.offsetHeight,p=s.position.y+c+50;Math.abs(a.position.y-p)>10&&e.push({nodeId:a.id,newY:p})}}),e.length>0&&(e.forEach(a=>{const l=this.flowNodes.find(n=>n.id===a.nodeId);if(l){l.position.y=a.newY;const n=parseInt(a.nodeId),s=this.steps.find(u=>u.id===n);s&&(s.position.y=a.newY)}}),nt.saveToStorage(this.steps,{routes:this.routes}),this.hasUnsavedChanges=!0)},async saveNodePositions(){try{this.steps&&Array.isArray(this.steps)&&this.steps.forEach(a=>{if(a.id){const l=a.id.toString();this.savedNodePositions[l]&&(a.position=this.savedNodePositions[l])}});const t=await f.Browser().storage.local.get("selected_agent");let e=(t==null?void 0:t.selected_agent)||{};e.workflow||(e.workflow={}),e.workflow.steps=this.steps,await f.Browser().storage.local.set({selected_agent:e})}catch(t){console.error("Error saving node positions:",t)}},async loadNodePositions(){try{this.savedNodePositions={},this.steps&&Array.isArray(this.steps)&&this.steps.forEach(t=>{if(t.id&&t.position){const e=t.id.toString();let a=t.position;if(typeof a=="string")try{a=JSON.parse(a)}catch(l){console.error(`Failed to parse position for step ${e}:`,l),a={x:0,y:0}}a&&typeof a=="object"&&(this.savedNodePositions[e]={x:Number(a.x)||0,y:Number(a.y)||0})}})}catch(t){console.error("Error loading node positions:",t),this.savedNodePositions={}}},handlePersonalizationChange(t){this.personalization=t,this.hasUnsavedChanges=!0,this.$nextTick(()=>{const e=this.flowNodes.find(a=>a.id==="0");e&&e.data&&(e.data.personalization=t)})},handleFlowNodeSelect(t){this.flowNodes.forEach(a=>{a.data&&(a.data.isSelected=!1)});const e=this.flowNodes.find(a=>a.id===t);if(e&&e.data&&(e.data.isSelected=!0,t!=="0")){const a=this.steps.find(l=>l.id.toString()===t);a&&this.selectStep(a)}},handleFlowNodeDelete(t){const e=parseInt(t);isNaN(e)||this.deleteStep(e)},handleFlowNodeRun(t){const e=parseInt(t);isNaN(e)||this.handleRunStep(e)},async handlePublishClick(){await this.saveRoutes(),await this.handlePublish()},async initializeVueFlowNodes(){var u,c;const t=[];let e=[];this.nodeCounter=1;const a={id:"0",type:"custom",label:"",position:{x:0,y:0},draggable:!1,data:{isRoot:!0,personalization:this.personalization||"",onPersonalizationChange:this.handlePersonalizationChange,onOpenToolSidebar:this.openToolSidebar,onOpenSkillSidebar:this.openSkillSidebar,nodeType:"Input",showContent:this.showAllContent,onSelect:this.handleFlowNodeSelect,isSelected:!1,allSteps:this.steps||[],personalizationTextareaRef:null}};t.push(a),this.steps&&Array.isArray(this.steps)&&this.steps.forEach((p,m)=>{var w;const h=((w=p.id)==null?void 0:w.toString())||(this.nodeCounter++).toString(),v=this.savedNodePositions[h]||p.position||{x:m%3*250,y:Math.floor(m/3)*200+150},g={id:h,type:"custom",label:p.title||p.label||"Step",position:{x:v.x,y:v.y},data:{step:p,onOpenToolSidebar:this.openToolSidebar,onOpenSkillSidebar:this.openSkillSidebar,nodeType:p.type||"step",showContent:this.showAllContent,onSelect:this.handleFlowNodeSelect,onDelete:this.handleFlowNodeDelete,onRun:this.handleFlowNodeRun,isSelected:!1,isConditionBranch:p.type==="condition",parentStepId:p.parent_workflow_id,onAddCondition:this.addConditionItem,onAddElse:this.addElseConditionItem,onGetConditionBranches:this.getConditionBranches,onSelectConditionItem:this.selectConditionItem,onRemoveConditionItem:this.removeConditionItem,onAddConditionsToStep:this.addConditionsToStep}};t.push(g)});const l=await f.Browser().storage.local.get("selected_agent"),n=l==null?void 0:l.selected_agent,s=new Set(t.map(p=>p.id));(u=n==null?void 0:n.workflow)!=null&&u.routes&&Array.isArray(n.workflow.routes)&&n.workflow.routes.length>0?e=n.workflow.routes.map(p=>({...p,source:p.source.toString(),target:p.target.toString()})).filter(p=>s.has(p.source)&&s.has(p.target)).map(p=>({id:p.id,source:p.source,target:p.target,animated:this.isExecutingWorkflow})):this.steps&&Array.isArray(this.steps)&&this.steps.forEach(p=>{var v;const m=(v=p.id)==null?void 0:v.toString(),h=p.parent_workflow_id!==null&&p.parent_workflow_id!==void 0?p.parent_workflow_id.toString():null;if(h&&m){if(s.has(h)&&s.has(m)){const g=`e-${h}-${m}`;e.some(C=>C.id===g||C.source===h&&C.target===m)||e.push({id:g,source:h,target:m,animated:this.isExecutingWorkflow})}}else if(!h&&m&&s.has(m)){const g=`e-0-${m}`;e.some(C=>C.id===g||C.source==="0"&&C.target===m)||e.push({id:g,source:"0",target:m,animated:this.isExecutingWorkflow})}}),this.flowNodes=t,this.flowEdges=e,this.vueFlowKey++,e.length>0&&(!((c=n==null?void 0:n.workflow)!=null&&c.routes)||n.workflow.routes.length===0)&&this.saveRoutes(),xa(()=>{setTimeout(()=>{this.fitViewFn&&this.fitViewFn({padding:.2,duration:0})},150)})}}}),mI={class:"ait-diagram-header ait-bg-white dark:ait-bg-neutral-800 ait-border-b ait-border-neutral-200 dark:ait-border-neutral-700 ait-px-3 sm:ait-px-6 ait-py-2 ait-flex ait-flex-wrap ait-items-center ait-justify-between ait-shadow-sm ait-flex-shrink-0 ait-gap-2 ait-max-h-[120px]"},_I={class:"ait-flex ait-items-center ait-gap-2 sm:ait-gap-3 ait-flex-wrap"},vI={class:"ait-relative ait-flex-shrink-0"},bI=["title"],wI=["disabled"],yI=["title"],xI={key:1,class:"ait-absolute ait-inset-0 ait-flex ait-items-center ait-justify-center ait-bg-black ait-bg-opacity-30 ait-rounded-full"},kI={class:"ait-relative"},CI={class:"ait-text-sm ait-font-medium"},$I={key:0,class:"ait-absolute ait-z-[9999] ait-mt-2 ait-min-w-[200px] ait-max-h-[300px] ait-overflow-y-auto ait-bg-white dark:ait-bg-neutral-800 ait-rounded-xl ait-shadow-lg ait-border ait-border-neutral-200 dark:ait-border-neutral-700 ait-overflow-hidden",style:{"transform-origin":"top"}},LI=["onClick"],SI={class:"ait-flex ait-gap-3 ait-items-center ait-w-full"},MI=["placeholder"],TI={class:"ait-flex ait-items-center ait-gap-2"},HI={key:0,class:"ait-inline-flex ait-items-center ait-gap-1.5 ait-px-3 ait-py-1.5 ait-text-xs ait-font-medium ait-text-green-700 dark:ait-text-green-400 ait-bg-green-50 dark:ait-bg-green-900/30 ait-border ait-border-green-200 dark:ait-border-green-800 ait-rounded-lg ait-whitespace-nowrap"},AI=["title"],PI={class:"ait-flex ait-items-center ait-gap-2 sm:ait-gap-3 ait-flex-wrap"},II={class:"ait-flex ait-gap-2"},UI={class:"ait-flex ait-items-center ait-gap-1.5 ait-rounded-md ait-px-2 sm:ait-px-2.5 ait-py-1 ait-cursor-pointer ait-transition-colors"},EI={class:"ait-relative accessibility-dropdown-container"},jI={class:"ait-flex ait-items-center ait-gap-2"},RI={class:"ait-text-sm ait-font-medium"},BI={key:0,class:"ait-absolute ait-z-[9999] ait-mt-2 ait-min-w-[140px] ait-bg-white dark:ait-bg-neutral-800 ait-rounded-xl ait-shadow-lg ait-border ait-border-neutral-200 dark:ait-border-neutral-700 ait-overflow-hidden",style:{"transform-origin":"top"}},DI={class:"ait-flex ait-gap-3 ait-items-center ait-w-full"},OI={class:"ait-flex ait-gap-3 ait-items-center ait-w-full"},zI={class:"ait-flex ait-gap-3 ait-items-center ait-w-full"},VI={class:"ait-flex ait-items-center ait-gap-1 sm:ait-gap-2 ait-flex-wrap"},FI=["title"],qI={class:"ait-py-5 ait-px-3 ait-border-b ait-border-neutral-200 dark:ait-border-neutral-700 ait-flex ait-items-center ait-justify-between ait-flex-shrink-0"},NI={key:0,class:"ait-flex ait-items-center ait-gap-3"},ZI={class:"ait-w-10 ait-h-10 ait-rounded-lg ait-flex ait-items-center ait-justify-center ait-shadow-sm ait-bg-neutral-100 dark:ait-bg-neutral-700 ait-p-2"},WI=["src","alt"],GI={class:"ait-font-semibold ait-text-sm ait-text-neutral-900 dark:ait-text-white ait-leading-tight"},KI={key:0,class:"ait-text-xs ait-text-neutral-500 dark:ait-text-neutral-400 ait-mt-0.5"},YI={key:1,class:"ait-font-semibold ait-text-sm ait-text-neutral-900 dark:ait-text-white"},QI={class:"ait-flex-1 ait-overflow-y-auto ait-p-5 ait-space-y-5"},XI={key:0},JI={class:"ait-space-y-4"},tU={class:"ait-space-y-2"},eU={class:"ait-text-xs ait-font-semibold ait-text-neutral-700 dark:ait-text-neutral-300"},iU=["value","placeholder"],aU={key:0,class:"ait-space-y-2"},sU={class:"ait-text-xs ait-font-semibold ait-text-neutral-700 dark:ait-text-neutral-300"},oU=["value","placeholder"],nU={class:"ait-mt-3"},lU={key:1},rU={class:"ait-space-y-4"},dU={class:"ait-space-y-2"},cU={class:"ait-text-xs ait-font-semibold ait-text-neutral-700 dark:ait-text-neutral-300"},uU=["value","placeholder"],hU={class:"ait-space-y-2"},pU={class:"ait-text-xs ait-font-semibold ait-text-neutral-700 dark:ait-text-neutral-300"},gU=["value","placeholder"],fU={class:"ait-space-y-2"},mU={class:"ait-text-xs ait-font-semibold ait-text-neutral-700 dark:ait-text-neutral-300"},_U=["value","placeholder"],vU={class:"ait-mt-3"},bU={class:"ait-text-xs ait-text-neutral-500 dark:ait-text-neutral-400"},wU={class:"ait-flex-1 ait-overflow-x-auto ait-overflow-y-auto ait-absolute ait-w-full lg:ait-relative lg:ait-w-auto ait-bg-neutral-50 dark:ait-bg-neutral-900 ait-max-w-full ait-order-2 ait-max-h-[90dvh]",style:{"min-height":"500px"}},yU={class:"ait-h-full ait-w-full ait-relative",style:{"min-height":"500px"}},xU={class:"ait-fixed ait-top-20 ait-left-1/2 ait-transform ait--translate-x-1/2 ait-z-[1000]"},kU=["disabled","title"],CU={class:"ait-opacity-0 ait-absolute"},$U={key:0,class:"ait-ml-1"},LU={class:"ait-py-5 ait-px-3 ait-border-b ait-border-neutral-200 dark:ait-border-neutral-700 ait-flex ait-items-center ait-justify-between ait-flex-shrink-0"},SU={key:0,class:"ait-flex ait-items-center ait-gap-3"},MU={class:"ait-w-10 ait-h-10 ait-rounded-lg ait-flex ait-items-center ait-justify-center ait-shadow-sm ait-bg-neutral-100 dark:ait-bg-neutral-700 ait-p-2"},TU=["src","alt"],HU={class:"ait-font-semibold ait-text-sm ait-text-neutral-900 dark:ait-text-white ait-leading-tight"},AU={key:0,class:"ait-text-xs ait-text-neutral-500 dark:ait-text-neutral-400 ait-mt-0.5"},PU={key:1,class:"ait-font-semibold ait-text-sm ait-text-neutral-900 dark:ait-text-white"},IU={class:"ait-flex-1 ait-overflow-y-auto ait-p-5 ait-space-y-5"},UU={key:0},EU={class:"ait-space-y-4"},jU={class:"ait-space-y-2"},RU={class:"ait-text-xs ait-font-semibold ait-text-neutral-700 dark:ait-text-neutral-300"},BU=["value","placeholder"],DU={key:0,class:"ait-space-y-2"},OU={class:"ait-text-xs ait-font-semibold ait-text-neutral-700 dark:ait-text-neutral-300"},zU=["value","placeholder"],VU={class:"ait-mt-3"},FU={key:1},qU={class:"ait-space-y-4"},NU={class:"ait-space-y-2"},ZU={class:"ait-text-xs ait-font-semibold ait-text-neutral-700 dark:ait-text-neutral-300"},WU=["value","placeholder"],GU={class:"ait-space-y-2"},KU={class:"ait-text-xs ait-font-semibold ait-text-neutral-700 dark:ait-text-neutral-300"},YU=["value","placeholder"],QU={class:"ait-space-y-2"},XU={class:"ait-text-xs ait-font-semibold ait-text-neutral-700 dark:ait-text-neutral-300"},JU=["value","placeholder"],tE={class:"ait-mt-3"},eE={class:"ait-text-xs ait-text-neutral-500 dark:ait-text-neutral-400"},iE={key:2,class:"ait-flex-shrink-0 ait-bg-white dark:ait-bg-neutral-800 ait-border-l ait-border-neutral-200 dark:ait-border-neutral-700 ait-flex ait-flex-col ait-shadow-lg ait-w-full sm:ait-w-96 ait-max-w-full"},aE={class:"ait-py-5 ait-px-3 ait-border-b ait-border-neutral-200 dark:ait-border-neutral-700 ait-flex ait-items-center ait-justify-between ait-flex-shrink-0"},sE={class:"ait-font-semibold ait-text-lg ait-text-neutral-900 dark:ait-text-white"},oE={class:"ait-text-xs ait-text-neutral-500 dark:ait-text-neutral-400 ait-mt-1"},nE={class:"ait-p-4 ait-border-b ait-border-neutral-200 dark:ait-border-neutral-700 ait-flex-shrink-0"},lE={class:"ait-relative"},rE=["placeholder"],dE={key:0,class:"ait-space-y-2"},cE={class:"ait-space-y-2"},uE=["onClick"],hE={class:"ait-flex ait-items-start ait-gap-3"},pE={class:"ait-w-12 ait-h-12 ait-rounded-lg ait-flex ait-items-center ait-justify-center ait-flex-shrink-0 ait-bg-neutral-100 dark:ait-bg-neutral-600 ait-p-2 group-hover:ait-bg-[var(--ait-tab-menu-active-bg-color)]/10"},gE=["src","alt"],fE={class:"ait-flex-1 ait-min-w-0"},mE={class:"ait-flex ait-items-center ait-gap-2 ait-mb-1"},_E={class:"ait-font-semibold ait-text-sm ait-text-neutral-900 dark:ait-text-white group-hover:ait-text-[var(--ait-tab-menu-active-bg-color)]"},vE={class:"ait-text-xs ait-text-neutral-600 dark:ait-text-neutral-300 ait-mb-2 ait-line-clamp-2"},bE={class:"ait-flex ait-items-center ait-gap-2"},wE={class:"ait-inline-block ait-px-2 ait-py-0.5 ait-text-xs ait-rounded ait-bg-neutral-100 dark:ait-bg-neutral-600 ait-text-neutral-700 dark:ait-text-neutral-300"},yE={key:0,class:"ait-text-center ait-py-4"},xE={key:1,class:"ait-text-center ait-py-12"},kE={class:"ait-text-neutral-500 dark:ait-text-neutral-400 ait-text-sm"},CE={key:0},$E={key:3,class:"ait-flex-shrink-0 ait-bg-white dark:ait-bg-neutral-800 ait-border-l ait-border-neutral-200 dark:ait-border-neutral-700 ait-flex ait-flex-col ait-shadow-lg ait-w-full sm:ait-w-96 ait-max-w-full"},LE={class:"ait-py-5 ait-px-3 ait-border-b ait-border-neutral-200 dark:ait-border-neutral-700 ait-flex ait-items-center ait-justify-between ait-flex-shrink-0"},SE={class:"ait-font-semibold ait-text-lg ait-text-neutral-900 dark:ait-text-white"},ME={class:"ait-text-xs ait-text-neutral-500 dark:ait-text-neutral-400 ait-mt-1"},TE={class:"ait-p-4 ait-border-b ait-border-neutral-200 dark:ait-border-neutral-700 ait-flex-shrink-0"},HE={class:"ait-relative"},AE=["placeholder"],PE={key:0,class:"ait-space-y-2"},IE={class:"ait-space-y-2"},UE=["onClick"],EE={class:"ait-flex ait-items-start ait-gap-3"},jE=["src","alt"],RE={key:1,class:"ait-text-3xl"},BE={class:"ait-flex-1 ait-min-w-0"},DE={class:"ait-flex ait-items-center ait-gap-2 ait-mb-1"},OE={class:"ait-font-semibold ait-text-sm ait-text-neutral-900 dark:ait-text-white group-hover:ait-text-[var(--ait-tab-menu-active-bg-color)]"},zE={class:"ait-text-xs ait-text-neutral-600 dark:ait-text-neutral-300 ait-mb-2 ait-line-clamp-2"},VE={key:0,class:"ait-flex ait-items-center ait-gap-2 ait-flex-wrap"},FE={key:0,class:"ait-text-center ait-py-4"},qE={key:1,class:"ait-text-center ait-py-12"},NE={class:"ait-text-neutral-500 dark:ait-text-neutral-400 ait-text-sm"},ZE={key:0},WE={class:"ait-flex-1 ait-overflow-hidden"};function GE(t,e,a,l,n,s){var C,S,A,x,I,Y,ot,K,ct;const u=y("AgentLogo"),c=y("font-awesome-icon"),p=y("ModelSelector"),m=y("PlaceholderButtons"),h=y("DiagramToolSettings"),v=y("VueFlow"),g=y("FullScreenChatSectionForAgents"),w=y("HistorySideBar");return o(),r("div",{class:$(["ait-h-screen ait-bg-neutral-50 dark:ait-bg-neutral-900 ait-font-sans ait-flex ait-flex-col ait-overflow-hidden ait-max-w-full",{"ait-page-loading":t.isLoading}])},[i("div",mI,[i("div",_I,[i("div",vI,[i("div",{class:"ait-w-12 ait-h-12 ait-rounded-full ait-border-2 ait-border-[var(--ait-tab-menu-active-bg-color)] ait-flex ait-items-center ait-justify-center ait-cursor-pointer hover:ait-opacity-80 ait-transition-opacity ait-overflow-hidden",title:t.__("Upload icon"),onClick:e[1]||(e[1]=(...H)=>t.triggerFileSelection&&t.triggerFileSelection(...H))},[t.flowIcon?(o(),E(u,{key:0,agent:{icon:t.flowIcon},class:"ait-w-full ait-h-full ait-object-cover ait-rounded-full"},null,8,["agent"])):_("",!0),i("input",{type:"file",ref:"imageFileInput",id:"imageFileInput",onChange:e[0]||(e[0]=(...H)=>t.handleFile&&t.handleFile(...H)),disabled:t.isUploadingImage,style:{display:"none"},accept:"image/jpeg,image/png,image/svg+xml"},null,40,wI)],8,bI),t.isUploadingImage?_("",!0):(o(),r("button",{key:0,class:"ait-absolute ait-bottom-0 ait-right-0 ait-bg-[var(--ait-link-color)] ait-rounded-full ait-w-5 ait-h-5 ait-flex ait-items-center ait-justify-center hover:ait-opacity-90 ait-transition-opacity",title:t.__("Upload icon"),onClick:e[2]||(e[2]=(...H)=>t.triggerFileSelection&&t.triggerFileSelection(...H))},e[41]||(e[41]=[i("svg",{class:"ait-w-3 ait-h-3 ait-text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)]),8,yI)),t.isUploadingImage?(o(),r("div",xI,e[42]||(e[42]=[i("svg",{class:"ait-animate-spin ait-h-5 ait-w-5 ait-text-white",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"ait-opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"ait-opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):_("",!0)]),i("div",kI,[i("div",{onClick:e[3]||(e[3]=J(H=>t.showCategoryDropdown=!t.showCategoryDropdown,["stop"])),class:"ait-px-3 ait-py-2 ait-text-sm ait-border ait-border-neutral-200 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-800 ait-text-neutral-700 dark:ait-text-neutral-200 ait-flex ait-items-center ait-justify-between ait-cursor-pointer hover:ait-border-[rgba(var(--ait-main-color),0.5)] hover:ait-shadow-sm ait-transition-all ait-duration-200 ait-min-w-[140px]"},[i("span",CI,d((C=t.categories.find(H=>H._listkey===t.flowCategory))!=null&&C.title?t.__(t.categories.find(H=>H._listkey===t.flowCategory).title):t.__("Select Category")),1),b(c,{icon:"fa-solid fa-chevron-down",class:$(["ait-w-3 ait-h-3 ait-ml-2 ait-transition-transform ait-duration-200",{"ait-rotate-180":t.showCategoryDropdown}])},null,8,["class"])]),b(_t,{"enter-active-class":"ait-transition ait-ease-out ait-duration-200","enter-from-class":"ait-opacity-0 ait-scale-95","enter-to-class":"ait-opacity-100 ait-scale-100","leave-active-class":"ait-transition ait-ease-in ait-duration-150","leave-from-class":"ait-opacity-100 ait-scale-100","leave-to-class":"ait-opacity-0 ait-scale-95"},{default:D(()=>[t.showCategoryDropdown?(o(),r("ul",$I,[(o(!0),r(L,null,B(t.categories,H=>(o(),r("li",{key:H._listkey,onClick:z=>{t.flowCategory=H._listkey,t.showCategoryDropdown=!1},class:$(["ait-flex ait-px-4 ait-py-3 hover:ait-bg-neutral-50 dark:hover:ait-bg-neutral-700 ait-cursor-pointer ait-transition-colors ait-duration-150",{"ait-bg-[rgba(var(--ait-main-color),0.1)] dark:ait-bg-[rgba(var(--ait-main-color),0.2)]":t.flowCategory===H._listkey}])},[i("div",SI,[i("span",{class:"ait-text-sm ait-font-medium",style:Q({color:t.flowCategory===H._listkey?"rgba(var(--ait-main-color), 1)":""})},d(t.__(H.title)),5),t.flowCategory===H._listkey?(o(),E(c,{key:0,icon:"fa-solid fa-check",class:"ait-w-4 ait-h-4 ait-ml-auto",style:{color:"rgba(var(--ait-main-color), 1)"}})):_("",!0)])],10,LI))),128))])):_("",!0)]),_:1})]),e[44]||(e[44]=i("span",{class:"ait-text-neutral-400 dark:ait-text-neutral-500"},"/",-1)),F(i("input",{"onUpdate:modelValue":e[4]||(e[4]=H=>t.flowTitle=H),placeholder:t.__("Workflow Title"),class:"ait-px-3 ait-py-2 ait-text-sm ait-border ait-border-neutral-200 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-800 ait-text-neutral-700 dark:ait-text-neutral-200 placeholder:ait-text-neutral-400 dark:placeholder:ait-text-neutral-500 focus:ait-outline-none focus:ait-border-[rgba(var(--ait-main-color),0.5)] focus:ait-shadow-sm ait-transition-all ait-duration-200 ait-min-w-0 ait-w-48"},null,8,MI),[[tt,t.flowTitle]]),i("div",TI,[b(_t,{"enter-active-class":"ait-transition ait-ease-out ait-duration-200","enter-from-class":"ait-opacity-0 ait-scale-95","enter-to-class":"ait-opacity-100 ait-scale-100","leave-active-class":"ait-transition ait-ease-in ait-duration-150","leave-from-class":"ait-opacity-100 ait-scale-100","leave-to-class":"ait-opacity-0 ait-scale-95"},{default:D(()=>[t.showSavedMessage?(o(),r("span",HI,[b(c,{icon:"fa-solid fa-check",class:"ait-w-3.5 ait-h-3.5"}),U(" "+d(t.__("Saved")),1)])):_("",!0)]),_:1}),b(_t,{"enter-active-class":"ait-transition ait-ease-out ait-duration-200","enter-from-class":"ait-opacity-0 ait-scale-95","enter-to-class":"ait-opacity-100 ait-scale-100","leave-active-class":"ait-transition ait-ease-in ait-duration-150","leave-from-class":"ait-opacity-100 ait-scale-100","leave-to-class":"ait-opacity-0 ait-scale-95"},{default:D(()=>[t.hasUnsavedChanges&&!t.showSavedMessage?(o(),r("span",{key:0,class:"ait-inline-flex ait-items-center ait-gap-1.5 ait-px-3 ait-py-1.5 ait-text-xs ait-font-medium ait-text-amber-700 dark:ait-text-amber-400 ait-bg-amber-50 dark:ait-bg-amber-900/30 ait-border ait-border-amber-200 dark:ait-border-amber-800 ait-rounded-lg ait-whitespace-nowrap",title:t.__("You have unsaved changes")},[e[43]||(e[43]=i("span",{class:"ait-w-2 ait-h-2 ait-rounded-full ait-bg-amber-500 ait-animate-pulse"},null,-1)),U(" "+d(t.__("Unsaved")),1)],8,AI)):_("",!0)]),_:1})])]),i("div",PI,[i("div",II,[i("div",UI,[b(p,{modelValue:t.tempBaseModelId,"onUpdate:modelValue":e[5]||(e[5]=H=>t.tempBaseModelId=H),type:"text"},null,8,["modelValue"])])]),i("div",EI,[i("div",{onClick:e[6]||(e[6]=J(H=>t.showAccessibilityDropdown=!t.showAccessibilityDropdown,["stop"])),class:"ait-px-3 ait-py-2 ait-text-sm ait-border ait-border-neutral-200 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-800 ait-text-neutral-700 dark:ait-text-neutral-200 ait-flex ait-items-center ait-justify-between ait-cursor-pointer hover:ait-border-[rgba(var(--ait-main-color),0.5)] hover:ait-shadow-sm ait-transition-all ait-duration-200 ait-min-w-[140px]"},[i("div",jI,[b(c,{icon:t.flowShareType==="Private"?"fa-solid fa-lock":t.flowShareType==="Market Place"?"fa-solid fa-store":"fa-solid fa-globe",class:"ait-w-3.5 ait-h-3.5",style:Q({color:t.flowShareType!=="Private"?"rgba(var(--ait-main-color), 1)":""})},null,8,["icon","style"]),i("span",RI,d(t.__(t.flowShareType)),1)]),b(c,{icon:"fa-solid fa-chevron-down",class:$(["ait-w-3 ait-h-3 ait-transition-transform ait-duration-200",{"ait-rotate-180":t.showAccessibilityDropdown}])},null,8,["class"])]),b(_t,{"enter-active-class":"ait-transition ait-ease-out ait-duration-200","enter-from-class":"ait-opacity-0 ait-scale-95","enter-to-class":"ait-opacity-100 ait-scale-100","leave-active-class":"ait-transition ait-ease-in ait-duration-150","leave-from-class":"ait-opacity-100 ait-scale-100","leave-to-class":"ait-opacity-0 ait-scale-95"},{default:D(()=>[t.showAccessibilityDropdown?(o(),r("ul",BI,[i("li",{onClick:e[7]||(e[7]=H=>{t.flowShareType="Private",t.showAccessibilityDropdown=!1}),class:$(["ait-flex ait-px-4 ait-py-3 hover:ait-bg-neutral-50 dark:hover:ait-bg-neutral-700 ait-cursor-pointer ait-transition-colors ait-duration-150",{"ait-bg-[rgba(var(--ait-main-color),0.1)] dark:ait-bg-[rgba(var(--ait-main-color),0.2)]":t.flowShareType==="Private"}])},[i("div",DI,[b(c,{icon:"fa-solid fa-lock",class:"ait-w-4 ait-h-4",style:Q({color:t.flowShareType==="Private"?"rgba(var(--ait-main-color), 1)":""})},null,8,["style"]),i("span",{class:"ait-text-sm ait-font-medium",style:Q({color:t.flowShareType==="Private"?"rgba(var(--ait-main-color), 1)":""})},d(t.__("Private")),5),t.flowShareType==="Private"?(o(),E(c,{key:0,icon:"fa-solid fa-check",class:"ait-w-4 ait-h-4 ait-ml-auto",style:{color:"rgba(var(--ait-main-color), 1)"}})):_("",!0)])],2),i("li",{onClick:e[8]||(e[8]=H=>{t.flowShareType="Public",t.showAccessibilityDropdown=!1}),class:$(["ait-flex ait-px-4 ait-py-3 hover:ait-bg-neutral-50 dark:hover:ait-bg-neutral-700 ait-cursor-pointer ait-transition-colors ait-duration-150",{"ait-bg-[rgba(var(--ait-main-color),0.1)] dark:ait-bg-[rgba(var(--ait-main-color),0.2)]":t.flowShareType==="Public"}])},[i("div",OI,[b(c,{icon:"fa-solid fa-globe",class:"ait-w-4 ait-h-4",style:Q({color:t.flowShareType==="Public"?"rgba(var(--ait-main-color), 1)":""})},null,8,["style"]),i("span",{class:"ait-text-sm ait-font-medium",style:Q({color:t.flowShareType==="Public"?"rgba(var(--ait-main-color), 1)":""})},d(t.__("Public")),5),t.flowShareType==="Public"?(o(),E(c,{key:0,icon:"fa-solid fa-check",class:"ait-w-4 ait-h-4 ait-ml-auto",style:{color:"rgba(var(--ait-main-color), 1)"}})):_("",!0)])],2),i("li",{onClick:e[9]||(e[9]=H=>{t.flowShareType="Market Place",t.showAccessibilityDropdown=!1}),class:$(["ait-flex ait-px-4 ait-py-3 hover:ait-bg-neutral-50 dark:hover:ait-bg-neutral-700 ait-cursor-pointer ait-transition-colors ait-duration-150",{"ait-bg-[rgba(var(--ait-main-color),0.1)] dark:ait-bg-[rgba(var(--ait-main-color),0.2)]":t.flowShareType==="Market Place"}])},[i("div",zI,[b(c,{icon:"fa-solid fa-store",class:"ait-w-4 ait-h-4",style:Q({color:t.flowShareType==="Market Place"?"rgba(var(--ait-main-color), 1)":""})},null,8,["style"]),i("span",{class:"ait-text-sm ait-font-medium",style:Q({color:t.flowShareType==="Market Place"?"rgba(var(--ait-main-color), 1)":""})},d(t.__("Marketplace")),5),t.flowShareType==="Market Place"?(o(),E(c,{key:0,icon:"fa-solid fa-check",class:"ait-w-4 ait-h-4 ait-ml-auto",style:{color:"rgba(var(--ait-main-color), 1)"}})):_("",!0)])],2)])):_("",!0)]),_:1})])]),i("div",VI,[i("button",{onClick:e[10]||(e[10]=H=>t.showChatSection=!t.showChatSection),class:$(["ait-px-2 sm:ait-px-4 ait-py-1.5 sm:ait-py-2 ait-text-xs sm:ait-text-sm ait-text-neutral-700 dark:ait-text-neutral-300 ait-flex ait-items-center ait-gap-1 sm:ait-gap-2 hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700 ait-rounded-md ait-transition-colors",{"ait-bg-neutral-100 dark:ait-bg-neutral-700":t.showChatSection}])},[e[45]||(e[45]=i("span",null,"",-1)),i("span",null,d(t.__("Chat")),1)],2),i("button",{onClick:e[11]||(e[11]=(...H)=>t.handlePublishClick&&t.handlePublishClick(...H)),class:"ait-relative ait-px-3 sm:ait-px-5 ait-py-1.5 sm:ait-py-2 ait-text-xs sm:ait-text-sm ait-font-medium ait-text-white ait-rounded-md ait-transition-all hover:ait-opacity-90 ait-bg-[var(--ait-tab-menu-active-bg-color)]"},[U(d(t.__("Publish"))+" ",1),t.hasUnsavedChanges?(o(),r("span",{key:0,class:"ait-absolute ait--top-1 ait--right-1 ait-w-2.5 ait-h-2.5 ait-bg-amber-500 ait-border-2 ait-border-white dark:ait-border-neutral-800 ait-rounded-full",title:t.__("Unsaved changes")},null,8,FI)):_("",!0)])])]),i("div",{class:"ait-flex-1 ait-flex ait-flex-row ait-overflow-hidden ait-max-w-full ait-relative",onTouchstart:e[38]||(e[38]=(...H)=>t.handleTouchStart&&t.handleTouchStart(...H)),onTouchmove:e[39]||(e[39]=(...H)=>t.handleTouchMove&&t.handleTouchMove(...H)),onTouchend:e[40]||(e[40]=(...H)=>t.handleTouchEnd&&t.handleTouchEnd(...H))},[t.isSidebarOpen&&t.sidebarPosition==="left"?(o(),r("div",{key:0,class:$(["ait-flex-shrink-0 ait-bg-white dark:ait-bg-neutral-800 ait-border-r ait-border-neutral-200 dark:ait-border-neutral-700 ait-flex ait-flex-col ait-shadow-lg ait-relative ait-order-1",[{"ait-transition-none":t.isResizing},"md:ait-max-w-full md:ait-relative","ait-fixed ait-inset-0 ait-z-40 md:ait-static"]]),style:Q({width:t.sidebarWidth+"px",maxWidth:"100vw"})},[i("div",{class:"ait-absolute ait-right-0 ait-top-0 ait-bottom-0 ait-w-2 ait-cursor-col-resize ait-z-50 ait-group hover:ait-bg-neutral-100/50 dark:hover:ait-bg-neutral-700/50",onMousedown:e[12]||(e[12]=J((...H)=>t.startResize&&t.startResize(...H),["prevent","stop"])),title:"Drag to resize"},[i("div",{class:$(["ait-absolute ait-right-0 ait-top-0 ait-bottom-0 ait-w-0.5 ait-bg-transparent group-hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-transition-colors",{"ait-bg-[var(--ait-tab-menu-active-bg-color)]":t.isResizing}])},null,2)],32),i("div",qI,[t.currentSidebarData.isConditionSettings?(o(),r("h2",YI,d(t.__("Condition Settings")),1)):(o(),r("div",NI,[i("div",ZI,[i("img",{src:t.currentSidebarData.icon,alt:t.currentSidebarData.title,class:"ait-w-full ait-h-full ait-object-contain"},null,8,WI)]),i("div",null,[i("h2",GI,d(t.currentSidebarData.title),1),t.currentSidebarData.version?(o(),r("p",KI,d(t.currentSidebarData.version),1)):_("",!0)])])),i("button",{class:"ait-p-2 ait-text-neutral-400 hover:ait-text-neutral-600 dark:hover:ait-text-neutral-300 ait-transition-colors ait-rounded-lg hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700",onClick:e[13]||(e[13]=(...H)=>t.closeSidebar&&t.closeSidebar(...H)),title:"Close sidebar"},e[46]||(e[46]=[i("svg",{class:"ait-w-5 ait-h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),i("div",QI,[t.currentSidebarData.isConditionSettings?(o(),r("div",XI,[i("div",JI,[i("div",tU,[i("label",eU,d(t.__("Condition Label")),1),i("input",{type:"text",value:((S=t.steps.find(H=>H.id===t.currentSidebarData.conditionItemId))==null?void 0:S.label)||((A=t.steps.find(H=>H.id===t.currentSidebarData.conditionItemId))==null?void 0:A.title)||"",onInput:e[14]||(e[14]=H=>t.updateConditionItemLabel(t.currentSidebarData.stepId,t.currentSidebarData.conditionItemId,H.target.value)),placeholder:t.__("Enter condition label..."),class:"ait-w-full ait-px-3 ait-py-2 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)]"},null,40,iU)]),t.currentSidebarData.condition_is_else?_("",!0):(o(),r("div",aU,[i("label",sU,d(t.__("Toolkit Prompt")),1),i("textarea",{ref:"conditionToolkitPromptTextarea",value:((x=t.steps.find(H=>H.id===t.currentSidebarData.conditionItemId))==null?void 0:x.toolkit_prompt)||"",onInput:e[15]||(e[15]=H=>t.steps.find(z=>z.id===t.currentSidebarData.conditionItemId)?t.steps.find(z=>z.id===t.currentSidebarData.conditionItemId).toolkit_prompt=H.target.value:null),placeholder:t.__("Enter toolkit prompt for this condition branch..."),rows:"4",class:"ait-w-full ait-px-3 ait-py-2 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)]"},null,40,oU),i("div",nU,[b(m,{"model-value":((I=t.steps.find(H=>H.id===t.currentSidebarData.conditionItemId))==null?void 0:I.toolkit_prompt)||"","onUpdate:modelValue":e[16]||(e[16]=H=>t.steps.find(z=>z.id===t.currentSidebarData.conditionItemId)?t.steps.find(z=>z.id===t.currentSidebarData.conditionItemId).toolkit_prompt=H:null),"all-steps":t.steps,"textarea-ref":"conditionToolkitPromptTextarea","filter-is-step":!0},null,8,["model-value","all-steps"])])]))])])):t.currentSidebarData.isSkill?(o(),r("div",lU,[i("div",rU,[i("div",dU,[i("label",cU,d(t.__("Skill Title")),1),i("input",{type:"text",value:t.currentSidebarData.stepTitle||"",onInput:e[17]||(e[17]=H=>t.handleStepTitleUpdate(H.target.value)),placeholder:t.__("Enter skill title..."),class:"ait-w-full ait-px-3 ait-py-2 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)]"},null,40,uU)]),i("div",hU,[i("label",pU,d(t.__("Skill Description")),1),i("input",{type:"text",value:t.currentSidebarData.stepSubtitle||"",onInput:e[18]||(e[18]=H=>t.handleStepSubtitleUpdate(H.target.value)),placeholder:t.__("Enter skill description..."),class:"ait-w-full ait-px-3 ait-py-2 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)]"},null,40,gU)]),i("div",fU,[i("label",mU,d(t.__("Skill Prompt")),1),i("textarea",{ref:"skillToolkitPromptTextarea",value:t.currentSidebarData.toolkit_prompt||"",onInput:e[19]||(e[19]=H=>t.handleToolkitPromptUpdate(H.target.value)),placeholder:t.__("Enter prompt for this skill..."),rows:"6",class:"ait-w-full ait-px-3 ait-py-2 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)]"},null,40,_U),i("div",vU,[b(m,{"model-value":t.currentSidebarData.toolkit_prompt||"","onUpdate:modelValue":t.handleToolkitPromptUpdate,"all-steps":t.steps,"textarea-ref":"skillToolkitPromptTextarea","filter-is-step":!0},null,8,["model-value","onUpdate:modelValue","all-steps"])]),i("p",bU,d(t.__("Define how this skill should be used in the workflow")),1)])])])):t.currentSidebarData.toolkit_slug?(o(),E(h,{key:2,"toolkit-prompt":t.currentSidebarData.toolkit_prompt||"","auth-scheme":t.currentSidebarData.auth_scheme||"","connection-count":t.currentSidebarData.connection_count||0,"available-connections":t.currentSidebarData.available_connections||[],"connected-account-id":t.currentSidebarData.connected_account_id||"","toolkit-slug":t.currentSidebarData.toolkit_slug,"selected-step":t.selectedStep,"step-title":t.currentSidebarData.stepTitle||"","step-subtitle":t.currentSidebarData.stepSubtitle||"","all-steps":t.steps,"onUpdate:toolkitPrompt":t.handleToolkitPromptUpdate,"onUpdate:connectedAccountId":t.handleConnectedAccountIdUpdate,"onUpdate:stepTitle":t.handleStepTitleUpdate,"onUpdate:stepSubtitle":t.handleStepSubtitleUpdate},null,8,["toolkit-prompt","auth-scheme","connection-count","available-connections","connected-account-id","toolkit-slug","selected-step","step-title","step-subtitle","all-steps","onUpdate:toolkitPrompt","onUpdate:connectedAccountId","onUpdate:stepTitle","onUpdate:stepSubtitle"])):_("",!0)])],6)):_("",!0),i("div",wU,[i("div",yU,[i("div",xU,[i("button",{onClick:e[20]||(e[20]=(...H)=>t.handleExecuteWorkflow&&t.handleExecuteWorkflow(...H)),disabled:t.isExecutingWorkflow,class:"workflow-execute-button relative ait-px-4 ait-py-2 ait-rounded-full ait-text-sm ait-font-medium ait-shadow-sm ait-text-white ait-bg-[var(--ait-tab-menu-active-bg-color)] hover:ait-opacity-90 ait-transition-opacity ait-cursor-pointer disabled:ait-opacity-50 disabled:ait-cursor-not-allowed ait-flex ait-items-center ait-justify-center",title:t.__("Execute Workflow")+" (Ctrl+E / +E)"},[t.isExecutingWorkflow?(o(),r(L,{key:0},[e[47]||(e[47]=i("span",{class:"ait-inline-block ait-w-4 ait-h-4 ait-border-2 ait-border-white ait-border-t-transparent ait-rounded-full ait-animate-spin"},null,-1)),i("span",CU,d(t.__("Run Workflow")),1)],64)):(o(),r(L,{key:1},[U(d(t.__("Run Workflow"))+" ",1),t.flowTags?(o(),r("span",$U,d(t.flowTags),1)):_("",!0)],64))],8,kU)]),(o(),E(v,{key:t.vueFlowKey,nodes:t.flowNodes,"onUpdate:nodes":e[21]||(e[21]=H=>t.flowNodes=H),edges:t.flowEdges,"onUpdate:edges":e[22]||(e[22]=H=>t.flowEdges=H),"node-types":t.nodeTypes,"fit-view-on-init":!1,onPaneReady:t.onPaneReady,onNodesChange:t.onNodesChange,onEdgesChange:t.onEdgesChange,class:"ait-h-full ait-w-full"},null,8,["nodes","edges","node-types","onPaneReady","onNodesChange","onEdgesChange"]))])]),t.isSidebarOpen&&t.sidebarPosition==="right"?(o(),r("div",{key:1,class:$(["ait-flex-shrink-0 ait-bg-white dark:ait-bg-neutral-800 ait-border-l ait-border-neutral-200 dark:ait-border-neutral-700 ait-flex ait-flex-col ait-shadow-lg ait-relative ait-max-w-full ait-order-3",{"ait-transition-none":t.isResizing}]),style:Q({width:t.sidebarWidth+"px",maxWidth:"100vw"})},[i("div",{class:"ait-absolute ait-left-0 ait-top-0 ait-bottom-0 ait-w-2 ait-cursor-col-resize ait-z-50 ait-group hover:ait-bg-neutral-100/50 dark:hover:ait-bg-neutral-700/50",onMousedown:e[23]||(e[23]=J((...H)=>t.startResize&&t.startResize(...H),["prevent","stop"])),title:"Drag to resize"},[i("div",{class:$(["ait-absolute ait-left-0 ait-top-0 ait-bottom-0 ait-w-0.5 ait-bg-transparent group-hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-transition-colors",{"ait-bg-[var(--ait-tab-menu-active-bg-color)]":t.isResizing}])},null,2)],32),i("div",LU,[t.currentSidebarData.isConditionSettings?(o(),r("h2",PU,d(t.__("Condition Settings")),1)):(o(),r("div",SU,[i("div",MU,[i("img",{src:t.currentSidebarData.icon,alt:t.currentSidebarData.title,class:"ait-w-full ait-h-full ait-object-contain"},null,8,TU)]),i("div",null,[i("h2",HU,d(t.currentSidebarData.title),1),t.currentSidebarData.version?(o(),r("p",AU,d(t.currentSidebarData.version),1)):_("",!0)])])),i("button",{class:"ait-p-2 ait-text-neutral-400 hover:ait-text-neutral-600 dark:hover:ait-text-neutral-300 ait-transition-colors ait-rounded-lg hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700",onClick:e[24]||(e[24]=(...H)=>t.closeSidebar&&t.closeSidebar(...H)),title:"Close sidebar"},e[48]||(e[48]=[i("svg",{class:"ait-w-5 ait-h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),i("div",IU,[t.currentSidebarData.isConditionSettings?(o(),r("div",UU,[i("div",EU,[i("div",jU,[i("label",RU,d(t.__("Condition Label")),1),i("input",{type:"text",value:((Y=t.steps.find(H=>H.id===t.currentSidebarData.conditionItemId))==null?void 0:Y.label)||((ot=t.steps.find(H=>H.id===t.currentSidebarData.conditionItemId))==null?void 0:ot.title)||"",onInput:e[25]||(e[25]=H=>t.updateConditionItemLabel(t.currentSidebarData.stepId,t.currentSidebarData.conditionItemId,H.target.value)),placeholder:t.__("Enter condition label..."),class:"ait-w-full ait-px-3 ait-py-2 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)]"},null,40,BU)]),t.currentSidebarData.condition_is_else?_("",!0):(o(),r("div",DU,[i("label",OU,d(t.__("Toolkit Prompt")),1),i("textarea",{ref:"conditionToolkitPromptTextareaRight",value:((K=t.steps.find(H=>H.id===t.currentSidebarData.conditionItemId))==null?void 0:K.toolkit_prompt)||"",onInput:e[26]||(e[26]=H=>t.steps.find(z=>z.id===t.currentSidebarData.conditionItemId)?t.steps.find(z=>z.id===t.currentSidebarData.conditionItemId).toolkit_prompt=H.target.value:null),placeholder:t.__("Enter toolkit prompt for this condition branch..."),rows:"4",class:"ait-w-full ait-px-3 ait-py-2 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)]"},null,40,zU),i("div",VU,[b(m,{"model-value":((ct=t.steps.find(H=>H.id===t.currentSidebarData.conditionItemId))==null?void 0:ct.toolkit_prompt)||"","onUpdate:modelValue":e[27]||(e[27]=H=>t.steps.find(z=>z.id===t.currentSidebarData.conditionItemId)?t.steps.find(z=>z.id===t.currentSidebarData.conditionItemId).toolkit_prompt=H:null),"all-steps":t.steps,"textarea-ref":"conditionToolkitPromptTextareaRight","filter-is-step":!0},null,8,["model-value","all-steps"])])]))])])):t.currentSidebarData.isSkill?(o(),r("div",FU,[i("div",qU,[i("div",NU,[i("label",ZU,d(t.__("Skill Title")),1),i("input",{type:"text",value:t.currentSidebarData.stepTitle||"",onInput:e[28]||(e[28]=H=>t.handleStepTitleUpdate(H.target.value)),placeholder:t.__("Enter skill title..."),class:"ait-w-full ait-px-3 ait-py-2 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)]"},null,40,WU)]),i("div",GU,[i("label",KU,d(t.__("Skill Description")),1),i("input",{type:"text",value:t.currentSidebarData.stepSubtitle||"",onInput:e[29]||(e[29]=H=>t.handleStepSubtitleUpdate(H.target.value)),placeholder:t.__("Enter skill description..."),class:"ait-w-full ait-px-3 ait-py-2 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)]"},null,40,YU)]),i("div",QU,[i("label",XU,d(t.__("Skill Prompt")),1),i("textarea",{ref:"skillToolkitPromptTextareaRight",value:t.currentSidebarData.toolkit_prompt||"",onInput:e[30]||(e[30]=H=>t.handleToolkitPromptUpdate(H.target.value)),placeholder:t.__("Enter prompt for this skill..."),rows:"6",class:"ait-w-full ait-px-3 ait-py-2 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)]"},null,40,JU),i("div",tE,[b(m,{"model-value":t.currentSidebarData.toolkit_prompt||"","onUpdate:modelValue":t.handleToolkitPromptUpdate,"all-steps":t.steps,"textarea-ref":"skillToolkitPromptTextareaRight","filter-is-step":!0},null,8,["model-value","onUpdate:modelValue","all-steps"])]),i("p",eE,d(t.__("Define how this skill should be used in the workflow")),1)])])])):t.currentSidebarData.toolkit_slug?(o(),E(h,{key:2,"toolkit-prompt":t.currentSidebarData.toolkit_prompt||"","auth-scheme":t.currentSidebarData.auth_scheme||"","connection-count":t.currentSidebarData.connection_count||0,"available-connections":t.currentSidebarData.available_connections||[],"connected-account-id":t.currentSidebarData.connected_account_id||"","toolkit-slug":t.currentSidebarData.toolkit_slug,"selected-step":t.selectedStep,"step-title":t.currentSidebarData.stepTitle||"","step-subtitle":t.currentSidebarData.stepSubtitle||"","all-steps":t.steps,"onUpdate:toolkitPrompt":t.handleToolkitPromptUpdate,"onUpdate:connectedAccountId":t.handleConnectedAccountIdUpdate,"onUpdate:stepTitle":t.handleStepTitleUpdate,"onUpdate:stepSubtitle":t.handleStepSubtitleUpdate},null,8,["toolkit-prompt","auth-scheme","connection-count","available-connections","connected-account-id","toolkit-slug","selected-step","step-title","step-subtitle","all-steps","onUpdate:toolkitPrompt","onUpdate:connectedAccountId","onUpdate:stepTitle","onUpdate:stepSubtitle"])):_("",!0)])],6)):_("",!0),t.isToolSidebarOpen?(o(),r("div",iE,[i("div",aE,[i("div",null,[i("h2",sE,d(t.__("Select a Tool")),1),i("p",oE,d(t.__("Choose from {count} available tools").replace("{count}",t.filteredTools.length)),1)]),i("button",{class:"ait-p-2 ait-text-neutral-400 hover:ait-text-neutral-600 dark:hover:ait-text-neutral-300 ait-transition-colors ait-rounded-lg hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700",onClick:e[31]||(e[31]=(...H)=>t.closeToolSidebar&&t.closeToolSidebar(...H)),title:"Close"},e[49]||(e[49]=[i("svg",{class:"ait-w-5 ait-h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),i("div",nE,[i("div",lE,[F(i("input",{"onUpdate:modelValue":e[32]||(e[32]=H=>t.toolSearchQuery=H),type:"text",placeholder:t.__("Search tools..."),class:"ait-w-full ait-pl-10 ait-pr-4 ait-py-2.5 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-transparent"},null,8,rE),[[tt,t.toolSearchQuery]]),e[50]||(e[50]=i("svg",{class:"ait-absolute ait-left-3 ait-top-1/2 ait-transform ait--translate-y-1/2 ait-w-5 ait-h-5 ait-text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),i("div",{class:"ait-flex-1 ait-overflow-y-auto ait-p-4",onScroll:e[33]||(e[33]=(...H)=>t.handleToolScroll&&t.handleToolScroll(...H)),ref:"toolSidebarScrollContainer"},[t.isLoadingTools&&t.displayedTools.length===0?(o(),r("div",dE,[(o(),r(L,null,B(3,H=>i("div",{key:H,class:"ait-w-full ait-p-4 ait-bg-neutral-100 dark:ait-bg-neutral-700/50 ait-border ait-border-neutral-200 dark:ait-border-neutral-600 ait-rounded-lg ait-animate-pulse"},e[51]||(e[51]=[Vt('<div class="ait-flex ait-items-start ait-gap-3" data-v-6eec8746><div class="ait-w-12 ait-h-12 ait-rounded-lg ait-bg-neutral-300 dark:ait-bg-neutral-600" data-v-6eec8746></div><div class="ait-flex-1 ait-space-y-2" data-v-6eec8746><div class="ait-h-4 ait-bg-neutral-300 dark:ait-bg-neutral-600 ait-rounded ait-w-3/4" data-v-6eec8746></div><div class="ait-h-3 ait-bg-neutral-300 dark:ait-bg-neutral-600 ait-rounded ait-w-1/2" data-v-6eec8746></div></div></div>',1)]))),64))])):_("",!0),i("div",cE,[(o(!0),r(L,null,B(t.displayedTools,H=>(o(),r("button",{key:H._listkey,class:"ait-w-full ait-p-4 ait-bg-white dark:ait-bg-neutral-700/50 ait-border ait-border-neutral-200 dark:ait-border-neutral-600 ait-rounded-lg hover:ait-border-[var(--ait-tab-menu-active-bg-color)] hover:ait-shadow-md ait-transition-all ait-text-left ait-group",onClick:z=>t.selectTool(H)},[i("div",hE,[i("div",pE,[i("img",{src:H.logo,alt:H.name,class:"ait-w-full ait-h-full ait-object-contain"},null,8,gE)]),i("div",fE,[i("div",mE,[i("h3",_E,d(H.name),1),H.status?(o(),r("span",{key:0,class:$(["ait-text-xs ait-px-2 ait-py-0.5 ait-rounded ait-font-medium",H.status==="Active"?"ait-bg-green-100 ait-text-green-700 dark:ait-bg-green-900/30 dark:ait-text-green-400":"ait-bg-neutral-100 ait-text-neutral-700 dark:ait-bg-neutral-700 dark:ait-text-neutral-400"])},d(H.status),3)):_("",!0)]),i("p",vE,d(H.description),1),i("div",bE,[i("span",wE,d(H.category),1)])]),e[52]||(e[52]=i("svg",{class:"ait-w-6 ait-h-6 ait-text-neutral-400 group-hover:ait-text-[var(--ait-tab-menu-active-bg-color)] ait-transition-colors ait-flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1))])],8,uE))),128)),t.hasMoreTools?(o(),r("div",yE,e[53]||(e[53]=[i("div",{class:"ait-inline-flex ait-items-center ait-gap-2 ait-text-sm ait-text-neutral-500 dark:ait-text-neutral-400"},[i("svg",{class:"ait-animate-spin ait-h-4 ait-w-4",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"ait-opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"ait-opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),U(" Scroll for more... ")],-1)]))):_("",!0),t.displayedTools.length===0?(o(),r("div",xE,[e[54]||(e[54]=i("svg",{class:"ait-w-16 ait-h-16 ait-mx-auto ait-text-neutral-400 dark:ait-text-neutral-500 ait-mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("p",kE,[U(d(t.__("No toolkits found matching"))+" ",1),t.toolSearchQuery?(o(),r("span",CE,'"'+d(t.toolSearchQuery)+'"',1)):_("",!0)])])):_("",!0)])],544)])):_("",!0),t.isSkillSidebarOpen?(o(),r("div",$E,[i("div",LE,[i("div",null,[i("h2",SE,d(t.__("Select a Skill")),1),i("p",ME,d(t.__("Choose from {count} available skills").replace("{count}",t.filteredSkills.length)),1)]),i("button",{class:"ait-p-2 ait-text-neutral-400 hover:ait-text-neutral-600 dark:hover:ait-text-neutral-300 ait-transition-colors ait-rounded-lg hover:ait-bg-neutral-100 dark:hover:ait-bg-neutral-700",onClick:e[34]||(e[34]=(...H)=>t.closeSkillSidebar&&t.closeSkillSidebar(...H)),title:"Close"},e[55]||(e[55]=[i("svg",{class:"ait-w-5 ait-h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),i("div",TE,[i("div",HE,[F(i("input",{"onUpdate:modelValue":e[35]||(e[35]=H=>t.skillSearchQuery=H),type:"text",placeholder:t.__("Search skills..."),class:"ait-w-full ait-pl-10 ait-pr-4 ait-py-2.5 ait-text-sm ait-border ait-border-neutral-300 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-700 ait-text-neutral-900 dark:ait-text-white focus:ait-outline-none focus:ait-ring-2 focus:ait-ring-[var(--ait-tab-menu-active-bg-color)] focus:ait-border-transparent"},null,8,AE),[[tt,t.skillSearchQuery]]),e[56]||(e[56]=i("svg",{class:"ait-absolute ait-left-3 ait-top-1/2 ait-transform ait--translate-y-1/2 ait-w-5 ait-h-5 ait-text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),i("div",{class:"ait-flex-1 ait-overflow-y-auto ait-p-4",onScroll:e[36]||(e[36]=(...H)=>t.handleSkillScroll&&t.handleSkillScroll(...H)),ref:"skillSidebarScrollContainer"},[t.isLoadingSkills&&t.displayedSkills.length===0?(o(),r("div",PE,[(o(),r(L,null,B(3,H=>i("div",{key:H,class:"ait-w-full ait-p-4 ait-bg-neutral-100 dark:ait-bg-neutral-700/50 ait-border ait-border-neutral-200 dark:ait-border-neutral-600 ait-rounded-lg ait-animate-pulse"},e[57]||(e[57]=[Vt('<div class="ait-flex ait-items-start ait-gap-3" data-v-6eec8746><div class="ait-w-12 ait-h-12 ait-rounded-lg ait-bg-neutral-300 dark:ait-bg-neutral-600" data-v-6eec8746></div><div class="ait-flex-1 ait-space-y-2" data-v-6eec8746><div class="ait-h-4 ait-bg-neutral-300 dark:ait-bg-neutral-600 ait-rounded ait-w-3/4" data-v-6eec8746></div><div class="ait-h-3 ait-bg-neutral-300 dark:ait-bg-neutral-600 ait-rounded ait-w-1/2" data-v-6eec8746></div></div></div>',1)]))),64))])):_("",!0),i("div",IE,[(o(!0),r(L,null,B(t.displayedSkills,H=>(o(),r("button",{key:H._listkey,class:"ait-w-full ait-p-4 ait-bg-white dark:ait-bg-neutral-700/50 ait-border ait-border-neutral-200 dark:ait-border-neutral-600 ait-rounded-lg hover:ait-border-[var(--ait-tab-menu-active-bg-color)] hover:ait-shadow-md ait-transition-all ait-text-left ait-group",onClick:z=>t.selectSkill(H)},[i("div",EE,[i("div",{class:$(["ait-w-12 ait-h-12 ait-rounded-lg ait-flex ait-items-center ait-justify-center ait-flex-shrink-0 ait-bg-neutral-100 dark:ait-bg-neutral-600 group-hover:ait-bg-[var(--ait-tab-menu-active-bg-color)]/10",H.icon?"ait-p-2":""])},[H.icon?(o(),r("img",{key:0,src:H.icon,alt:H.name||H.title,class:"ait-w-full ait-h-full ait-object-contain"},null,8,jE)):(o(),r("span",RE,""))],2),i("div",BE,[i("div",DE,[i("h3",OE,d(H.name||H.title),1),H.status?(o(),r("span",{key:0,class:$(["ait-text-xs ait-px-2 ait-py-0.5 ait-rounded ait-font-medium",H.status==="Active"?"ait-bg-green-100 ait-text-green-700 dark:ait-bg-green-900/30 dark:ait-text-green-400":"ait-bg-neutral-100 ait-text-neutral-700 dark:ait-bg-neutral-700 dark:ait-text-neutral-400"])},d(H.status),3)):_("",!0)]),i("p",zE,d(t.__(H.description)),1),H.tags&&H.tags.length>0?(o(),r("div",VE,[(o(!0),r(L,null,B(H.tags.slice(0,3),z=>(o(),r("span",{key:z,class:"ait-inline-block ait-px-2 ait-py-0.5 ait-text-xs ait-rounded ait-bg-neutral-100 dark:ait-bg-neutral-600 ait-text-neutral-700 dark:ait-text-neutral-300"},d(z),1))),128))])):_("",!0)]),e[58]||(e[58]=i("svg",{class:"ait-w-6 ait-h-6 ait-text-neutral-400 group-hover:ait-text-[var(--ait-tab-menu-active-bg-color)] ait-transition-colors ait-flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1))])],8,UE))),128)),t.hasMoreSkills?(o(),r("div",FE,e[59]||(e[59]=[i("div",{class:"ait-inline-flex ait-items-center ait-gap-2 ait-text-sm ait-text-neutral-500 dark:ait-text-neutral-400"},[i("svg",{class:"ait-animate-spin ait-h-4 ait-w-4",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"ait-opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"ait-opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),U(" Scroll for more... ")],-1)]))):_("",!0),t.displayedSkills.length===0&&!t.isLoadingSkills?(o(),r("div",qE,[e[60]||(e[60]=i("svg",{class:"ait-w-16 ait-h-16 ait-mx-auto ait-text-neutral-400 dark:ait-text-neutral-500 ait-mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),i("p",NE,[U(d(t.__("No skills found matching"))+" ",1),t.skillSearchQuery?(o(),r("span",ZE,'"'+d(t.skillSearchQuery)+'"',1)):_("",!0)])])):_("",!0)])],544)])):_("",!0),t.showChatSection||t.isSwipeActive?(o(),r("div",{key:4,class:$(["ait-flex-shrink-0 ait-bg-white dark:ait-bg-neutral-800 ait-flex ait-flex-col ait-shadow-lg ait-relative ait-order-4",[{"ait-transition-none":t.isChatResizing||t.isSwiping},{"ait-transition-transform ait-duration-300 ait-ease-out":!t.isChatResizing&&!t.isSwiping},t.chatSectionPosition==="left"?"ait-border-r":"ait-border-l","ait-border-neutral-200 dark:ait-border-neutral-700","md:ait-max-w-full md:ait-relative","ait-fixed ait-inset-0 ait-z-40 md:ait-static"]]),style:Q({width:t.chatSectionComputedWidth,maxWidth:"100vw",transform:t.getSwipeTransform()})},[i("div",{class:$(["ait-absolute ait-top-0 ait-bottom-0 ait-w-2 ait-cursor-col-resize ait-z-50 ait-group hover:ait-bg-neutral-100/50 dark:hover:ait-bg-neutral-700/50",t.chatSectionPosition==="left"?"ait-right-0":"ait-left-0"]),onMousedown:e[37]||(e[37]=J((...H)=>t.startChatResize&&t.startChatResize(...H),["prevent","stop"])),title:"Drag to resize"},[i("div",{class:$(["ait-absolute ait-top-0 ait-bottom-0 ait-w-0.5 ait-bg-transparent group-hover:ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-transition-colors",[{"ait-bg-[var(--ait-tab-menu-active-bg-color)]":t.isChatResizing},t.chatSectionPosition==="left"?"ait-right-0":"ait-left-0"]])},null,2)],34),i("div",WE,[b(g,{selected_agent:t.selected_agent,returnToBotList:()=>{}},null,8,["selected_agent"])])],6)):_("",!0),t.show_history_sidebar?(o(),E(w,{key:5,id:"full-screen-history-sidebar"})):_("",!0)],32)],2)}const KE=R(fI,[["render",GE],["__scopeId","data-v-6eec8746"]]),YE=rt({name:"Dropdown",components:{FontAwesomeIcon:Te},props:{modelValue:{type:[String,Number,Object],default:null},options:{type:Array,required:!0,default:()=>[]},placeholder:{type:String,default:"Select an option"},displayKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},containerClass:{type:String,default:""},disabled:{type:Boolean,default:!1},displayFunction:{type:Function,default:null},translateFunction:{type:Function,default:null}},emits:["update:modelValue","select"],data(){return{isOpen:!1}},computed:{selectedOption(){return this.modelValue?this.options.find(t=>{const e=this.getValueFromOption(t);return e===this.modelValue||typeof e=="object"&&typeof this.modelValue=="object"&&JSON.stringify(e)===JSON.stringify(this.modelValue)}):null},displayText(){return this.selectedOption?this.displayFunction?this.displayFunction(this.selectedOption):this.selectedOption&&typeof this.selectedOption=="object"&&this.selectedOption.html?this.selectedOption.html:this.getDisplayFromOption(this.selectedOption):this.placeholder}},methods:{toggleDropdown(t){this.disabled||(t&&t.stopPropagation(),this.isOpen=!this.isOpen)},selectOption(t){const e=this.getValueFromOption(t);this.$emit("update:modelValue",e),this.$emit("select",t,e),this.isOpen=!1},getValueFromOption(t){return typeof t=="string"||typeof t=="number"?t:this.valueKey&&t[this.valueKey]!==void 0?t[this.valueKey]:t},getDisplayFromOption(t){if(typeof t=="string"||typeof t=="number"){const a=String(t);return this.translateFunction?this.translateFunction(a):a}if(this.displayKey&&t[this.displayKey]!==void 0){const a=String(t[this.displayKey]);return this.translateFunction?this.translateFunction(a):a}const e=String(t);return this.translateFunction?this.translateFunction(e):e},isSelected(t){const e=this.getValueFromOption(t);return e===this.modelValue?!0:typeof e=="object"&&typeof this.modelValue=="object"?JSON.stringify(e)===JSON.stringify(this.modelValue):!1},handleOutsideClick(t){const e=t.target,a=this.$el;a&&!a.contains(e)&&(this.isOpen=!1)}},mounted(){document.addEventListener("click",this.handleOutsideClick)},beforeUnmount(){document.removeEventListener("click",this.handleOutsideClick)}}),QE=["innerHTML"],XE={key:0,class:"ait-absolute ait-z-[99999] ait-mt-2 ait-min-w-full ait-max-h-[300px] ait-overflow-y-auto ait-bg-white dark:ait-bg-neutral-800 ait-rounded-xl ait-shadow-lg ait-border ait-border-neutral-200 dark:ait-border-neutral-700 ait-overflow-hidden",style:{"transform-origin":"top"}},JE=["onClick"],tj={class:"ait-flex ait-gap-3 ait-items-center ait-w-full"},ej={key:0},ij=["innerHTML"],aj={key:2};function sj(t,e,a,l,n,s){const u=y("font-awesome-icon");return o(),r("div",{class:$(`dropdown-container ${t.containerClass} ait-relative`)},[i("div",{onClick:e[0]||(e[0]=J(c=>t.toggleDropdown(c),["stop"])),class:$(["ait-px-3 ait-py-2 ait-text-sm ait-border ait-border-neutral-200 dark:ait-border-neutral-600 ait-rounded-lg ait-bg-white dark:ait-bg-neutral-800 ait-text-neutral-700 dark:ait-text-neutral-200 ait-flex ait-items-center ait-justify-between ait-cursor-pointer hover:ait-border-[rgba(var(--ait-main-color),0.5)] hover:ait-shadow-sm ait-transition-all ait-duration-200 ait-w-full",{"ait-opacity-50 ait-cursor-not-allowed":t.disabled}])},[i("span",{class:"ait-text-sm ait-font-medium",innerHTML:t.displayText},null,8,QE),b(u,{icon:"fa-solid fa-chevron-down",class:$(["ait-w-3 ait-h-3 ait-ml-2 ait-transition-transform ait-duration-200",{"ait-rotate-180":t.isOpen}])},null,8,["class"])],2),b(_t,{"enter-active-class":"ait-transition ait-ease-out ait-duration-200","enter-from-class":"ait-opacity-0 ait-scale-95","enter-to-class":"ait-opacity-100 ait-scale-100","leave-active-class":"ait-transition ait-ease-in ait-duration-150","leave-from-class":"ait-opacity-100 ait-scale-100","leave-to-class":"ait-opacity-0 ait-scale-95"},{default:D(()=>[t.isOpen?(o(),r("ul",XE,[(o(!0),r(L,null,B(t.options,(c,p)=>(o(),r("li",{key:p,onClick:J(m=>t.selectOption(c),["stop"]),class:$(["ait-flex ait-px-4 ait-py-3 hover:ait-bg-neutral-50 dark:hover:ait-bg-neutral-700 ait-cursor-pointer ait-transition-colors ait-duration-150",{"ait-bg-[rgba(var(--ait-main-color),0.1)] dark:ait-bg-[rgba(var(--ait-main-color),0.2)]":t.isSelected(c)}])},[i("div",tj,[i("span",{class:"ait-text-sm ait-font-medium",style:Q({color:t.isSelected(c)?"rgba(var(--ait-main-color), 1)":""})},[typeof c=="string"||typeof c=="number"?(o(),r("span",ej,d(c),1)):c.html?(o(),r("span",{key:1,innerHTML:c.html},null,8,ij)):(o(),r("span",aj,d(t.getDisplayFromOption(c)),1))],4),t.isSelected(c)?(o(),E(u,{key:0,icon:"fa-solid fa-check",class:"ait-w-4 ait-h-4 ait-ml-auto",style:{color:"rgba(var(--ait-main-color), 1)"}})):_("",!0)])],10,JE))),128))])):_("",!0)]),_:1})],2)}const oj=R(YE,[["render",sj]]);_i.add(Ca,$a,La,Sa,Ma,Ta,Ha,Aa,Pa,Ia,Ua,Ea,ja,Ra,Ba,Da,Oa,za,Va,Fa,qa,Na,Za,Wa,Ga,Ka,Ya,Qa,Xa,Ja,ts,es,is,as,ss,os,ns,ls,rs,ds,cs,us,hs,ps,gs,fs,ms,_s,vs,bs,ws,ys,xs,ks,Cs,$s,Ls,Ss,Ms,Ts,Hs,As,Ps,Is,Us,Es,js,Rs,Bs);_i.add(Ds,Os,zs,Vs,Fs,qs,Ns,Zs,Ws,Gs,Ks,Ys,Qs,Xs,Js);const vj=Object.freeze(Object.defineProperty({__proto__:null,AgentCard:Fk,AgentList:eL,AgentLogo:bi,AgentMarketplaceFooter:yk,AgentMarketplaceHeader:pk,AgentPublishRequestForm:dC,AiEvents:h$,AiModels:D$,AiReply:Uw,AiReplyPopup:Wm,AiReplyResponse:r7,AiReplySettingsPanel:$7,AiResponse:Pr,AiResponseForAgent:Wd,AiSideBar:Ao,AitLoadMore:hL,Announcements:my,AppLogo:ue,AppLogoFull:yy,CampaignModal:VA,ChatControls:l0,ChatToolbar:r6,ChatWithFileAiResponse:z1,ChatWithFileChatSection:Sv,ChatWithFileInnerContentView:Kv,ChooseModel:ki,ContextAIPopup:q8,ContextAIResponsePopup:vm,ContextWrapper:C8,Credit:qc,DiagramEditor:KE,DiagramFlowNode:Se,DiagramStepCard:Ti,DiagramToolSettings:Mi,DraggableModal:Sw,Dropdown:oj,EditToolsModal:Mh,EditToolsUploadModal:h3,EditToolsUploadModalActionSection:y3,FileButton:D4,FontAwesomeIcon:Te,FullScreenBotsSection:D9,FullScreenChatSection:G7,FullScreenChatSectionForAgents:c_,FullScreenImageSection:ev,FullScreenSearchSection:gv,HeaderSlider:Ak,HistoryBack:xi,HistorySideBar:bw,HoverPopover:q4,ImageAiResponse:K2,ImageChatSettings:Hp,ImageChatSettingsModal:Op,ImagePreview:a2,InnerContentView:g5,InnerContentViewForAgents:_4,InnerImagePreview:V3,InnerReferenceImage:I3,InviteFriends:R6,MakeAReview:Ru,MakeAReviewModal:Qu,MarketplaceBanner:Kk,Modal:_0,ModelLogo:nL,Navigation:J1,OptimizePrompt:Nw,Painter:Dg,Popover:eo,PopoverButton:io,PopoverPanel:ao,PromptBuilder:wi,PromptTool:Hm,Prompts:E0,ReferenceImage:Gp,ResponseTools:Qw,SearchResponse:H4,ShortcutRecorder:E7,SingleResponse:Tu,Speech:_L,StyleOptionsModal:yi,SvgLogo:Pe,Switchbar:$c,Tab:so,TabGroup:oo,TabList:no,TabPanel:lo,TabPanels:ro,UpgradePlanModal:F6,UploaderElement:Uh,UserDropdown:Si,UserInfoSection:Xb,VisionImagePreview:Ci,VoicesDropdown:$L,Write:ou,YTResponse:uy},Symbol.toStringTag,{value:"Module"}));export{O as A,vj as C,vo as F,xi as H,Li as M,Dh as O,ri as P,R as _,yt as a,Ae as b,yk as c,pk as d,dC as e,Ao as f,X as g,Qt as m};
