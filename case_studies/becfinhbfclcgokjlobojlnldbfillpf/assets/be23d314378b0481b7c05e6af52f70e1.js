import{d as A,O as g,g as d,j as o,q as u,v as a,G as F,n as s,K as n,F as b,B as x,s as _,I as S,ak as B}from"./71531b053591a96d81db2519a82aa248.js";import{H as h}from"./0f34bc84b746331fb6e6d1a17e2be5f1.js";import{A as O,b as $,_ as L,C}from"./f1cb0a108b35713614332c7c219352b8.js";import"./17e6f969c69a33c57a5b808c30e97817.js";import{A as y}from"./f2694457f4424ded7029976ed34eac38.js";import"./d541e75e0d3013fe2efd3bb1a31c4a6b.js";import"./3f2064fa9a9acc842de50ad820610f4b.js";import"./7e56edcc34c4dfd4bce3410bed0529e6.js";import"./aca89d4ca34e8fbbc6f322cb34935489.js";import"./c12fd3596e1e986fac56d091ec67c779.js";import"./0db5daaf91bdd56249e9ae30e1c0fad3.js";import"./4bf0dc39263bec45ac08f22b6445195f.js";import"./bd5159ed1face2f59751ceb1d07e31f3.js";import"./9f935c62533cde17533373075512c98b.js";import"./22aa1f89111f8237764a195a86dc6791.js";import"./1c66977a9e497032052fc88de8dc0025.js";import"./2eb62d616ebc70b625c1907fb9b56bcb.js";import"./167eb5fb14130edc55e0208b299eb738.js";import"./e43206e4b2ef10bccecb7d9deb74b927.js";import"./39c3d8a964c661ab72f6d2e5dcdb0e9a.js";import"./0a9beade9558a5b904150914951edb50.js";import"./7694ab0a99e001fc6c4a0dff919c3a14.js";import"./c2c13b7def76f5768e17bc73b900b28e.js";import"./9cb1ced478fdea687c5b1bf07fa2b7a3.js";import"./83c6672847a35da18c7c6cd5f39ddc2c.js";import"./8f849a317394192d6541e23f7f7dff92.js";import"./8fd9dd871ac56148ba64599be5846cf8.js";import"./d90a1dadfd9d56c6157b026a43a3acf9.js";import"./be62c323ef7199eed02717bc155004ba.js";import"./dcbabf58cd14346bf8b00e4313a9ce1e.js";const W=A({name:"AgentCategoryPage",extends:O,data:()=>({agents:[],categoriesList:[],currentCategory:"productivity",filters:{sortBy:"popularity",ratingFilter:0,priceFilter:"all"},filteredCount:0,max_page:0,windowWidth:1024,isSidebarOpen:!1}),computed:{},methods:{setCategory(t){var a;this.currentCategory=t,window.location.href=`${(null==(a=this.constants)?void 0:a.extension_main_dir)||""}/agent_category.html?id=${t}`,this.windowWidth<768&&(this.isSidebarOpen=!1)},updateFilter(t,a){this.filters[t]=a},toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen},navigateToAgentDetails(t){var a;window.location.href=`${(null==(a=this.constants)?void 0:a.extension_main_dir)||""}/agent_details.html?id=${t}`},updateWindowWidth(){this.windowWidth=window.innerWidth},async filteredAgents(t=null,a=1){let i=[];this.currentCategory&&(i=[{data:"category_id",search:{value:this.currentCategory,eq:"="}}]);let{data:e,pages:r,recordsFiltered:s,recordsTotal:o}=await this.Markets.Agents.search(t,i,a);this.filteredCount=s??0,this.max_page=Object.values(r??[]).length??0;let d=Object.values(e);return this.filters.ratingFilter>0&&(d=d.filter((t=>(t.rating??0)>=this.filters.ratingFilter))),"rating"===this.filters.sortBy?d.sort(((t,a)=>(a.rating??0)-(t.rating??0))):"newest"===this.filters.sortBy&&d.sort((()=>Math.random()-.5)),this.agents=Object.values(this.agents).concat(Object.values(d)),d},async fetchCategories(){try{let{data:t}=await $.search();t?this.categoriesList=Object.values(t):(this.categoriesList=[],console.error("Failed to fetch categories or data is not in expected format:",t))}catch(t){console.error("Error fetching categories:",t),this.categoriesList=[]}}},async mounted(){const t=new URLSearchParams(window.location.search).get("id");this.currentCategory=t||null,await this.fetchCategories(),await this.filteredAgents(),this.windowWidth=window.innerWidth,window.addEventListener("resize",this.updateWindowWidth)},beforeUnmount(){window.removeEventListener("resize",this.updateWindowWidth)}}),j={class:"ait-block ait-min-h-screen ait-bg-gray-50 dark:ait-bg-[var(--ait-option-card-bg-color)] ait-text-gray-800 dark:ait-text-gray-200"},M={class:"ait-flex ait-min-h-[calc(100vh-72px)]"},z={class:"ait-flex ait-justify-end md:ait-hidden ait-mb-4"},P={class:"ait-text-xl ait-font-semibold ait-mb-4"},E={class:"ait-space-y-1"},H=["onClick"],q={class:"ait-flex ait-items-center ait-gap-2"},N={class:"ait-text-lg"},U={class:"ait-flex-1 ait-p-4 sm:ait-p-6 ait-overflow-hidden"},V={class:"ait-mb-6"},R={class:"ait-text-2xl ait-font-bold ait-mb-6"},D={class:"ait-bg-white dark:ait-bg-[var(--ait-switchbar-bg-color)] ait-rounded-lg ait-shadow-sm ait-p-4 ait-mb-6"},T={class:"ait-flex ait-flex-col sm:ait-flex-row ait-items-start sm:ait-items-center ait-justify-between ait-gap-4"},G={class:"ait-flex ait-flex-wrap ait-gap-2"},I={class:"ait-flex ait-flex-wrap ait-gap-2"},K={class:"ait-text-sm ait-text-gray-500 dark:ait-text-gray-400 ait-mb-4"};function J(t,i,e,r,c,l){const f=g("AgentMarketplaceHeader"),p=g("AgentCard"),m=g("AitLoadMore"),y=g("AgentMarketplaceFooter");return o(),d(b,null,[u(f),a("div",j,[a("div",M,[a("aside",{class:s(["ait-w-60 ait-bg-white dark:ait-bg-[var(--ait-switchbar-bg-color)] ait-border-r ait-border-gray-200 dark:ait-border-gray-700 ait-p-4 ait-transition-all ait-duration-300 ait-overflow-y-auto",{"ait-fixed ait-inset-0 ait-z-30":t.isSidebarOpen},{"ait-hidden":!t.isSidebarOpen&&t.windowWidth<768},"md:ait-sticky md:ait-top-[0px] md:ait-h-[calc(100vh-10px)] md:ait-block md:ait-z-0"])},[a("div",z,[a("button",{onClick:i[0]||(i[0]=(...a)=>t.toggleSidebar&&t.toggleSidebar(...a)),class:"ait-p-1.5 ait-rounded-full ait-bg-gray-100 dark:ait-bg-gray-700"},i[8]||(i[8]=[a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"ait-h-5 ait-w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),a("h2",P,n(t.__("Categories")),1),a("ul",E,[(o(!0),d(b,null,x(t.categoriesList,(i=>(o(),d("li",{key:i._listkey,onClick:a=>t.setCategory(i._listkey),class:s(["ait-flex ait-items-center ait-justify-between ait-p-2 ait-rounded-lg ait-cursor-pointer ait-transition-colors",t.currentCategory===i._listkey?"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white":"hover:ait-bg-gray-100 dark:hover:ait-bg-neutral-700"])},[a("div",q,[a("span",N,n(i.icon),1),a("span",null,n(t.__(i.title)),1)])],10,H)))),128))])],2),t.isSidebarOpen?(o(),d("div",{key:0,class:"ait-fixed ait-inset-0 ait-bg-black ait-bg-opacity-50 ait-z-20 md:ait-hidden",onClick:i[1]||(i[1]=(...a)=>t.toggleSidebar&&t.toggleSidebar(...a))})):F("",!0),a("main",U,[a("div",V,[a("h1",R,n(t.currentCategory?t.currentCategory.charAt(0).toUpperCase()+t.currentCategory.slice(1):"")+" "+n(t.__("Agents")),1),a("div",D,[a("div",T,[a("div",G,[i[9]||(i[9]=a("span",{class:"ait-text-sm ait-text-gray-500 dark:ait-text-gray-400 ait-self-center"},"Sort by:",-1)),a("button",{onClick:i[2]||(i[2]=a=>t.updateFilter("sortBy","popularity")),class:s(["ait-px-3 ait-py-1 ait-rounded-full ait-text-sm","popularity"===t.filters.sortBy?"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white":"ait-bg-gray-100 dark:ait-bg-gray-700 ait-text-gray-700 dark:ait-text-gray-300"])}," Popularity ",2),a("button",{onClick:i[3]||(i[3]=a=>t.updateFilter("sortBy","rating")),class:s(["ait-px-3 ait-py-1 ait-rounded-full ait-text-sm","rating"===t.filters.sortBy?"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white":"ait-bg-gray-100 dark:ait-bg-gray-700 ait-text-gray-700 dark:ait-text-gray-300"])}," Rating ",2),a("button",{onClick:i[4]||(i[4]=a=>t.updateFilter("sortBy","newest")),class:s(["ait-px-3 ait-py-1 ait-rounded-full ait-text-sm","newest"===t.filters.sortBy?"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white":"ait-bg-gray-100 dark:ait-bg-gray-700 ait-text-gray-700 dark:ait-text-gray-300"])}," Newest ",2)]),a("div",I,[i[10]||(i[10]=a("span",{class:"ait-text-sm ait-text-gray-500 dark:ait-text-gray-400 ait-self-center"},"Rating:",-1)),a("button",{onClick:i[5]||(i[5]=a=>t.updateFilter("ratingFilter",0)),class:s(["ait-px-3 ait-py-1 ait-rounded-full ait-text-sm",0===t.filters.ratingFilter?"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white":"ait-bg-gray-100 dark:ait-bg-gray-700 ait-text-gray-700 dark:ait-text-gray-300"])}," All ",2),a("button",{onClick:i[6]||(i[6]=a=>t.updateFilter("ratingFilter",4)),class:s(["ait-px-3 ait-py-1 ait-rounded-full ait-text-sm",4===t.filters.ratingFilter?"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white":"ait-bg-gray-100 dark:ait-bg-gray-700 ait-text-gray-700 dark:ait-text-gray-300"])}," 4+ ★ ",2),a("button",{onClick:i[7]||(i[7]=a=>t.updateFilter("ratingFilter",3)),class:s(["ait-px-3 ait-py-1 ait-rounded-full ait-text-sm",3===t.filters.ratingFilter?"ait-bg-[var(--ait-tab-menu-active-bg-color)] ait-text-white":"ait-bg-gray-100 dark:ait-bg-gray-700 ait-text-gray-700 dark:ait-text-gray-300"])}," 3+ ★ ",2)])])]),a("p",K," Showing "+n(t.filteredCount)+" results ",1)]),u(m,{fn:t.filteredAgents,filters:{q:null,page:1},scroll_element:"html",max_page:t.max_page,class:"ait-grid ait-grid-cols-1 sm:ait-grid-cols-2 lg:ait-grid-cols-3 xl:ait-grid-cols-4 ait-gap-4 sm:ait-gap-6"},{default:_((()=>[(o(!0),d(b,null,x(t.agents,(a=>(o(),S(p,{key:t.Helpers.notUndefined(a,"_listkey"),agent:a},null,8,["agent"])))),128))])),_:1},8,["fn","max_page"])])])]),u(y)],64)}const Q=L(W,[["render",J],["__scopeId","data-v-65e0abcd"]]);h.setSidebar(),h.addLoading();const p=B(Q,{type:"FullScreen"});if(Object.keys(C).forEach((t=>{p.component(t,C[t])})),window.aiVueApp=p,p.mount("#aitopia-full"),y){let t=Object.keys(y);t&&t.forEach((t=>{p.component(t,y[t])}))}let X=null==document?void 0:document.querySelector("#aitopia-sidebar");h.resizeBorder(X,440);