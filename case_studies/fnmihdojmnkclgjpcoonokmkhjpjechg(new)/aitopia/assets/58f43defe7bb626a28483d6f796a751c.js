import{a_ as w,J as h,aP as d,L as a,X as l,I as y,aA as m,bc as g,bH as T,F,aY as R,W as A,G as I}from"./0d312bf4a86f7694fa93a4b284d7250e.js";import{H as b}from"./6da4b6d82d745093c67f68f3dfd58024.js";import{A as C,_ as N,m as U,C as M}from"./2341679a9c28c37b2ec2d727070e24de.js";import{F as D}from"./153f558d7d25f9316436c23acae25c23.js";import"./c775b28d320b0f76df5f528bc49f6aa4.js";import{A as z}from"./f3f70cd592513215c734552b492d6494.js";import"./d9ead636e14b3dea7802a6c456951ba1.js";import"./ddf3c1fa2deb5d26638675926c7b9d09.js";import"./0adcd388c9aaa32c0cc27d4165b3d44d.js";import"./cde26fce7a7372b6951c2916a9851051.js";import"./e10687645c95ce1b6a3461c73a73ba81.js";import"./6bde0597aea7748c1fc7d905f85ec069.js";import"./6b2aa0f0aa2b0110b5bd650a97a56803.js";import"./0b28c5808c8427156e8784d960d4e59e.js";import"./1539025a706a9e27b0becf940dc1c28a.js";import"./af99b7f1a072a4003eb9ccc27570713e.js";import"./7e175aa4d215965863ad94e5816e68dc.js";import"./b89c276e0b74378882f480951f4bde2a.js";import"./f40af6e9496ae6e6e39e8fe1c143aa85.js";import"./1343aedc4180a91956bf1ecf1fac242a.js";import"./5ae9c9acb1c829f4ab2c50786720e5cf.js";import"./6d1994eb1dc6c7b66d71c8cf9501e5ea.js";import"./6a9d2cf74beb95f898ebba51cb126aec.js";import"./aff28b06e242157a60245cfbcb54fdee.js";import"./36be3a95664330bdd5ec4bf0678814b0.js";import"./a0c4928e138c271c0a4ffa7387169967.js";import"./a284a60fa67a17f88f7ec49cd2e14d13.js";import"./505fa308d2bad83a0d0f7db4aad799e6.js";import"./db2d9de47c2cd9f7c89e9f65becb64bc.js";import"./d2d811bcbf8f364c09354b3094d627ac.js";import"./3a52cdb9a73d8582fc76a67c93707d2d.js";import"./1b14d4146f0939dc840d5b2134463ed7.js";import"./597982f5e7ea616818fbc2ceedb386b7.js";import"./9f5a820a7a10de0699f93f20575efc5e.js";import"./2b9dd6c04c32a40b8a9fce6d879a445d.js";import"./f37f6b6bbb5f63bf0bfafb8a112416af.js";import"./152fe5418b14a2dacb069c86b6fade15.js";import"./e19892cc69af37d0ed63f93ba3ce63a3.js";import"./7e819cd5e0fcd6ebf5950224b361b421.js";import"./fcb632058ec5a26831181cf03980c901.js";import"./556eec616e9e2e42b8c2aa2bb68d535c.js";const Z={extends:C,async beforeMount(){this.fileProcessor=D.getInstance()},data(){return{fileUploaded:!1,selectedFile:null,currentPage:1,totalPages:1,pages:[],isLoading:!1,fileName:"",error:null,fileProcessor:null,pdfContainer:null,canvasContainer:null,containerMounted:!1,isConverting:!1,thumbnails:[],thumbnailsLoading:!1,currentZoom:1,showThumbnails:!0,showRightPanel:!0,pdfContent:"",resultCustomKeyReply:"",isGettingSuggestions:!1,isGettingSummary:!1,aiReplyPrompt:"",intentKey:"",keyPointsKey:"",suggestionsKey:"",lastGeneratedReply:"",continueImproving:!1,settingModal:!1,running:!1,emailContent:"",emailData:{}}},computed:{acceptedFileTypes(){return".pdf,.doc,.docx,.xlsx,.xls,.ppt,.pptx"},loadingMessage(){return this.isConverting?this.__("Converting document to PDF..."):this.__("Loading PDF content...")}},mounted(){this.extra_data!==null&&this.changeStorage("extra_data",null,!1),this.context_data!==null&&this.changeStorage("context_data",null,!1),this.initializeContainer()},methods:{async resetState(){return window.location.reload()},async cleanupResources(){try{if(this.fileUploaded=!1,this.selectedFile=null,this.currentPage=1,this.totalPages=1,this.pages=[],this.fileName="",this.pdfContent="",this.isLoading=!1,this.error=null,this.thumbnails.forEach(e=>{(e.startsWith("blob:")||e.startsWith("data:"))&&URL.revokeObjectURL(e)}),this.thumbnails=[],this.canvasContainer){const e=this.canvasContainer.getElementsByTagName("canvas");Array.from(e).forEach(t=>{const s=t.getContext("2d");s&&(s.clearRect(0,0,t.width,t.height),s.canvas=null),t.width=1,t.height=1}),this.canvasContainer.innerHTML=""}if(this.pdfContainer){const e=this.pdfContainer.querySelector(".pdf-text-layer");e&&(e.innerHTML=""),this.pdfContainer.innerHTML="",this.pdfContainer=null}this.currentZoom=1,this.showThumbnails=!0,this.showRightPanel=!0,this.fileProcessor&&await this.fileProcessor.cleanup(),this.changeStorage("extra_data",null,!1),this.changeStorage("context_data",null,!1),window.gc&&window.gc()}catch(e){console.error("Error during cleanup:",e),this.fileUploaded=!1,this.isLoading=!1,this.error=e.message||this.__("Error during cleanup")}},async getFileAnalysis(){const e="fileAnalysis";this.suggestionsKey=e;try{const t=await b.Browser().storage.local.get("current_file_name");if(this.ai_single&&this.ai_single[e]&&t&&t.current_file_name===this.fileName)return;this.isGettingSuggestions=this.isGettingSummary=!0;let s=`You are a highly skilled AI assistant for analyzing file content. I need two things:

        1. A summary of the content in maximum 2 very short sentences. Start the summary with ##SUMMARY_START## and end with ##SUMMARY_END##

        2. Three topic-based question suggestions about the content. Each suggestion should focus on different aspects (one positive, one neutral, one negative) to help understand the file content better. Start each suggestion with ##SUGGESTION_START## and end with ##SUGGESTION_END##

        Do not include labels like "positive", "negative", or "neutral" in the output. Keep suggestions concise but informative.
        Respond in the ${this.settings.language_name} language.

        Content to analyze:
        """${this.pdfContent}"""`;this.running=!0;let r=Object.assign({},this.emailData);r.mode="fileAnalysis",console.log("Getting file analysis..."),await this.aiChat(s,this.settings.ai_model,"ai_single",e,!0,!0,null,!1,r),console.log("File analysis completed.")}catch(t){console.error("Error in getFileAnalysis:",t),this.notify.error(this.__("Error happened while analyzing file content"))}finally{this.isGettingSuggestions=this.isGettingSummary=!1,this.running=!1}},initializeContainer(){console.log("Initializing container..."),this.canvasContainer=document.getElementById("pdf-canvas-container"),this.canvasContainer?(console.log("Container found"),this.containerMounted=!0):console.log("Container not found")},async handleFileUpload(e){const t=e.target.files[0];if(!t)return;if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation"].includes(t.type)){this.notify.error(this.__("Please upload a PDF, Word, Excel, or PowerPoint file"));return}await this.cleanupResources(),this.newChat(null,"ai_single",b.SHA1("chat_with_file")),this.isLoading=!0,this.error=null,this.fileName=t.name;try{console.log("Loading document file..."),this.isConverting=!t.type.includes("pdf");const r=10*1024*1024;if(t.size>r){this.notify.error(this.__("File is too large. Please upload a smaller file."));return}await this.fileProcessor.loadPDF(t),this.isConverting=!1,console.log("Document loaded successfully");const i=this.fileProcessor.getPdfDoc();if(i){let o="";const p=i.numPages,_=Math.ceil(p/5);for(let f=0;f<_;f++){const k=f*5+1,v=Math.min((f+1)*5,p);for(let u=k;u<=v;u++){const P=await i.getPage(u),n=await P.getTextContent(),x=n.items.map(S=>S.str).join(" ");o+=x+`

`,await P.cleanup(),n.items.length=0,Object.keys(n).forEach(S=>{n[S]=null})}await new Promise(u=>setTimeout(u,0))}this.pdfContent=o,this.context_data={mode:"chatwithfile",fileName:`${this.fileName} - Chat with File`,contextData:{context:this.pdfContent}}}if(this.totalPages=this.fileProcessor.numPages,console.log("Total pages:",this.totalPages),this.totalPages===0)throw new Error("No pages found in document");this.currentPage=1,this.fileUploaded=!0,await this.renderThumbnailsWithMemoryManagement(),await this.$nextTick(),await this.initializeContainerWithRetry(),await this.getFileAnalysis(),await b.Browser().storage.local.set({current_file_name:t.name}),console.log("Starting page render..."),await this.renderCurrentPage(),console.log("Page rendered successfully")}catch(r){console.error("Error processing file:",r),this.error=r.message||this.__("Error processing file"),await this.cleanupResources()}finally{console.log("Setting isLoading to false"),this.isLoading=!1,this.isConverting=!1;const r=e.target;r.value=""}},async renderThumbnailsWithMemoryManagement(){this.thumbnailsLoading=!0,this.thumbnails=[];try{for(let t=1;t<=this.totalPages;t+=5){const s=Math.min(t+5-1,this.totalPages),r=[];for(let i=t;i<=s;i++)r.push(this.fileProcessor.renderPage(i,1,!0).then(o=>{if(o&&o.container){const c=o.container.querySelector("img");c&&(this.thumbnails[i-1]=c.src),o.container.remove()}}));await Promise.all(r),await new Promise(i=>setTimeout(i,0))}}catch(e){console.error("Error generating thumbnails:",e)}finally{this.thumbnailsLoading=!1}},async initializeContainerWithRetry(e=5,t=100){let s=0;for(;!this.containerMounted&&s<e;)console.log(`Attempt ${s+1} to find container`),this.initializeContainer(),this.containerMounted||await new Promise(r=>setTimeout(r,t)),s++;if(!this.canvasContainer)throw new Error(this.__("PDF viewer container not found after multiple attempts"))},async renderCurrentPage(){if(this.containerMounted||this.initializeContainer(),!this.canvasContainer){this.error=this.__("PDF viewer container not found");return}try{console.log("Rendering page",this.currentPage),this.canvasContainer.innerHTML="";const e=await this.fileProcessor.renderPage(this.currentPage);if(!e||!e.container)throw new Error(this.__("Failed to render PDF page"));this.pdfContainer=e.container;const t=document.createElement("div");t.className="aifnmjmchg-inline-block",t.style.position="relative",t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,e.container.style.width=`${e.width}px`,e.container.style.height=`${e.height}px`,t.appendChild(e.container),this.canvasContainer.appendChild(t);const s=e.container.querySelector(".pdf-text-layer");if(s){s.style.width=`${e.width}px`,s.style.height=`${e.height}px`;const r=this.currentZoom;s.style.transform=`scale(${r})`,s.querySelectorAll("span").forEach(o=>{const c=window.getComputedStyle(o),p=parseFloat(c.fontSize),_=Math.round(p*r*100)/100;o.style.fontSize=`${_}px`;const f=o.textContent||"",v=document.createElement("canvas").getContext("2d");if(v){v.font=`${_}px ${c.fontFamily}`;const u=v.measureText(f);o.style.width=`${u.width}px`;const P=Math.ceil(u.actualBoundingBoxAscent+u.actualBoundingBoxDescent);o.style.height=`${P}px`}})}console.log("Page rendered successfully")}catch(e){console.error("Error rendering page:",e),this.error=e.message||this.__("Error rendering page"),this.isLoading=!1}},async nextPage(){this.currentPage<this.totalPages&&(this.currentPage=Math.min(this.totalPages,Number(this.currentPage)+1),await this.renderCurrentPage())},async previousPage(){this.currentPage>1&&(this.currentPage=Math.max(1,Number(this.currentPage)-1),await this.renderCurrentPage())},async setPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=Number(e),await this.renderCurrentPage())},zoomIn(){this.currentZoom=Math.min(3,this.currentZoom+.25),document.documentElement.style.setProperty("--pdf-zoom-level",this.currentZoom)},zoomOut(){this.currentZoom=Math.max(.5,this.currentZoom-.25),document.documentElement.style.setProperty("--pdf-zoom-level",this.currentZoom)},handlePageInput(e){const t=e.target,s=parseInt(t.value);isNaN(s)||(s<1?(t.value="1",this.setPage(1)):s>this.totalPages?(t.value=this.totalPages.toString(),this.setPage(this.totalPages)):this.setPage(s))},handlePageInputChange(e){const t=e.target;t.value||(t.value=this.currentPage.toString()),this.handlePageInput(e)},toggleThumbnails(){this.showThumbnails=!this.showThumbnails,this.canvasContainer&&(this.canvasContainer.className=this.canvasContainer.className.replace(/aifnmjmchg-pl-\d+/,""),this.canvasContainer.classList.add(this.showThumbnails?"aifnmjmchg-pl-28":"aifnmjmchg-pl-4"))},toggleRightPanel(){this.showRightPanel=!this.showRightPanel;const e=this.$el.querySelector(".aifnmjmchg-flex-col");e&&(e.className=e.className.replace(/aifnmjmchg-w-\d+\/\d+/,""),e.classList.add(this.showRightPanel?"aifnmjmchg-w-3/4":"aifnmjmchg-w-full"))}},watch:{currentPage(e,t){console.log("Page changed from",t,"to",e)},fileUploaded(e){e&&this.$nextTick(()=>{this.initializeContainer()})},isLoading(e){console.log("Loading state changed:",e)}},beforeUnmount(){this.fileProcessor.cleanup()}},W={id:"aifnmjmchg-container",class:"full-screen aifnmjmchg-block aifnmjmchg-overflow-y-hidden"},B={class:"aifnmjmchg-h-[var(--aifnmjmchg-height-100)] aifnmjmchg-w-full aifnmjmchg-h-dvh"},G={class:"aifnmjmchg-container aifnmjmchg-align-top aifnmjmchg-container-md lg:aifnmjmchg-p-2 aifnmjmchg-w-full aifnmjmchg-max-w-full aifnmjmchg-h-full"},H={class:"aifnmjmchg-flex aifnmjmchg-flex-row-reverse lg:aifnmjmchg-flex-row aifnmjmchg-h-full"},O={key:0,class:"aifnmjmchg-top-0 aifnmjmchg-left-0 aifnmjmchg-right-0 aifnmjmchg-bg-[var(--aifnmjmchg-option-card-bg-color)] aifnmjmchg-border-b aifnmjmchg-border-[var(--aifnmjmchg-border-color)] aifnmjmchg-rounded-r-none lg:aifnmjmchg-rounded-r-lg aifnmjmchg-rounded-l-lg"},j={class:"aifnmjmchg-flex aifnmjmchg-items-center aifnmjmchg-gap-2 aifnmjmchg-p-4"},q={class:"aifnmjmchg-flex aifnmjmchg-items-center aifnmjmchg-gap-2 aifnmjmchg-ml-auto"},K=["disabled"],V={class:"aifnmjmchg-text-sm aifnmjmchg-text-gray-600"},Y=["disabled"],X={class:"aifnmjmchg-flex aifnmjmchg-items-center aifnmjmchg-gap-2"},J=["disabled"],Q={class:"aifnmjmchg-flex aifnmjmchg-items-center aifnmjmchg-gap-1"},$=["value","max"],tt={class:"aifnmjmchg-text-sm aifnmjmchg-text-gray-600"},et=["disabled"],it={key:1,class:"aifnmjmchg-absolute aifnmjmchg-left-2 aifnmjmchg-top-[76px] aifnmjmchg-bottom-0 aifnmjmchg-w-24 aifnmjmchg-overflow-y-auto aifnmjmchg-border-r aifnmjmchg-border-[var(--aifnmjmchg-border-color)] aifnmjmchg-z-10 aifnmjmchg-bg-[var(--aifnmjmchg-option-card-bg-color)] aifnmjmchg-thumbnail-container aifnmjmchg-hidden lg:aifnmjmchg-block"},at={key:0,class:"aifnmjmchg-p-4 aifnmjmchg-text-center"},ot={key:1,class:"aifnmjmchg-p-2 aifnmjmchg-space-y-2 aifnmjmchg-bg-[var(--aifnmjmchg-option-card-bg-color)] aifnmjmchg-h-full"},nt=["onClick"],st={class:"aifnmjmchg-bg-white aifnmjmchg-p-1 aifnmjmchg-rounded aifnmjmchg-shadow-sm"},rt={class:"aifnmjmchg-text-xs aifnmjmchg-text-gray-700 aifnmjmchg-font-medium aifnmjmchg-mb-1"},lt={class:"thumbnail-container aifnmjmchg-overflow-hidden aifnmjmchg-rounded"},ct=["src"],ht={key:2,class:"aifnmjmchg-absolute aifnmjmchg-inset-0 aifnmjmchg-flex aifnmjmchg-flex-col aifnmjmchg-items-center aifnmjmchg-justify-center aifnmjmchg-bg-[var(--aifnmjmchg-option-card-bg-color)] aifnmjmchg-z-50"},dt={class:"aifnmjmchg-flex aifnmjmchg-flex-col aifnmjmchg-items-center aifnmjmchg-gap-4"},ut={class:"aifnmjmchg-relative"},gt={class:"aifnmjmchg-absolute aifnmjmchg-inset-0 aifnmjmchg-flex aifnmjmchg-items-center aifnmjmchg-justify-center aifnmjmchg-animate-spin"},pt={class:"aifnmjmchg-text-center"},mt={class:"aifnmjmchg-text-lg aifnmjmchg-font-semibold aifnmjmchg-text-white"},ft={class:"aifnmjmchg-text-sm aifnmjmchg-text-gray-500 aifnmjmchg-mt-2"},wt={key:3,class:"aifnmjmchg-inset-0 aifnmjmchg-flex aifnmjmchg-flex-col aifnmjmchg-items-center aifnmjmchg-justify-center aifnmjmchg-p-8"},_t={class:"aifnmjmchg-text-center aifnmjmchg-mb-6"},vt={class:"aifnmjmchg-text-2xl aifnmjmchg-font-semibold aifnmjmchg-mb-2"},yt={class:"aifnmjmchg-text-gray-600"},Pt={key:0,class:"aifnmjmchg-text-red-500 aifnmjmchg-mt-2"},xt={class:"aifnmjmchg-cursor-pointer aifnmjmchg-text-white aifnmjmchg-px-6 aifnmjmchg-py-3 aifnmjmchg-rounded-lg aifnmjmchg-bg-[var(--aifnmjmchg-link-color)] hover:aifnmjmchg-opacity-80 aifnmjmchg-transition-colors"},bt=["accept"],Ct={key:0,class:"aifnmjmchg-w-[1px] aifnmjmchg-h-full aifnmjmchg-bg-[var(--aifnmjmchg-border-color)]"},kt={key:1,class:"aifnmjmchg-w-1/4 aifnmjmchg-bg-[var(--aifnmjmchg-option-card-bg-color)] aifnmjmchg-p-1 lg:aifnmjmchg-p-3 aifnmjmchg-rounded-l-none lg:aifnmjmchg-rounded-r-lg aifnmjmchg-rounded-r-lg"};function St(e,t,s,r,i,o){const c=w("font-awesome-icon"),p=w("HoverPopover"),_=w("svg-logo"),f=w("AppLogo"),k=w("ChatWithFileChatSection"),v=w("make-a-review"),u=w("InviteFriends"),P=w("MakeAReviewModal");return d(),h(F,null,[t[14]||(t[14]=a("link",{href:"https://fonts.googleapis.com/css2?family=Changa:wght@200..800&display=swap",rel:"stylesheet"},null,-1)),a("div",W,[a("div",B,[a("div",G,[a("div",H,[a("div",{class:m(["aifnmjmchg-flex aifnmjmchg-flex-col",[i.showRightPanel&&i.fileUploaded?"aifnmjmchg-w-3/4":"aifnmjmchg-w-full","aifnmjmchg-bg-[var(--aifnmjmchg-option-card-bg-color)]","aifnmjmchg-rounded-l-lg aifnmjmchg-justify-center"]])},[i.fileUploaded&&!i.isLoading?(d(),h("div",O,[a("div",j,[a("button",{onClick:t[0]||(t[0]=(...n)=>o.resetState&&o.resetState(...n)),class:"aifnmjmchg-flex aifnmjmchg-items-center aifnmjmchg-gap-1 aifnmjmchg-text-gray-600 hover:aifnmjmchg-text-gray-800"},[l(c,{icon:"fa-solid fa-arrow-left",class:"aifnmjmchg-w-5 aifnmjmchg-h-5"}),a("span",null,g(i.fileName),1)]),a("div",q,[l(p,{"popover-text":e.__("Hide/Show Thumbnails")},{default:T(()=>[a("button",{onClick:t[1]||(t[1]=(...n)=>o.toggleThumbnails&&o.toggleThumbnails(...n)),class:m(["aifnmjmchg-p-2 aifnmjmchg-rounded hover:aifnmjmchg-bg-[var(--aifnmjmchg-link-color)] aifnmjmchg-text-gray-600",{"aifnmjmchg-bg-[var(--aifnmjmchg-link-color)]":i.showThumbnails}])},[l(c,{icon:"fa-solid fa-align-left",class:"aifnmjmchg-w-5 aifnmjmchg-h-5"})],2)]),_:1},8,["popover-text"]),l(p,{"popover-text":e.__("Hide/Show Sidebar")},{default:T(()=>[a("button",{onClick:t[2]||(t[2]=(...n)=>o.toggleRightPanel&&o.toggleRightPanel(...n)),class:m(["aifnmjmchg-p-2 aifnmjmchg-rounded hover:aifnmjmchg-bg-[var(--aifnmjmchg-link-color)] aifnmjmchg-text-gray-600",{"aifnmjmchg-bg-[var(--aifnmjmchg-link-color)]":i.showRightPanel}])},[l(c,{icon:"fa-solid fa-align-right",class:"aifnmjmchg-w-5 aifnmjmchg-h-5"})],2)]),_:1},8,["popover-text"]),l(p,{"popover-text":e.__("Zoom Out")},{default:T(()=>[a("button",{onClick:t[3]||(t[3]=(...n)=>o.zoomOut&&o.zoomOut(...n)),class:m(["aifnmjmchg-p-2 aifnmjmchg-rounded hover:aifnmjmchg-bg-[var(--aifnmjmchg-link-color)] aifnmjmchg-text-gray-600",{"aifnmjmchg-opacity-50":i.currentZoom<=.5}]),disabled:i.currentZoom<=.5},[l(_,{name:"zoom_out",class:"aifnmjmchg-w-20 aifnmjmchg-h-20"})],10,K)]),_:1},8,["popover-text"]),a("span",V,g(Math.round(i.currentZoom*100))+"%",1),l(p,{"popover-text":e.__("Zoom In")},{default:T(()=>[a("button",{onClick:t[4]||(t[4]=(...n)=>o.zoomIn&&o.zoomIn(...n)),class:m(["aifnmjmchg-p-2 aifnmjmchg-rounded hover:aifnmjmchg-bg-[var(--aifnmjmchg-link-color)] aifnmjmchg-text-gray-600",{"aifnmjmchg-opacity-50":i.currentZoom>=3}]),disabled:i.currentZoom>=3},[l(_,{name:"zoom_in",class:"aifnmjmchg-w-5 aifnmjmchg-h-5"})],10,Y)]),_:1},8,["popover-text"])]),a("div",X,[a("span",{onClick:t[5]||(t[5]=(...n)=>o.previousPage&&o.previousPage(...n)),disabled:i.currentPage===1,class:m(["aifnmjmchg-p-2 hover:aifnmjmchg-bg-[var(--aifnmjmchg-link-color)] aifnmjmchg-rounded aifnmjmchg-cursor-pointer",{"aifnmjmchg-opacity-50 aifnmjmchg-cursor-not-allowed":i.currentPage===1}])},[l(c,{icon:"fa-solid fa-arrow-left",class:"aifnmjmchg-w-5 aifnmjmchg-h-5"})],10,J),a("div",Q,[a("input",{type:"number",value:i.currentPage,onInput:t[6]||(t[6]=(...n)=>o.handlePageInput&&o.handlePageInput(...n)),onChange:t[7]||(t[7]=(...n)=>o.handlePageInputChange&&o.handlePageInputChange(...n)),onBlur:t[8]||(t[8]=(...n)=>o.handlePageInputChange&&o.handlePageInputChange(...n)),class:"aifnmjmchg-w-16 aifnmjmchg-text-center aifnmjmchg-border aifnmjmchg-border-gray-300 aifnmjmchg-rounded aifnmjmchg-px-2 aifnmjmchg-py-1 aifnmjmchg-text-sm focus:aifnmjmchg-outline-none focus:aifnmjmchg-ring-1 focus:aifnmjmchg-ring-[var(--aifnmjmchg-tab-menu-active-bg-color)] input-without-arrows",min:1,max:i.totalPages},null,40,$),a("span",tt,g(e.__("of"))+" "+g(i.totalPages),1)]),a("span",{onClick:t[9]||(t[9]=(...n)=>o.nextPage&&o.nextPage(...n)),disabled:i.currentPage===i.totalPages,class:m(["aifnmjmchg-p-2 hover:aifnmjmchg-bg-[var(--aifnmjmchg-link-color)] aifnmjmchg-rounded aifnmjmchg-cursor-pointer",{"aifnmjmchg-opacity-50 aifnmjmchg-cursor-not-allowed":i.currentPage===i.totalPages}])},[l(c,{icon:"fa-solid fa-arrow-right",class:"aifnmjmchg-w-5 aifnmjmchg-h-5"})],10,et)])])])):y("",!0),i.fileUploaded&&!i.isLoading&&i.showThumbnails?(d(),h("div",it,[i.thumbnailsLoading?(d(),h("div",at,t[11]||(t[11]=[a("div",{class:"aifnmjmchg-animate-spin aifnmjmchg-h-6 aifnmjmchg-w-6 aifnmjmchg-border-2 aifnmjmchg-border-t-transparent aifnmjmchg-rounded-full aifnmjmchg-mx-auto"},null,-1)]))):(d(),h("div",ot,[(d(!0),h(F,null,R(i.thumbnails,(n,x)=>(d(),h("div",{key:x,class:m(["aifnmjmchg-cursor-pointer aifnmjmchg-transition-all aifnmjmchg-duration-200 hover:aifnmjmchg-transform hover:aifnmjmchg-scale-105 aifnmjmchg-rounded-lg",{"aifnmjmchg-ring-4 aifnmjmchg-ring-[var(--aifnmjmchg-tab-menu-active-bg-color)]":i.currentPage===x+1}]),onClick:S=>o.setPage(x+1)},[a("div",st,[a("div",rt,g(x+1),1),a("div",lt,[a("img",{src:n,class:"aifnmjmchg-w-full aifnmjmchg-h-full aifnmjmchg-object-contain",alt:"Page thumbnail"},null,8,ct)])])],10,nt))),128))]))])):y("",!0),i.isLoading?(d(),h("div",ht,[a("div",dt,[a("div",ut,[t[12]||(t[12]=a("div",{class:"aifnmjmchg-w-16 aifnmjmchg-h-16 aifnmjmchg-border-4 aifnmjmchg-rounded-full"},null,-1)),a("div",gt,[l(f,{class:"aifnmjmchg-w-16 aifnmjmchg-h-16"})])]),a("div",pt,[a("p",mt,g(o.loadingMessage),1),a("p",ft,g(e.__("Please wait while we process your file...")),1)])])])):y("",!0),a("div",{id:"pdf-canvas-container",class:m(["aifnmjmchg-flex-1 aifnmjmchg-overflow-auto aifnmjmchg-p-4 aifnmjmchg-flex aifnmjmchg-justify-center aifnmjmchg-bg-gray-50 aifnmjmchg-pl-28",{"aifnmjmchg-hidden":!i.fileUploaded||i.isLoading}])},null,2),!i.fileUploaded&&!i.isLoading?(d(),h("div",wt,[a("div",_t,[a("h2",vt,g(e.__("Upload Your File")),1),a("p",yt,g(e.__("Select a PDF, Word, Presentation, or Excel file to get started")),1),i.error?(d(),h("p",Pt,g(e.__("Error Occurred While Uploading File")),1)):y("",!0)]),a("label",xt,[A(g(e.__("Choose File"))+" ",1),a("input",{type:"file",accept:o.acceptedFileTypes,class:"aifnmjmchg-hidden",onChange:t[10]||(t[10]=(...n)=>o.handleFileUpload&&o.handleFileUpload(...n))},null,40,bt)])])):y("",!0)],2),i.showRightPanel&&i.fileUploaded?(d(),h("div",Ct)):y("",!0),i.showRightPanel&&i.fileUploaded?(d(),h("div",kt,[l(k,{showUploadAPdf:!1,showReadPage:!1,uploadAnImage:!1,showSuggestions:!1}),l(v),l(u)])):y("",!0)])]),t[13]||(t[13]=a("textarea",{id:"aifnmjmchg_clipboard",style:{position:"fixed",bottom:"-10px","z-index":"-1",height:"1px",width:"1px","font-size":"0.1px"}},null,-1)),l(P)])])],64)}const L=N(Z,[["render",St]]);b.setSidebar("#aifnmjmchg-chat-with-file-full-screen","aifnmjmchg-chat-with-file");b.addLoading();C.template=L;C.methods=U;typeof C.components>"u"&&(C.components=M);C.components=M;var E=window.aiVueApp=I(L,{type:"ChatWithFile"});E.mount("#aifnmjmchg-chat-with-file");if(z){let e=Object.keys(z);e&&e.forEach(t=>{E.component(t,z[t])})}let Tt=document==null?void 0:document.querySelector("#aifnmjmchg-sidebar");b.resizeBorder(Tt,440);
