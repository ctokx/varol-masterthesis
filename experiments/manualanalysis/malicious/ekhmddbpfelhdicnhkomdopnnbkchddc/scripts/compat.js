"use strict";(function(){const b="gm",I="AgYPAAMJBR0BCAsFAwQEAw8GCAADAhcDCQ8MDg8JAw4=",c=A(location.hostname),l=p(location.hostname),r=P(location.hostname,location.pathname),w=l||c||r,d=window.fetch,F=window.showOpenFilePicker;window.consoleLog=window.console.log,window.consoleError=window.console.error,window.geminiVisibilityState=document.visibilityState;const m=window.requestAnimationFrame,f=window.cancelAnimationFrame,u=w,g=c||r;window.addEventListener("visibilitychange",e=>{window.geminiVisibilityState=window.geminiVisibilityState==="visible"?"hidden":"visible",u&&(e.stopImmediatePropagation(),e.preventDefault())},!0),u&&(g&&(window.requestAnimationFrame=e=>{if(document.doubaoVisibilityState==="visible")return m(e);if(window.setPreciseTimeout)window.setPreciseTimeout(e,60);else return setTimeout(e,60)},window.cancelAnimationFrame=e=>document.doubaoVisibilityState==="visible"?f(e):window.clearPreciseTimeout?window.clearPreciseTimeout(e):clearTimeout(e)),window.addEventListener("pagehide",e=>{e.stopImmediatePropagation(),e.preventDefault()},!0),window.addEventListener("pageshow",e=>{e.stopImmediatePropagation(),e.preventDefault()},!0),window.addEventListener("pagereveal",e=>{e.stopImmediatePropagation(),e.preventDefault()},!0),Object.defineProperty(document,"visibilityState",{get(){return"visible"},configurable:!0}),Object.defineProperty(document,"hidden",{get(){return!1},configurable:!0}),document.hasFocus=()=>!0);function h(){let e,i,t=!1;return{promise:new Promise((s,n)=>{e=(...o)=>{t=!0,s(...o)},i=(...o)=>{t=!0,n(...o)}}),resolve:e,reject:i,done:t}}window.geminiUserDefer=h(),setTimeout(()=>{window.geminiUserDefer.resolve(null)},30*1e3);function p(e){return e==="gemini.google.com"}function A(e){return e==="aistudio.google.com"}function P(e,i){return e==="labs.google"&&i.startsWith("/fx/")&&i.includes("/tools/flow")}function _(e){return typeof e[0]=="string"?[e[0],e[1]]:"url"in e[0]?[e[0].url,e[0]]:"href"in e[0]?[e[0].href,e[1]]:[e[0],e[1]]}function v(e){if(typeof e=="string"){let i=e;return/^\//.test(e)&&(i=`https://${location.hostname}${i}`),new URL(i).pathname}else return""}r&&(window.fetch=function(){const e=[].slice.call(arguments),t=_(e)[0],a=v(t),s=r&&/^\/v(\d+)\/credits/.test(a);return d.apply(this,e).then(n=>(n.ok&&s&&n.clone().json().then(o=>{window.geminiUserPaygateTier=o?.userPaygateTier||""}),n))})})();
