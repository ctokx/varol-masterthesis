function e(){const e=document.createElement("div");e.innerHTML=`<div class="overlay">\n                      <div class="popup">\n                          <div class="side-by-side">\n                              <img src="./images/icon_48x48.png" alt="Icon">\n                              <h1>${chrome.i18n.getMessage("request_perms_popup_title")}</h1>\n                          </div>\n                          <p>${chrome.i18n.getMessage("request_perms_popup_description")}</p>\n                          <a href="https://scripts.green/more-about-green-mode/" target="_blank">${chrome.i18n.getMessage("request_perms_popup_learn_more")}</a>\n                          <div class="buttons">\n                              <button id="allow-greenmode" class="allow">${chrome.i18n.getMessage("request_perms_popup_allow_button")}</button>\n                              <button id="decline-greenmode" class="deny">${chrome.i18n.getMessage("request_perms_popup_deny_button")}</button>\n                          </div>\n                      </div>\n                    </div>`,document.body.appendChild(e),document.getElementById("allow-greenmode").addEventListener("click",(async function(){chrome.runtime.sendMessage({permAction:"allowGreenMode"},(function(e){if(e.granted){const e=document.createElement("div");e.innerHTML=`<div class="overlay">\n                          <div class="popup">\n                              <div class="side-by-side">\n                                  <img src="./images/icon_48x48.png" alt="Icon">\n                                  \x3c!-- <img src="./images/icon_48x48.png" alt="Icon"> --\x3e\n                                  <h1>${chrome.i18n.getMessage("perms_granted_popup_title")}</h1>\n                              </div>\n                              <p>${chrome.i18n.getMessage("perms_granted_popup_description")}</p>\n                              <div class="buttons">\n                                  <button id="close-greenmode-allowed-popup" class="close">${chrome.i18n.getMessage("perms_granted_popup_close_button")}</button>\n                              </div>\n                          </div>\n                        </div>`,document.body.appendChild(e),document.getElementById("close-greenmode-allowed-popup").addEventListener("click",(()=>{e.style.display="none",window.location.href="welcome.html"}))}})),e.style.display="none"})),document.getElementById("decline-greenmode").addEventListener("click",(function(){chrome.runtime.sendMessage({permAction:"declineGreenMode"}),e.style.display="none";const n=document.createElement("div");n.innerHTML=`<div class="overlay">\n                        <div class="popup">\n                            <div class="side-by-side">\n                                <img src="./images/icon_48x48.png" alt="Icon">\n                                \x3c!-- <img src="./images/icon_48x48.png" alt="Icon"> --\x3e\n                                <h1>${chrome.i18n.getMessage("perms_denied_popup_title")}</h1>\n                            </div>\n                            <p>${chrome.i18n.getMessage("perms_denied_popup_description")}</p>\n                            <div class="buttons">\n                                <button id="close-greenmode-denied-popup" class="close">${chrome.i18n.getMessage("perms_denied_popup_close_button")}</button>\n                            </div>\n                        </div>\n                      </div>`,document.body.appendChild(n),document.getElementById("close-greenmode-denied-popup").addEventListener("click",(function(){n.style.display="none",window.location.href="welcome.html"}))}))}chrome.runtime.sendMessage({permAction:"checkIfUserHasAllowedGreenMode"},(function(n){const o=n.permStatus;null===o&&e()}));