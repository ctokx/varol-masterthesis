function initiate(){chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}).catch((e=>console.error(e))),chrome.runtime.onInstalled.addListener((()=>{chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:[1],addRules:[{id:1,priority:1,action:{type:"modifyHeaders",responseHeaders:[{header:"content-security-policy",operation:"remove"},{header:"x-frame-options",operation:"remove"},{header:"frame-options",operation:"remove"},{header:"frame-ancestors",operation:"remove"},{header:"X-Content-Type-Options",operation:"remove"},{header:"access-control-allow-origin",operation:"set",value:"*"}]},condition:{resourceTypes:["main_frame","sub_frame"]}}]})})),chrome.tabs.onUpdated.addListener(((e,t,o)=>{o.url?.includes("chat.deepseek.com")&&"complete"===t.status&&chrome.scripting.executeScript({target:{tabId:e,allFrames:!0},files:["injectDeepSeek.js"],world:"MAIN"}).then((()=>{console.log("Script injected successfully")})).catch((e=>{console.error("Injection failed:",e)}))})),chrome.runtime.onMessage.addListener(((e,t,o)=>{if("updateShortcut"===e.action)return chrome.commands.update({name:"_execute_action",shortcut:e.shortcut},(()=>{chrome.runtime.lastError?o({success:!1,error:chrome.runtime.lastError.message}):o({success:!0})})),!0})),chrome.runtime.onMessage.addListener(((e,t,o)=>{if("getShortcut"===e.action)return chrome.commands.getAll((e=>{const t=e.find((e=>"_execute_action"===e.name));o({shortcut:t?t.shortcut:"Alt+Q"})})),!0})),chrome.runtime.onInstalled.addListener((function(e){"install"===e.reason&&chrome.tabs.create({url:"https://swaponline.notion.site/Google-AI-is-installed-1bb91437ef0a80bf8600d3c851771a90?pvs=73"})}));chrome.runtime.setUninstallURL("https://forms.gle/HtAMmbJRYxfekfqd9")}initiate();
